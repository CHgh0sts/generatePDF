(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,475254,258541,e=>{"use strict";var t=e.i(271645);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:d="",children:n,iconNode:o,...c},u)=>(0,t.createElement)("svg",{ref:u,...a,width:s,height:s,stroke:e,strokeWidth:l?24*Number(i)/Number(s):i,className:r("lucide",d),...!n&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...o.map(([e,s])=>(0,t.createElement)(e,s)),...Array.isArray(n)?n:[n]]));e.s(["default",()=>i],258541);let l=(e,a)=>{let l=(0,t.forwardRef)(({className:l,...d},n)=>(0,t.createElement)(i,{ref:n,iconNode:a,className:r(`lucide-${s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...d}));return l.displayName=s(e),l};e.s(["default",()=>l],475254)},603908,e=>{"use strict";let t=(0,e.i(475254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["default",()=>t])},107233,e=>{"use strict";var t=e.i(603908);e.s(["Plus",()=>t.default])},727612,612329,e=>{"use strict";let t=(0,e.i(475254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["default",()=>t],612329),e.s(["Trash2",()=>t],727612)},181692,e=>{"use strict";let t=(0,e.i(475254).default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);e.s(["default",()=>t])},834161,e=>{"use strict";var t=e.i(181692);e.s(["Key",()=>t.default])},774154,e=>{"use strict";let t=(0,e.i(475254).default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);e.s(["default",()=>t])},938281,e=>{"use strict";let t=(0,e.i(475254).default)("power-off",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["default",()=>t])},823429,e=>{"use strict";let t=(0,e.i(475254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["default",()=>t])},991124,e=>{"use strict";let t=(0,e.i(475254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["default",()=>t])},688511,174886,e=>{"use strict";var t=e.i(823429);e.s(["Edit",()=>t.default],688511);var s=e.i(991124);e.s(["Copy",()=>s.default],174886)},674109,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(522016),a=e.i(107233),i=e.i(688511),l=e.i(727612),d=e.i(174886),n=e.i(834161),o=e.i(774154),o=o,c=e.i(938281),c=c;function u(){let[e,u]=(0,s.useState)([]),[x,h]=(0,s.useState)(!0);(0,s.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await fetch("/api/routes"),t=await e.json();u(t)}catch(e){console.error("Erreur chargement routes:",e)}finally{h(!1)}},m=async e=>{if(confirm("Supprimer cette route ?"))try{await fetch(`/api/routes/${e}`,{method:"DELETE"}),p()}catch(e){console.error("Erreur suppression:",e)}},y=async(e,t)=>{try{await fetch(`/api/routes/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!t})}),p()}catch(e){console.error("Erreur toggle:",e)}};return(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Routes API"}),(0,t.jsx)("p",{className:"text-gray-700 mt-2",children:"Créez des routes personnalisées pour générer des PDF depuis des sites externes"})]}),(0,t.jsxs)(r.default,{href:"/dashboard/generateroute/new",className:"px-6 py-3 bg-blue-600 text-white rounded-lg flex items-center gap-2 hover:bg-blue-700 shadow-lg transition-all hover:-translate-y-0.5",children:[(0,t.jsx)(a.Plus,{size:20}),"Nouvelle Route"]})]}),x?(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto"})}):0===e.length?(0,t.jsx)("div",{className:"bg-white rounded-xl border-2 border-dashed border-gray-300 p-12 text-center",children:(0,t.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(a.Plus,{size:32,className:"text-gray-400"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Aucune route créée"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Créez votre première route API pour permettre à des sites externes de générer des PDF"}),(0,t.jsxs)(r.default,{href:"/dashboard/generateroute/new",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,t.jsx)(a.Plus,{size:20}),"Créer ma première route"]})]})}):(0,t.jsx)("div",{className:"grid gap-4",children:e.map(e=>(0,t.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-lg transition-all",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:e.name}),e.apiKey&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded flex items-center gap-1",children:[(0,t.jsx)(n.Key,{size:12}),"Sécurisée"]}),(0,t.jsxs)("button",{onClick:()=>y(e.id,e.isActive),className:`px-2 py-1 text-xs font-medium rounded flex items-center gap-1 ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[e.isActive?(0,t.jsx)(o.default,{size:12}):(0,t.jsx)(c.default,{size:12}),e.isActive?"Active":"Inactive"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Modèle:"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:e.template.name})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Slug:"}),(0,t.jsx)("code",{className:"px-2 py-1 bg-gray-100 rounded text-gray-900 font-mono text-xs",children:e.slug})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Type de réponse:"}),(0,t.jsx)("span",{className:"font-medium text-gray-900 capitalize",children:e.responseType})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>{var t,s;let r,a;return t=e.slug,s=e.apiKey,r=window.location.origin,a=`${r}/api/generate/${t}${s?`?apiKey=${s}`:""}`,void(navigator.clipboard.writeText(a),alert("URL copiée dans le presse-papier !"))},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Copier l'URL",children:(0,t.jsx)(d.Copy,{size:20})}),(0,t.jsx)(r.default,{href:`/dashboard/generateroute/${e.id}`,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Modifier",children:(0,t.jsx)(i.Edit,{size:20})}),(0,t.jsx)("button",{onClick:()=>m(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:(0,t.jsx)(l.Trash2,{size:20})})]})]})},e.id))})]})}e.s(["default",()=>u],674109)}]);