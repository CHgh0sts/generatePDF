(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37357,e=>{"use strict";let t,r;var n,l,a,i,s,o,d,u,c,h,g,f,p,x,m,b,y,v,w,j=e.i(43476),N=e.i(71645),C=e.i(74080);let k="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function E(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function S(e){return"nodeType"in e}function D(e){var t,r;return e?E(e)?e:S(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function M(e){let{Document:t}=D(e);return e instanceof t}function R(e){return!E(e)&&e instanceof D(e).HTMLElement}function z(e){return e instanceof D(e).SVGElement}function T(e){return e?E(e)?e.document:S(e)?M(e)?e:R(e)||z(e)?e.ownerDocument:document:document:document}let A=k?N.useLayoutEffect:N.useEffect;function L(e){let t=(0,N.useRef)(e);return A(()=>{t.current=e}),(0,N.useCallback)(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)},[])}function O(e,t){void 0===t&&(t=[e]);let r=(0,N.useRef)(e);return A(()=>{r.current!==e&&(r.current=e)},t),r}function F(e,t){let r=(0,N.useRef)();return(0,N.useMemo)(()=>{let t=e(r.current);return r.current=t,t},[...t])}function H(e){let t=L(e),r=(0,N.useRef)(null),n=(0,N.useCallback)(e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e},[]);return[r,n]}function P(e){let t=(0,N.useRef)();return(0,N.useEffect)(()=>{t.current=e},[e]),t.current}let I={};function U(e,t){return(0,N.useMemo)(()=>{if(t)return t;let r=null==I[e]?0:I[e]+1;return I[e]=r,e+"-"+r},[e,t])}function B(e){return function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),l=1;l<r;l++)n[l-1]=arguments[l];return n.reduce((t,r)=>{for(let[n,l]of Object.entries(r)){let r=t[n];null!=r&&(t[n]=r+e*l)}return t},{...t})}}let $=B(1),W=B(-1);function X(e){if(!e)return!1;let{KeyboardEvent:t}=D(e.target);return t&&e instanceof t}function Y(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=D(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let q=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[q.Translate.toString(e),q.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),K="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",V={display:"none"};function J(e){let{id:t,value:r}=e;return N.default.createElement("div",{id:t,style:V},r)}function G(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;return N.default.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":n,"aria-atomic":!0},r)}let _=(0,N.createContext)(null),Z={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Q={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ee(e){var t;let r,{announcements:n=Q,container:l,hiddenTextDescribedById:a,screenReaderInstructions:i=Z}=e,{announce:s,announcement:o}=function(){let[e,t]=(0,N.useState)("");return{announce:(0,N.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),d=U("DndLiveRegion"),[u,c]=(0,N.useState)(!1);if((0,N.useEffect)(()=>{c(!0)},[]),t=(0,N.useMemo)(()=>({onDragStart(e){let{active:t}=e;s(n.onDragStart({active:t}))},onDragMove(e){let{active:t,over:r}=e;n.onDragMove&&s(n.onDragMove({active:t,over:r}))},onDragOver(e){let{active:t,over:r}=e;s(n.onDragOver({active:t,over:r}))},onDragEnd(e){let{active:t,over:r}=e;s(n.onDragEnd({active:t,over:r}))},onDragCancel(e){let{active:t,over:r}=e;s(n.onDragCancel({active:t,over:r}))}}),[s,n]),r=(0,N.useContext)(_),(0,N.useEffect)(()=>{if(!r)throw Error("useDndMonitor must be used within a children of <DndContext>");return r(t)},[t,r]),!u)return null;let h=N.default.createElement(N.default.Fragment,null,N.default.createElement(J,{id:a,value:i.draggable}),N.default.createElement(G,{id:d,announcement:o}));return l?(0,C.createPortal)(h,l):h}function et(){}function er(e,t){return(0,N.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}(n=h||(h={})).DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable";let en=Object.freeze({x:0,y:0});function el(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}let ea=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,l=[];for(let e of n){let{id:n}=e,a=r.get(n);if(a){let r=function(e,t){let r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height);if(n<l&&r<a){let i=t.width*t.height,s=e.width*e.height,o=(l-n)*(a-r);return Number((o/(i+s-o)).toFixed(4))}return 0}(a,t);r>0&&l.push({id:n,data:{droppableContainer:e,value:r}})}}return l.sort(el)};function ei(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:en}let es=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((e,t)=>({...e,top:e.top+ +t.y,bottom:e.bottom+ +t.y,left:e.left+ +t.x,right:e.right+ +t.x}),{...e})};function eo(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}let ed={ignoreTransform:!1};function eu(e,t){void 0===t&&(t=ed);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:n}=D(e).getComputedStyle(e);t&&(r=function(e,t,r){let n=eo(t);if(!n)return e;let{scaleX:l,scaleY:a,x:i,y:s}=n,o=e.left-i-(1-l)*parseFloat(r),d=e.top-s-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),u=l?e.width/l:e.width,c=a?e.height/a:e.height;return{width:u,height:c,top:d,right:o+u,bottom:d+c,left:o}}(r,t,n))}let{top:n,left:l,width:a,height:i,bottom:s,right:o}=r;return{top:n,left:l,width:a,height:i,bottom:s,right:o}}function ec(e){return eu(e,{ignoreTransform:!0})}function eh(e,t){let r=[];return e?function n(l){var a,i;let s;if(null!=t&&r.length>=t||!l)return r;if(M(l)&&null!=l.scrollingElement&&!r.includes(l.scrollingElement))return r.push(l.scrollingElement),r;if(!R(l)||z(l)||r.includes(l))return r;let o=D(e).getComputedStyle(l);return(l!==e&&(void 0===(a=o)&&(a=D(l).getComputedStyle(l)),s=/(auto|scroll|overlay)/,["overflow","overflowX","overflowY"].some(e=>{let t=a[e];return"string"==typeof t&&s.test(t)}))&&r.push(l),void 0===(i=o)&&(i=D(l).getComputedStyle(l)),"fixed"===i.position)?r:n(l.parentNode)}(e):r}function eg(e){let[t]=eh(e,1);return null!=t?t:null}function ef(e){return k&&e?E(e)?e:S(e)?M(e)||e===T(e).scrollingElement?window:R(e)?e:null:null:null}function ep(e){return E(e)?e.scrollX:e.scrollLeft}function ex(e){return E(e)?e.scrollY:e.scrollTop}function em(e){return{x:ep(e),y:ex(e)}}function eb(e){return!!k&&!!e&&e===document.scrollingElement}function ey(e){let t={x:0,y:0},r=eb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},l=e.scrollTop<=t.y,a=e.scrollLeft<=t.x;return{isTop:l,isLeft:a,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}(l=g||(g={}))[l.Forward=1]="Forward",l[l.Backward=-1]="Backward";let ev={x:.2,y:.2};function ew(e){return e.reduce((e,t)=>$(e,em(t)),en)}function ej(e,t){if(void 0===t&&(t=eu),!e)return;let{top:r,left:n,bottom:l,right:a}=t(e);eg(e)&&(l<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}let eN=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+ep(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+ex(t),0)}]];class eC{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=eh(t),n=ew(r);for(const[t,l,a]of(this.rect={...e},this.width=e.width,this.height=e.height,eN))for(const e of l)Object.defineProperty(this,e,{get:()=>{let l=a(r),i=n[t]-l;return this.rect[e]+i},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ek{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var n;null==(n=this.target)||n.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function eE(e,t){let r=Math.abs(e.x),n=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t&&n>t.y}function eS(e){e.preventDefault()}function eD(e){e.stopPropagation()}(a=f||(f={})).Click="click",a.DragStart="dragstart",a.Keydown="keydown",a.ContextMenu="contextmenu",a.Resize="resize",a.SelectionChange="selectionchange",a.VisibilityChange="visibilitychange",(i=p||(p={})).Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab";let eM={start:[p.Space,p.Enter],cancel:[p.Esc],end:[p.Space,p.Enter,p.Tab]},eR=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case p.Right:return{...r,x:r.x+25};case p.Left:return{...r,x:r.x-25};case p.Down:return{...r,y:r.y+25};case p.Up:return{...r,y:r.y-25}}};class ez{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new ek(T(t)),this.windowListeners=new ek(D(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(f.Resize,this.handleCancel),this.windowListeners.add(f.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(f.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&ej(r),t(en)}handleKeyDown(e){if(X(e)){let{active:t,context:r,options:n}=this.props,{keyboardCodes:l=eM,coordinateGetter:a=eR,scrollBehavior:i="smooth"}=n,{code:s}=e;if(l.end.includes(s))return void this.handleEnd(e);if(l.cancel.includes(s))return void this.handleCancel(e);let{collisionRect:o}=r.current,d=o?{x:o.left,y:o.top}:en;this.referenceCoordinates||(this.referenceCoordinates=d);let u=a(e,{active:t,context:r.current,currentCoordinates:d});if(u){let t=W(u,d),n={x:0,y:0},{scrollableAncestors:l}=r.current;for(let r of l){let l=e.code,{isTop:a,isRight:s,isLeft:o,isBottom:d,maxScroll:c,minScroll:h}=ey(r),g=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:r,right:n,bottom:l}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:l,width:e.clientWidth,height:e.clientHeight}}(r),f={x:Math.min(l===p.Right?g.right-g.width/2:g.right,Math.max(l===p.Right?g.left:g.left+g.width/2,u.x)),y:Math.min(l===p.Down?g.bottom-g.height/2:g.bottom,Math.max(l===p.Down?g.top:g.top+g.height/2,u.y))},x=l===p.Right&&!s||l===p.Left&&!o,m=l===p.Down&&!d||l===p.Up&&!a;if(x&&f.x!==u.x){let e=r.scrollLeft+t.x,a=l===p.Right&&e<=c.x||l===p.Left&&e>=h.x;if(a&&!t.y)return void r.scrollTo({left:e,behavior:i});a?n.x=r.scrollLeft-e:n.x=l===p.Right?r.scrollLeft-c.x:r.scrollLeft-h.x,n.x&&r.scrollBy({left:-n.x,behavior:i});break}if(m&&f.y!==u.y){let e=r.scrollTop+t.y,a=l===p.Down&&e<=c.y||l===p.Up&&e>=h.y;if(a&&!t.x)return void r.scrollTo({top:e,behavior:i});a?n.y=r.scrollTop-e:n.y=l===p.Down?r.scrollTop-c.y:r.scrollTop-h.y,n.y&&r.scrollBy({top:-n.y,behavior:i});break}}this.handleMove(e,$(W(u,this.referenceCoordinates),n))}}}handleMove(e,t){let{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function eT(e){return!!(e&&"distance"in e)}function eA(e){return!!(e&&"delay"in e)}ez.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=eM,onActivation:l}=t,{active:a}=r,{code:i}=e.nativeEvent;if(n.start.includes(i)){let t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==l||l({event:e.nativeEvent}),!0)}return!1}}];class eL{constructor(e,t,r){var n;void 0===r&&(r=function(e){let{EventTarget:t}=D(e);return e instanceof t?e:T(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:l}=e,{target:a}=l;this.props=e,this.events=t,this.document=T(a),this.documentListeners=new ek(this.document),this.listeners=new ek(r),this.windowListeners=new ek(D(a)),this.initialCoordinates=null!=(n=Y(l))?n:en,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(f.Resize,this.handleCancel),this.windowListeners.add(f.DragStart,eS),this.windowListeners.add(f.VisibilityChange,this.handleCancel),this.windowListeners.add(f.ContextMenu,eS),this.documentListeners.add(f.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(eA(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(eT(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:r,onPending:n}=this.props;n(r,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(f.Click,eD,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(f.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:r,initialCoordinates:n,props:l}=this,{onMove:a,options:{activationConstraint:i}}=l;if(!n)return;let s=null!=(t=Y(e))?t:en,o=W(n,s);if(!r&&i){if(eT(i)){if(null!=i.tolerance&&eE(o,i.tolerance))return this.handleCancel();if(eE(o,i.distance))return this.handleStart()}return eA(i)&&eE(o,i.tolerance)?this.handleCancel():void this.handlePending(i,o)}e.cancelable&&e.preventDefault(),a(s)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===p.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let eO={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class eF extends eL{constructor(e){const{event:t}=e;super(e,eO,T(t.target))}}eF.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!!r.isPrimary&&0===r.button&&(null==n||n({event:r}),!0)}}];let eH={move:{name:"mousemove"},end:{name:"mouseup"}};(s=x||(x={}))[s.RightClick=2]="RightClick";class eP extends eL{constructor(e){super(e,eH,T(e.event.target))}}eP.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button!==x.RightClick&&(null==n||n({event:r}),!0)}}];let eI={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class eU extends eL{constructor(e){super(e,eI)}static setup(){return window.addEventListener(eI.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(eI.move.name,e)};function e(){}}}eU.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t,{touches:l}=r;return!(l.length>1)&&(null==n||n({event:r}),!0)}}],(o=m||(m={}))[o.Pointer=0]="Pointer",o[o.DraggableRect=1]="DraggableRect",(d=b||(b={}))[d.TreeOrder=0]="TreeOrder",d[d.ReversedTreeOrder=1]="ReversedTreeOrder";let eB={x:{[g.Backward]:!1,[g.Forward]:!1},y:{[g.Backward]:!1,[g.Forward]:!1}};(u=y||(y={}))[u.Always=0]="Always",u[u.BeforeDragging=1]="BeforeDragging",u[u.WhileDragging=2]="WhileDragging",(v||(v={})).Optimized="optimized";let e$=new Map;function eW(e,t){return F(r=>e?r||("function"==typeof t?t(e):e):null,[t,e])}function eX(e){let{callback:t,disabled:r}=e,n=L(t),l=(0,N.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(n)},[r]);return(0,N.useEffect)(()=>()=>null==l?void 0:l.disconnect(),[l]),l}function eY(e){return new eC(eu(e),e)}function eq(e,t,r){void 0===t&&(t=eY);let[n,l]=(0,N.useState)(null);function a(){l(n=>{if(!e)return null;if(!1===e.isConnected){var l;return null!=(l=null!=n?n:r)?l:null}let a=t(e);return JSON.stringify(n)===JSON.stringify(a)?n:a})}let i=function(e){let{callback:t,disabled:r}=e,n=L(t),l=(0,N.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(n)},[n,r]);return(0,N.useEffect)(()=>()=>null==l?void 0:l.disconnect(),[l]),l}({callback(t){if(e)for(let r of t){let{type:t,target:n}=r;if("childList"===t&&n instanceof HTMLElement&&n.contains(e)){a();break}}}}),s=eX({callback:a});return A(()=>{a(),e?(null==s||s.observe(e),null==i||i.observe(document.body,{childList:!0,subtree:!0})):(null==s||s.disconnect(),null==i||i.disconnect())},[e]),n}let eK=[];function eV(e,t){void 0===t&&(t=[]);let r=(0,N.useRef)(null);return(0,N.useEffect)(()=>{r.current=null},t),(0,N.useEffect)(()=>{let t=e!==en;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?W(e,r.current):en}function eJ(e){return(0,N.useMemo)(()=>{let t,r;return e?(t=e.innerWidth,{top:0,left:0,right:t,bottom:r=e.innerHeight,width:t,height:r}):null},[e])}let eG=[];function e_(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return R(t)?t:e}let eZ=[{sensor:eF,options:{}},{sensor:ez,options:{}}],eQ={current:{}},e0={draggable:{measure:ec},droppable:{measure:ec,strategy:y.WhileDragging,frequency:v.Optimized},dragOverlay:{measure:eu}};class e1 extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}let e2={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new e1,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:et},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:e0,measureDroppableContainers:et,windowRect:null,measuringScheduled:!1},e5={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:et,draggableNodes:new Map,over:null,measureDroppableContainers:et},e3=(0,N.createContext)(e5),e4=(0,N.createContext)(e2);function e6(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new e1}}}function e7(e,t){switch(t.type){case h.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case h.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case h.DragEnd:case h.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case h.RegisterDroppable:{let{element:r}=t,{id:n}=r,l=new e1(e.droppable.containers);return l.set(n,r),{...e,droppable:{...e.droppable,containers:l}}}case h.SetDroppableDisabled:{let{id:r,key:n,disabled:l}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;let i=new e1(e.droppable.containers);return i.set(r,{...a,disabled:l}),{...e,droppable:{...e.droppable,containers:i}}}case h.UnregisterDroppable:{let{id:r,key:n}=t,l=e.droppable.containers.get(r);if(!l||n!==l.key)return e;let a=new e1(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function e8(e){let{disabled:t}=e,{active:r,activatorEvent:n,draggableNodes:l}=(0,N.useContext)(e3),a=P(n),i=P(null==r?void 0:r.id);return(0,N.useEffect)(()=>{if(!t&&!n&&a&&null!=i){if(!X(a)||document.activeElement===a.target)return;let e=l.get(i);if(!e)return;let{activatorNode:t,node:r}=e;(t.current||r.current)&&requestAnimationFrame(()=>{for(let e of[t.current,r.current]){if(!e)continue;let t=e.matches(K)?e:e.querySelector(K);if(t){t.focus();break}}})}},[n,t,l,i,a]),null}function e9(e,t){let{transform:r,...n}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...n}),r):r}let te=(0,N.createContext)({...en,scaleX:1,scaleY:1});(c=w||(w={}))[c.Uninitialized=0]="Uninitialized",c[c.Initializing=1]="Initializing",c[c.Initialized=2]="Initialized";let tt=(0,N.memo)(function(e){var t,r,n,l,a,i,s,o;let d,u,c,f,p,x,v,j,{id:E,accessibility:S,autoScroll:M=!0,children:z,sensors:T=eZ,collisionDetection:L=ea,measuring:I,modifiers:B,...W}=e,[X,q]=(0,N.useReducer)(e7,void 0,e6),[K,V]=function(){let[e]=(0,N.useState)(()=>new Set),t=(0,N.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,N.useCallback)(t=>{let{type:r,event:n}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,n)})},[e]),t]}(),[J,G]=(0,N.useState)(w.Uninitialized),Z=J===w.Initialized,{draggable:{active:Q,nodes:et,translate:er},droppable:{containers:el}}=X,eo=null!=Q?et.get(Q):null,ed=(0,N.useRef)({initial:null,translated:null}),ec=(0,N.useMemo)(()=>{var e;return null!=Q?{id:Q,data:null!=(e=null==eo?void 0:eo.data)?e:eQ,rect:ed}:null},[Q,eo]),ep=(0,N.useRef)(null),[ex,ej]=(0,N.useState)(null),[eN,ek]=(0,N.useState)(null),eE=O(W,Object.values(W)),eS=U("DndDescribedBy",E),eD=(0,N.useMemo)(()=>el.getEnabled(),[el]),eM=(0,N.useMemo)(()=>({draggable:{...e0.draggable,...null==I?void 0:I.draggable},droppable:{...e0.droppable,...null==I?void 0:I.droppable},dragOverlay:{...e0.dragOverlay,...null==I?void 0:I.dragOverlay}}),[null==I?void 0:I.draggable,null==I?void 0:I.droppable,null==I?void 0:I.dragOverlay]),{droppableRects:eR,measureDroppableContainers:ez,measuringScheduled:eT}=function(e,t){let{dragging:r,dependencies:n,config:l}=t,[a,i]=(0,N.useState)(null),{frequency:s,measure:o,strategy:d}=l,u=(0,N.useRef)(e),c=function(){switch(d){case y.Always:return!1;case y.BeforeDragging:return r;default:return!r}}(),h=O(c),g=(0,N.useCallback)(function(e){void 0===e&&(e=[]),h.current||i(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[h]),f=(0,N.useRef)(null),p=F(t=>{if(c&&!r)return e$;if(!t||t===e$||u.current!==e||null!=a){let t=new Map;for(let r of e){if(!r)continue;if(a&&a.length>0&&!a.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}let e=r.node.current,n=e?new eC(o(e),e):null;r.rect.current=n,n&&t.set(r.id,n)}return t}return t},[e,a,r,c,o]);return(0,N.useEffect)(()=>{u.current=e},[e]),(0,N.useEffect)(()=>{c||g()},[r,c]),(0,N.useEffect)(()=>{a&&a.length>0&&i(null)},[JSON.stringify(a)]),(0,N.useEffect)(()=>{c||"number"!=typeof s||null!==f.current||(f.current=setTimeout(()=>{g(),f.current=null},s))},[s,c,g,...n]),{droppableRects:p,measureDroppableContainers:g,measuringScheduled:null!=a}}(eD,{dragging:Z,dependencies:[er.x,er.y],config:eM.droppable}),eA=F(e=>{var t;return null==Q?null:null!=(t=null!=p?p:e)?t:null},[p=(f=null!=Q?et.get(Q):void 0)?f.node.current:null,Q]),eL=(0,N.useMemo)(()=>eN?Y(eN):null,[eN]),eO=(d=(null==ex?void 0:ex.autoScrollEnabled)===!1,u="object"==typeof M?!1===M.enabled:!1===M,c=Z&&!d&&!u,"object"==typeof M?{...M,enabled:c}:{enabled:c}),eF=eW(eA,eM.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:n,config:l=!0}=e,a=(0,N.useRef)(!1),{x:i,y:s}="boolean"==typeof l?{x:l,y:l}:l;A(()=>{if(!i&&!s||!t){a.current=!1;return}if(a.current||!n)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let l=ei(r(e),n);if(i||(l.x=0),s||(l.y=0),a.current=!0,Math.abs(l.x)>0||Math.abs(l.y)>0){let t=eg(e);t&&t.scrollBy({top:l.y,left:l.x})}},[t,i,s,n,r])}({activeNode:null!=Q?et.get(Q):null,config:eO.layoutShiftCompensation,initialRect:eF,measure:eM.draggable.measure});let eH=eq(eA,eM.draggable.measure,eF),eP=eq(eA?eA.parentElement:null),eI=(0,N.useRef)({activatorEvent:null,active:null,activeNode:eA,collisionRect:null,collisions:null,droppableRects:eR,draggableNodes:et,draggingNode:null,draggingNodeRect:null,droppableContainers:el,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),eU=el.getNodeFor(null==(t=eI.current.over)?void 0:t.id),eY=function(e){let{measure:t}=e,[r,n]=(0,N.useState)(null),l=eX({callback:(0,N.useCallback)(e=>{for(let{target:r}of e)if(R(r)){n(e=>{let n=t(r);return e?{...e,width:n.width,height:n.height}:n});break}},[t])}),[a,i]=H((0,N.useCallback)(e=>{let r=e_(e);null==l||l.disconnect(),r&&(null==l||l.observe(r)),n(r?t(r):null)},[t,l]));return(0,N.useMemo)(()=>({nodeRef:a,rect:r,setRef:i}),[r,a,i])}({measure:eM.dragOverlay.measure}),e1=null!=(r=eY.nodeRef.current)?r:eA,e2=Z?null!=(n=eY.rect)?n:eH:null,e5=!!(eY.nodeRef.current&&eY.rect),tt=(x=eW(a=e5?null:eH),ei(a,x)),tr=eJ(e1?D(e1):null),tn=(i=Z?null!=eU?eU:eA:null,v=(0,N.useRef)(i),j=F(e=>i?e&&e!==eK&&i&&v.current&&i.parentNode===v.current.parentNode?e:eh(i):eK,[i]),(0,N.useEffect)(()=>{v.current=i},[i]),j),tl=function(e,t){void 0===t&&(t=eu);let[r]=e,n=eJ(r?D(r):null),[l,a]=(0,N.useState)(eG);function i(){a(()=>e.length?e.map(e=>eb(e)?n:new eC(t(e),e)):eG)}let s=eX({callback:i});return A(()=>{null==s||s.disconnect(),i(),e.forEach(e=>null==s?void 0:s.observe(e))},[e]),l}(tn),ta=e9(B,{transform:{x:er.x-tt.x,y:er.y-tt.y,scaleX:1,scaleY:1},activatorEvent:eN,active:ec,activeNodeRect:eH,containerNodeRect:eP,draggingNodeRect:e2,over:eI.current.over,overlayNodeRect:eY.rect,scrollableAncestors:tn,scrollableAncestorRects:tl,windowRect:tr}),ti=eL?$(eL,er):null,ts=function(e){let[t,r]=(0,N.useState)(null),n=(0,N.useRef)(e),l=(0,N.useCallback)(e=>{let t=ef(e.target);t&&r(e=>e?(e.set(t,em(t)),new Map(e)):null)},[]);return(0,N.useEffect)(()=>{let t=n.current;if(e!==t){a(t);let i=e.map(e=>{let t=ef(e);return t?(t.addEventListener("scroll",l,{passive:!0}),[t,em(t)]):null}).filter(e=>null!=e);r(i.length?new Map(i):null),n.current=e}return()=>{a(e),a(t)};function a(e){e.forEach(e=>{let t=ef(e);null==t||t.removeEventListener("scroll",l)})}},[l,e]),(0,N.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>$(e,t),en):ew(e):en,[e,t])}(tn),to=eV(ts),td=eV(ts,[eH]),tu=$(ta,to),tc=e2?es(e2,ta):null,th=ec&&tc?L({active:ec,collisionRect:tc,droppableRects:eR,droppableContainers:eD,pointerCoordinates:ti}):null,tg=function(e,t){if(!e||0===e.length)return null;let[r]=e;return r.id}(th,0),[tf,tp]=(0,N.useState)(null),tx=(s=e5?ta:$(ta,td),o=null!=(l=null==tf?void 0:tf.rect)?l:null,{...s,scaleX:o&&eH?o.width/eH.width:1,scaleY:o&&eH?o.height/eH.height:1}),tm=(0,N.useRef)(null),tb=(0,N.useCallback)((e,t)=>{let{sensor:r,options:n}=t;if(null==ep.current)return;let l=et.get(ep.current);if(!l)return;let a=e.nativeEvent,i=new r({active:ep.current,activeNode:l,event:a,options:n,context:eI,onAbort(e){if(!et.get(e))return;let{onDragAbort:t}=eE.current,r={id:e};null==t||t(r),K({type:"onDragAbort",event:r})},onPending(e,t,r,n){if(!et.get(e))return;let{onDragPending:l}=eE.current,a={id:e,constraint:t,initialCoordinates:r,offset:n};null==l||l(a),K({type:"onDragPending",event:a})},onStart(e){let t=ep.current;if(null==t)return;let r=et.get(t);if(!r)return;let{onDragStart:n}=eE.current,l={activatorEvent:a,active:{id:t,data:r.data,rect:ed}};(0,C.unstable_batchedUpdates)(()=>{null==n||n(l),G(w.Initializing),q({type:h.DragStart,initialCoordinates:e,active:t}),K({type:"onDragStart",event:l}),ej(tm.current),ek(a)})},onMove(e){q({type:h.DragMove,coordinates:e})},onEnd:s(h.DragEnd),onCancel:s(h.DragCancel)});function s(e){return async function(){let{active:t,collisions:r,over:n,scrollAdjustedTranslate:l}=eI.current,i=null;if(t&&l){let{cancelDrop:s}=eE.current;i={activatorEvent:a,active:t,collisions:r,delta:l,over:n},e===h.DragEnd&&"function"==typeof s&&await Promise.resolve(s(i))&&(e=h.DragCancel)}ep.current=null,(0,C.unstable_batchedUpdates)(()=>{q({type:e}),G(w.Uninitialized),tp(null),ej(null),ek(null),tm.current=null;let t=e===h.DragEnd?"onDragEnd":"onDragCancel";if(i){let e=eE.current[t];null==e||e(i),K({type:t,event:i})}})}}tm.current=i},[et]),ty=(0,N.useCallback)((e,t)=>(r,n)=>{let l=r.nativeEvent,a=et.get(n);null!==ep.current||!a||l.dndKit||l.defaultPrevented||!0===e(r,t.options,{active:a})&&(l.dndKit={capturedBy:t.sensor},ep.current=n,tb(r,t))},[et,tb]),tv=(0,N.useMemo)(()=>T.reduce((e,t)=>{let{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:ty(e.handler,t)}))]},[]),[T,ty]);(0,N.useEffect)(()=>{if(!k)return;let e=T.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},T.map(e=>{let{sensor:t}=e;return t})),A(()=>{eH&&J===w.Initializing&&G(w.Initialized)},[eH,J]),(0,N.useEffect)(()=>{let{onDragMove:e}=eE.current,{active:t,activatorEvent:r,collisions:n,over:l}=eI.current;if(!t||!r)return;let a={active:t,activatorEvent:r,collisions:n,delta:{x:tu.x,y:tu.y},over:l};(0,C.unstable_batchedUpdates)(()=>{null==e||e(a),K({type:"onDragMove",event:a})})},[tu.x,tu.y]),(0,N.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:r,droppableContainers:n,scrollAdjustedTranslate:l}=eI.current;if(!e||null==ep.current||!t||!l)return;let{onDragOver:a}=eE.current,i=n.get(tg),s=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,o={active:e,activatorEvent:t,collisions:r,delta:{x:l.x,y:l.y},over:s};(0,C.unstable_batchedUpdates)(()=>{tp(s),null==a||a(o),K({type:"onDragOver",event:o})})},[tg]),A(()=>{eI.current={activatorEvent:eN,active:ec,activeNode:eA,collisionRect:tc,collisions:th,droppableRects:eR,draggableNodes:et,draggingNode:e1,draggingNodeRect:e2,droppableContainers:el,over:tf,scrollableAncestors:tn,scrollAdjustedTranslate:tu},ed.current={initial:e2,translated:tc}},[ec,eA,th,tc,et,e1,e2,eR,el,tf,tn,tu]),function(e){let t,{acceleration:r,activator:n=m.Pointer,canScroll:l,draggingRect:a,enabled:i,interval:s=5,order:o=b.TreeOrder,pointerCoordinates:d,scrollableAncestors:u,scrollableAncestorRects:c,delta:h,threshold:f}=e,p=function(e){let{delta:t,disabled:r}=e,n=P(t);return F(e=>{if(r||!n||!e)return eB;let l={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[g.Backward]:e.x[g.Backward]||-1===l.x,[g.Forward]:e.x[g.Forward]||1===l.x},y:{[g.Backward]:e.y[g.Backward]||-1===l.y,[g.Forward]:e.y[g.Forward]||1===l.y}}},[r,t,n])}({delta:h,disabled:!i}),[x,y]=(t=(0,N.useRef)(null),[(0,N.useCallback)((e,r)=>{t.current=setInterval(e,r)},[]),(0,N.useCallback)(()=>{null!==t.current&&(clearInterval(t.current),t.current=null)},[])]),v=(0,N.useRef)({x:0,y:0}),w=(0,N.useRef)({x:0,y:0}),j=(0,N.useMemo)(()=>{switch(n){case m.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case m.DraggableRect:return a}},[n,a,d]),C=(0,N.useRef)(null),k=(0,N.useCallback)(()=>{let e=C.current;if(!e)return;let t=v.current.x*w.current.x,r=v.current.y*w.current.y;e.scrollBy(t,r)},[]),E=(0,N.useMemo)(()=>o===b.TreeOrder?[...u].reverse():u,[o,u]);(0,N.useEffect)(()=>{if(!i||!u.length||!j)return void y();for(let e of E){if((null==l?void 0:l(e))===!1)continue;let t=c[u.indexOf(e)];if(!t)continue;let{direction:n,speed:a}=function(e,t,r,n,l){let{top:a,left:i,right:s,bottom:o}=r;void 0===n&&(n=10),void 0===l&&(l=ev);let{isTop:d,isBottom:u,isLeft:c,isRight:h}=ey(e),f={x:0,y:0},p={x:0,y:0},x={height:t.height*l.y,width:t.width*l.x};return!d&&a<=t.top+x.height?(f.y=g.Backward,p.y=n*Math.abs((t.top+x.height-a)/x.height)):!u&&o>=t.bottom-x.height&&(f.y=g.Forward,p.y=n*Math.abs((t.bottom-x.height-o)/x.height)),!h&&s>=t.right-x.width?(f.x=g.Forward,p.x=n*Math.abs((t.right-x.width-s)/x.width)):!c&&i<=t.left+x.width&&(f.x=g.Backward,p.x=n*Math.abs((t.left+x.width-i)/x.width)),{direction:f,speed:p}}(e,t,j,r,f);for(let e of["x","y"])p[e][n[e]]||(a[e]=0,n[e]=0);if(a.x>0||a.y>0){y(),C.current=e,x(k,s),v.current=a,w.current=n;return}}v.current={x:0,y:0},w.current={x:0,y:0},y()},[r,k,l,y,i,s,JSON.stringify(j),JSON.stringify(p),x,u,E,c,JSON.stringify(f)])}({...eO,delta:er,draggingRect:tc,pointerCoordinates:ti,scrollableAncestors:tn,scrollableAncestorRects:tl});let tw=(0,N.useMemo)(()=>({active:ec,activeNode:eA,activeNodeRect:eH,activatorEvent:eN,collisions:th,containerNodeRect:eP,dragOverlay:eY,draggableNodes:et,droppableContainers:el,droppableRects:eR,over:tf,measureDroppableContainers:ez,scrollableAncestors:tn,scrollableAncestorRects:tl,measuringConfiguration:eM,measuringScheduled:eT,windowRect:tr}),[ec,eA,eH,eN,th,eP,eY,et,el,eR,tf,ez,tn,tl,eM,eT,tr]),tj=(0,N.useMemo)(()=>({activatorEvent:eN,activators:tv,active:ec,activeNodeRect:eH,ariaDescribedById:{draggable:eS},dispatch:q,draggableNodes:et,over:tf,measureDroppableContainers:ez}),[eN,tv,ec,eH,q,eS,et,tf,ez]);return N.default.createElement(_.Provider,{value:V},N.default.createElement(e3.Provider,{value:tj},N.default.createElement(e4.Provider,{value:tw},N.default.createElement(te.Provider,{value:tx},z)),N.default.createElement(e8,{disabled:(null==S?void 0:S.restoreFocus)===!1})),N.default.createElement(ee,{...S,hiddenTextDescribedById:eS}))}),tr=(0,N.createContext)(null),tn="button";function tl(e){let{id:t,data:r,disabled:n=!1,attributes:l}=e,a=U("Draggable"),{activators:i,activatorEvent:s,active:o,activeNodeRect:d,ariaDescribedById:u,draggableNodes:c,over:h}=(0,N.useContext)(e3),{role:g=tn,roleDescription:f="draggable",tabIndex:p=0}=null!=l?l:{},x=(null==o?void 0:o.id)===t,m=(0,N.useContext)(x?te:tr),[b,y]=H(),[v,w]=H(),j=(0,N.useMemo)(()=>i.reduce((e,r)=>{let{eventName:n,handler:l}=r;return e[n]=e=>{l(e,t)},e},{}),[i,t]),C=O(r);return A(()=>(c.set(t,{id:t,key:a,node:b,activatorNode:v,data:C}),()=>{let e=c.get(t);e&&e.key===a&&c.delete(t)}),[c,t]),{active:o,activatorEvent:s,activeNodeRect:d,attributes:(0,N.useMemo)(()=>({role:g,tabIndex:p,"aria-disabled":n,"aria-pressed":!!x&&g===tn||void 0,"aria-roledescription":f,"aria-describedby":u.draggable}),[n,g,p,x,f,u.draggable]),isDragging:x,listeners:n?void 0:j,node:b,over:h,setNodeRef:y,setActivatorNodeRef:w,transform:m}}let ta={timeout:25};function ti(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:l}=e,a=U("Droppable"),{active:i,dispatch:s,over:o,measureDroppableContainers:d}=(0,N.useContext)(e3),u=(0,N.useRef)({disabled:r}),c=(0,N.useRef)(!1),g=(0,N.useRef)(null),f=(0,N.useRef)(null),{disabled:p,updateMeasurementsFor:x,timeout:m}={...ta,...l},b=O(null!=x?x:n),y=eX({callback:(0,N.useCallback)(()=>{if(!c.current){c.current=!0;return}null!=f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{d(Array.isArray(b.current)?b.current:[b.current]),f.current=null},m)},[m]),disabled:p||!i}),[v,w]=H((0,N.useCallback)((e,t)=>{y&&(t&&(y.unobserve(t),c.current=!1),e&&y.observe(e))},[y])),j=O(t);return(0,N.useEffect)(()=>{y&&v.current&&(y.disconnect(),c.current=!1,y.observe(v.current))},[v,y]),(0,N.useEffect)(()=>(s({type:h.RegisterDroppable,element:{id:n,key:a,disabled:r,node:v,rect:g,data:j}}),()=>s({type:h.UnregisterDroppable,key:a,id:n})),[n]),(0,N.useEffect)(()=>{r!==u.current.disabled&&(s({type:h.SetDroppableDisabled,id:n,key:a,disabled:r}),u.current.disabled=r)},[n,a,r,s]),{active:i,rect:g,isOver:(null==o?void 0:o.id)===n,node:v,over:o,setNodeRef:w}}function ts(e){let{animation:t,children:r}=e,[n,l]=(0,N.useState)(null),[a,i]=(0,N.useState)(null),s=P(r);return r||n||!s||l(s),A(()=>{if(!a)return;let e=null==n?void 0:n.key,r=null==n?void 0:n.props.id;null==e||null==r?l(null):Promise.resolve(t(r,a)).then(()=>{l(null)})},[t,n,a]),N.default.createElement(N.default.Fragment,null,r,n?(0,N.cloneElement)(n,{ref:i}):null)}let to={x:0,y:0,scaleX:1,scaleY:1};function td(e){let{children:t}=e;return N.default.createElement(e3.Provider,{value:e5},N.default.createElement(te.Provider,{value:to},t))}let tu={position:"fixed",touchAction:"none"},tc=e=>X(e)?"transform 250ms ease":void 0,th=(0,N.forwardRef)((e,t)=>{let{as:r,activatorEvent:n,adjustScale:l,children:a,className:i,rect:s,style:o,transform:d,transition:u=tc}=e;if(!s)return null;let c=l?d:{...d,scaleX:1,scaleY:1},h={...tu,width:s.width,height:s.height,top:s.top,left:s.left,transform:q.Transform.toString(c),transformOrigin:l&&n?function(e,t){let r=Y(e);if(!r)return"0 0";let n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}(n,s):void 0,transition:"function"==typeof u?u(n):u,...o};return N.default.createElement(r,{className:i,style:h,ref:t},a)}),tg={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:r}}=e;return[{transform:q.Transform.toString(t)},{transform:q.Transform.toString(r)}]},sideEffects:(r={styles:{active:{opacity:"0"}}},e=>{let{active:t,dragOverlay:n}=e,l={},{styles:a,className:i}=r;if(null!=a&&a.active)for(let[e,r]of Object.entries(a.active))void 0!==r&&(l[e]=t.node.style.getPropertyValue(e),t.node.style.setProperty(e,r));if(null!=a&&a.dragOverlay)for(let[e,t]of Object.entries(a.dragOverlay))void 0!==t&&n.node.style.setProperty(e,t);return null!=i&&i.active&&t.node.classList.add(i.active),null!=i&&i.dragOverlay&&n.node.classList.add(i.dragOverlay),function(){for(let[e,r]of Object.entries(l))t.node.style.setProperty(e,r);null!=i&&i.active&&t.node.classList.remove(i.active)}})},tf=0,tp=N.default.memo(e=>{var t;let{adjustScale:r=!1,children:n,dropAnimation:l,style:a,transition:i,modifiers:s,wrapperElement:o="div",className:d,zIndex:u=999}=e,{activatorEvent:c,active:h,activeNodeRect:g,containerNodeRect:f,draggableNodes:p,droppableContainers:x,dragOverlay:m,over:b,measuringConfiguration:y,scrollableAncestors:v,scrollableAncestorRects:w,windowRect:j}=(0,N.useContext)(e4),C=(0,N.useContext)(te),k=(t=null==h?void 0:h.id,(0,N.useMemo)(()=>{if(null!=t)return++tf},[t])),E=e9(s,{activatorEvent:c,active:h,activeNodeRect:g,containerNodeRect:f,draggingNodeRect:m.rect,over:b,overlayNodeRect:m.rect,scrollableAncestors:v,scrollableAncestorRects:w,transform:C,windowRect:j}),S=eW(g),M=function(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:l}=e;return L((e,a)=>{if(null===t)return;let i=r.get(e);if(!i)return;let s=i.node.current;if(!s)return;let o=e_(a);if(!o)return;let{transform:d}=D(a).getComputedStyle(a),u=eo(d);if(!u)return;let c="function"==typeof t?t:function(e){let{duration:t,easing:r,sideEffects:n,keyframes:l}={...tg,...e};return e=>{let{active:a,dragOverlay:i,transform:s,...o}=e;if(!t)return;let d={x:i.rect.left-a.rect.left,y:i.rect.top-a.rect.top},u={scaleX:1!==s.scaleX?a.rect.width*s.scaleX/i.rect.width:1,scaleY:1!==s.scaleY?a.rect.height*s.scaleY/i.rect.height:1},c={x:s.x-d.x,y:s.y-d.y,...u},h=l({...o,active:a,dragOverlay:i,transform:{initial:s,final:c}}),[g]=h,f=h[h.length-1];if(JSON.stringify(g)===JSON.stringify(f))return;let p=null==n?void 0:n({active:a,dragOverlay:i,...o}),x=i.node.animate(h,{duration:t,easing:r,fill:"forwards"});return new Promise(e=>{x.onfinish=()=>{null==p||p(),e()}})}}(t);return ej(s,l.draggable.measure),c({active:{id:e,data:i.data,node:s,rect:l.draggable.measure(s)},draggableNodes:r,dragOverlay:{node:a,rect:l.dragOverlay.measure(o)},droppableContainers:n,measuringConfiguration:l,transform:u})})}({config:l,draggableNodes:p,droppableContainers:x,measuringConfiguration:y}),R=S?m.setRef:void 0;return N.default.createElement(td,null,N.default.createElement(ts,{animation:M},h&&k?N.default.createElement(th,{key:k,id:h.id,ref:R,as:o,activatorEvent:c,adjustScale:r,className:d,transition:i,rect:S,style:{zIndex:u,...a},transform:E},n):null))});var tx=e.i(75254);let tm=(0,tx.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),tb=(0,tx.default)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]),ty=(0,tx.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),tv=(0,tx.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),tw=(0,tx.default)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);var tj=e.i(71689);let tN=(0,tx.default)("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),tC=(0,tx.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var tk=e.i(37727),tE=e.i(27612);let tS=(0,tx.default)("group",[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]]),tD=(0,tx.default)("text-align-start",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]]),tM=(0,tx.default)("text-align-center",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]]),tR=(0,tx.default)("text-align-end",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]]),tz=(0,tx.default)("layout-template",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]),tT=(0,tx.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),tA=(0,tx.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),tL=(0,tx.default)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),tO=(0,tx.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var tF=e.i(78583);let tH=(0,tx.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),tP=(0,tx.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),tI=(0,tx.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var tU=e.i(22016);let tB="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),t$=new Uint8Array(16),tW=[];for(let e=0;e<256;++e)tW.push((e+256).toString(16).slice(1));let tX=function(e,r,n){if(tB&&!r&&!e)return tB();var l=e,a=n;let i=(l=l||{}).random??l.rng?.()??function(){if(!t){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t=crypto.getRandomValues.bind(crypto)}return t(t$)}();if(i.length<16)throw Error("Random bytes length must be >= 16");if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,r){if((a=a||0)<0||a+16>r.length)throw RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`);for(let e=0;e<16;++e)r[a+e]=i[e];return r}return function(e,t=0){return(tW[e[t+0]]+tW[e[t+1]]+tW[e[t+2]]+tW[e[t+3]]+"-"+tW[e[t+4]]+tW[e[t+5]]+"-"+tW[e[t+6]]+tW[e[t+7]]+"-"+tW[e[t+8]]+tW[e[t+9]]+"-"+tW[e[t+10]]+tW[e[t+11]]+tW[e[t+12]]+tW[e[t+13]]+tW[e[t+14]]+tW[e[t+15]]).toLowerCase()}(i)};var tY=e.i(78660);function tq({label:e,value:t,onChange:r,id:n}){let l,a,i,s,{num:o,unit:d}=(l=String(t),a="px",i=l,l.includes("%")?(a="%",i=l.replace("%","")):l.match(/[a-zA-Z]+$/)&&(a=l.match(/[a-zA-Z]+$/)?.[0]||"px",i=l.replace(/[a-zA-Z]+$/,"")),{num:isNaN(s=parseFloat(i))?0:s,unit:a});return(0,j.jsxs)("div",{className:"space-y-1",children:[(0,j.jsx)("label",{htmlFor:n,className:"block text-xs font-medium text-gray-900",children:e}),(0,j.jsxs)("div",{className:"flex rounded-md shadow-sm",children:[(0,j.jsx)("input",{type:"number",id:n,value:o,onChange:e=>{let t=e.target.value;if(""===t)return void r("px"===d?0:`0${d}`);let n=parseFloat(t),l=isNaN(n)?0:n;r("px"===d?l:`${l}${d}`)},step:"any",className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-l-md text-sm text-gray-900 border-gray-300 border focus:ring-blue-500 focus:border-blue-500"}),(0,j.jsxs)("select",{id:`${n}-unit`,title:"UnitÃ©",value:d,onChange:e=>{let t=e.target.value;r("px"===t?o:`${o}${t}`)},className:"inline-flex items-center px-2 py-2 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,j.jsx)("option",{value:"px",children:"px"}),(0,j.jsx)("option",{value:"%",children:"%"}),(0,j.jsx)("option",{value:"em",children:"em"}),(0,j.jsx)("option",{value:"rem",children:"rem"})]})]})]})}function tK({type:e,icon:t,label:r}){let{attributes:n,listeners:l,setNodeRef:a}=tl({id:`sidebar-${e}`,data:{type:e,isSidebar:!0}});return(0,j.jsxs)("div",{ref:a,...l,...n,className:"group p-3 bg-white border border-gray-200 rounded-lg cursor-grab hover:bg-blue-50 hover:border-blue-200 shadow-sm transition-all flex items-center gap-3",children:[(0,j.jsx)("div",{className:"p-1.5 bg-gray-100 rounded-md text-gray-800 group-hover:bg-blue-100 group-hover:text-blue-600 transition-colors",children:(0,j.jsx)(t,{size:18})}),(0,j.jsx)("span",{className:"font-medium text-sm text-gray-800 group-hover:text-blue-700",children:r})]})}function tV({element:e,isSelected:t,onSelect:r,onResize:n,children:l}){let{attributes:a,listeners:i,setNodeRef:s,transform:o,isDragging:d}=tl({id:e.id,data:{...e,isSidebar:!1}}),{setNodeRef:u,isOver:c}=ti({id:e.id,data:{isContainer:!0,element:e},disabled:"container"!==e.type}),h=(0,N.useRef)(null),g=(0,N.useCallback)(t=>{s(t),"container"===e.type&&u(t),h.current=t},[s,u,e.type]),f=(0,N.useRef)(null),p=(t,r)=>{t.stopPropagation();let l=100,a=100,i=0,s=0;h.current?(l=h.current.offsetWidth,a=h.current.offsetHeight,h.current.parentElement&&(i=h.current.parentElement.offsetWidth,s=h.current.parentElement.offsetHeight)):(l="number"==typeof e.w?e.w:parseFloat(String(e.w))||100,a="number"==typeof e.h?e.h:parseFloat(String(e.h))||100);let o=e=>"number"==typeof e?"px":String(e).replace(/^[-\d.]+/g,"")||"px";f.current={w:l,h:a,startX:t.clientX,startY:t.clientY,unitW:o(e.w),unitH:o(e.h),parentW:i,parentH:s};let d=t=>{if(!f.current)return;let l=t.clientX-f.current.startX,a=t.clientY-f.current.startY,i=f.current.w,s=f.current.h;r.includes("e")&&(i+=l),r.includes("s")&&(s+=a);let o=i=Math.max(20,i),d=s=Math.max(20,s);"%"===f.current.unitW&&f.current.parentW>0&&(o=`${(i/f.current.parentW*100).toFixed(2)}%`),"%"===f.current.unitH&&f.current.parentH>0&&(d=`${(s/f.current.parentH*100).toFixed(2)}%`),n(e.id,o,d)},u=()=>{f.current=null,document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",u)},x={position:"absolute",top:e.y,left:e.x,width:e.w,height:e.h,transform:o?`translate3d(${o.x}px, ${o.y}px, 0)`:void 0,zIndex:t?50:"container"===e.type?10:20,opacity:d?.5:1,...e.style},m=c&&"container"===e.type&&!d,b={...x,backgroundColor:m?"rgba(59, 130, 246, 0.1)":x.backgroundColor,borderColor:m?"#3b82f6":t?"#2563eb":x.borderColor||"transparent",borderWidth:m||t?"2px":x.borderWidth||("container"===e.type?"1px":"0"),borderStyle:"container"===e.type?"dashed":"solid"};return(0,j.jsxs)("div",{ref:g,style:b,...i,...a,onClick:t=>{t.stopPropagation(),r(e.id)},className:"group cursor-move",children:[(()=>{switch(e.type){case"text":return(0,j.jsx)("div",{className:"w-full h-full overflow-hidden leading-tight",style:{color:e.style?.color},children:e.content});case"image":return(0,j.jsx)("div",{className:"w-full h-full overflow-hidden flex items-center justify-center bg-gray-50 border border-dashed border-gray-300",children:e.content?(0,j.jsx)("img",{src:e.content,alt:"Element",className:"w-full h-full object-cover"}):(0,j.jsxs)("div",{className:"text-gray-800 flex flex-col items-center",children:[(0,j.jsx)(ty,{size:24}),(0,j.jsx)("span",{className:"text-[10px]",children:"Image"})]})});case"box":case"container":return(0,j.jsxs)("div",{className:"w-full h-full relative",children:["container"===e.type&&(0,j.jsx)("div",{className:"absolute top-0 right-0 p-1",children:(0,j.jsx)("span",{className:"text-[10px] text-gray-800 bg-gray-100 px-1 rounded",children:"Groupe"})}),l]});case"line":return(0,j.jsx)("div",{className:"w-full h-full flex items-center",children:(0,j.jsx)("div",{className:"w-full",style:{height:e.style?.height||"2px",backgroundColor:e.style?.backgroundColor||"black"}})});case"table":let t=e.columns||[{id:"1",label:"Colonne 1"},{id:"2",label:"Colonne 2"}];return(0,j.jsxs)("div",{className:"w-full h-full overflow-hidden bg-white border border-gray-200 text-xs",children:[(0,j.jsx)("div",{className:"p-2 bg-gray-50 border-b text-center text-gray-800",children:"Tableau"}),(0,j.jsxs)("div",{className:"p-2",children:[(0,j.jsx)("div",{className:"flex border-b pb-1 font-bold",children:t.map((e,t)=>(0,j.jsx)("div",{className:"flex-1 px-1",style:{minWidth:e.width||100},children:e.label},e.id))}),(0,j.jsx)("div",{className:"flex text-gray-800 mt-2",children:t.map(e=>(0,j.jsx)("div",{className:"flex-1 px-1",style:{minWidth:e.width||100},children:"Exemple"},e.id))})]})]});default:return null}})(),t&&!d&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"absolute -top-6 left-0 bg-blue-600 text-white text-[10px] px-2 py-0.5 rounded shadow-md whitespace-nowrap z-50",children:["x:",Math.round(e.x)," y:",Math.round(e.y)]}),(0,j.jsx)("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-white border border-blue-600 cursor-se-resize z-50 -mr-1.5 -mb-1.5",onMouseDown:e=>p(e,"se")}),(0,j.jsx)("div",{className:"absolute top-1/2 right-0 w-3 h-3 bg-white border border-blue-600 cursor-e-resize z-50 -mr-1.5 -mt-1.5",onMouseDown:e=>p(e,"e")}),(0,j.jsx)("div",{className:"absolute bottom-0 left-1/2 w-3 h-3 bg-white border border-blue-600 cursor-s-resize z-50 -mb-1.5 -ml-1.5",onMouseDown:e=>p(e,"s")})]})]})}function tJ({template:e}){let[t,r]=(0,N.useState)([]),[n,l]=(0,N.useState)({padding:40,headerHeight:0,footerHeight:0}),[a,i]=(0,N.useState)(null),[s,o]=(0,N.useState)(null),[d,u]=(0,N.useState)(e.name),[c,h]=(0,N.useState)(!1),[g,f]=(0,N.useState)(!1),[p,x]=(0,N.useState)(!1),[m,b]=(0,N.useState)("url"),y=e=>{if(!a)return;let r=t.find(e=>e.id===a);if(!r)return;let l=n.padding,i=r.x,s="number"==typeof r.w?r.w:100;switch(e){case"left":i=l;break;case"center":i=(794-s)/2;break;case"right":i=794-s-l}E(a,{x:i})},v=e=>{if(!a)return;let r=t.find(e=>e.id===a);r&&"text"===r.type&&E(a,{content:(r.content||"")+` {{${e}}}`})},w=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,N.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(er(eP,{activationConstraint:{distance:5}}),er(eU));(0,N.useEffect)(()=>{h(!0);try{let t=JSON.parse(e.content);t.elements?(r(t.elements),l(t.globalSettings||{padding:40,headerHeight:0,footerHeight:0})):Array.isArray(t)&&r(t)}catch{r([])}},[e.content]);let{setNodeRef:C,isOver:k}=ti({id:"canvas-root",data:{isRoot:!0}}),E=(e,t)=>{r(r=>r.map(r=>r.id===e?{...r,...t}:r))},S=e=>t.filter(t=>t.parentId===e).map(e=>(0,j.jsx)(tV,{element:e,isSelected:a===e.id,onSelect:i,onResize:(e,t,r)=>E(e,{w:t,h:r}),children:S(e.id)},e.id));if(!c)return null;let D=t.find(e=>e.id===a);return(0,j.jsxs)(tt,{sensors:w,onDragStart:e=>{let{active:t}=e;o(t.data.current)},onDragEnd:e=>{let{active:l,over:a}=e;o(null);let s=l.id;if(l.data.current?.isSidebar){let e=l.data.current?.type;if(!e)return;let s=null,o=50,d=50;if(a){let e=t.find(e=>e.id===a.id);e&&"container"===e.type&&(s=e.id);let r=l.rect.current?.translated,i=a.rect;r&&i&&(o=r.left-i.left,d=r.top-i.top,null===s&&(o-=n.padding,d-=n.padding+n.headerHeight))}else console.log("Drop hors zone dÃ©tectÃ©, ajout forcÃ© sur le root");o=Math.max(0,o),d=Math.max(0,d);let u={id:tX(),type:e,x:o,y:d,w:"container"===e?300:"table"===e?500:200,h:"container"===e?200:"line"===e?5:100,parentId:s,content:"text"===e?"Texte":void 0,style:{backgroundColor:"box"===e?"#f3f4f6":void 0,borderColor:"#000000",fontSize:"14px"},columns:"table"===e?[{id:tX(),label:"Colonne 1"},{id:tX(),label:"Colonne 2"}]:void 0};r(e=>[...e,u]),i(u.id);return}if(!a||l.id===a.id)return;let d=null;if("canvas-root"!==a.id){let e=t.find(e=>e.id===a.id);e&&"container"===e.type&&e.id!==s&&(d=e.id)}let u=l.rect.current?.translated,c=a.rect;if(!u||!c)return;let h=u.left-c.left,g=u.top-c.top;null===d&&(h-=n.padding,g-=n.padding+n.headerHeight),h=Math.max(0,h),g=Math.max(0,g),r(e=>e.map(e=>{if(e.id===s){let t="100%"===e.w?0:h;return{...e,x:t,y:g,parentId:d}}return e}))},children:[(0,j.jsxs)("div",{className:"h-[calc(100vh-64px)] flex flex-col bg-gray-100",children:[(0,j.jsxs)("div",{className:"h-16 bg-white border-b px-6 flex items-center justify-between shadow-sm shrink-0 z-20",children:[(0,j.jsxs)("div",{className:"flex items-center gap-4",children:[(0,j.jsx)(tU.default,{href:"/dashboard",className:"p-2 hover:bg-gray-100 rounded-full",children:(0,j.jsx)(tj.ArrowLeft,{size:20})}),(0,j.jsx)("div",{children:(0,j.jsx)("h1",{className:"font-bold",children:d})})]}),(0,j.jsxs)("div",{className:"flex items-center gap-3",children:[(0,j.jsxs)("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-gray-800 text-white rounded-lg flex items-center gap-2 text-sm hover:bg-gray-700",children:[(0,j.jsx)(tC,{size:16})," AperÃ§u"]}),(0,j.jsxs)("button",{onClick:async()=>{f(!0),await fetch(`/api/templates/${e.id}`,{method:"PUT",body:JSON.stringify({content:JSON.stringify({elements:t,globalSettings:n}),name:d})}),f(!1)},disabled:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center gap-2 text-sm hover:bg-blue-700 disabled:opacity-50",children:[(0,j.jsx)(tm,{size:16})," ",g?"...":"Enregistrer"]})]})]}),(0,j.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,j.jsxs)("div",{className:"w-72 bg-white border-r p-4 overflow-y-auto shrink-0 z-10",children:[(0,j.jsx)("h2",{className:"text-xs font-bold text-gray-800 uppercase mb-4",children:"ÃlÃ©ments"}),(0,j.jsxs)("div",{className:"space-y-2",children:[(0,j.jsx)(tK,{type:"text",icon:tb,label:"Texte"}),(0,j.jsx)(tK,{type:"image",icon:ty,label:"Image"}),(0,j.jsx)(tK,{type:"container",icon:tS,label:"Groupe / Conteneur"}),(0,j.jsx)(tK,{type:"box",icon:tw,label:"Forme"}),(0,j.jsx)(tK,{type:"line",icon:tv,label:"Ligne"}),(0,j.jsx)(tK,{type:"table",icon:tN,label:"Tableau"})]}),(0,j.jsx)("div",{className:"mt-8 p-3 bg-blue-50 text-blue-700 text-xs rounded border border-blue-100",children:'Glissez un Ã©lÃ©ment "Groupe" pour crÃ©er des zones imbriquÃ©es.'})]}),(0,j.jsx)("div",{className:"flex-1 overflow-auto bg-gray-100/50",children:(0,j.jsx)("div",{className:"min-w-full min-h-full w-fit p-8 flex justify-center items-center",children:(0,j.jsxs)("div",{ref:C,className:`relative bg-white shadow-xl transition-all duration-200 ${k?"ring-4 ring-blue-200":""}`,style:{width:"794px",height:"1123px",minWidth:"794px",minHeight:"1123px"},onClick:()=>i(null),children:[(0,j.jsx)("div",{className:"absolute inset-0 pointer-events-none border border-dashed border-gray-200 z-0",style:{top:n.padding+n.headerHeight,bottom:n.padding+n.footerHeight,left:n.padding,right:n.padding}}),(0,j.jsx)("div",{style:{position:"absolute",top:n.padding+n.headerHeight,left:n.padding,right:n.padding,bottom:n.padding+n.footerHeight},children:S(null)}),0===t.length&&(0,j.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20",children:(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsx)(tw,{size:64,className:"mx-auto mb-2 text-gray-700"}),(0,j.jsx)("p",{className:"text-gray-800 font-medium",children:"Glisser des Ã©lÃ©ments ici"})]})})]})})}),(0,j.jsx)("div",{className:"w-72 bg-white border-l border-gray-200 p-4 overflow-y-auto shrink-0 z-10 shadow-[-4px_0_24px_rgba(0,0,0,0.02)] relative",children:D?(0,j.jsxs)("div",{className:"space-y-6 pt-8",children:[(0,j.jsx)("button",{onClick:()=>{var e;return e=D.id,void(r(t=>{let r=new Set([e]),n=!0;for(;n;)n=!1,t.forEach(e=>{e.parentId&&r.has(e.parentId)&&!r.has(e.id)&&(r.add(e.id),n=!0)});return t.filter(e=>!r.has(e.id))}),i(null))},className:"absolute top-4 right-4 p-2 bg-white text-gray-700 hover:text-red-600 hover:bg-red-50 rounded-full border border-gray-200 hover:border-red-200 shadow-sm transition-all",title:"Supprimer l'Ã©lÃ©ment",children:(0,j.jsx)(tE.Trash2,{size:16})}),(0,j.jsxs)("div",{className:"pb-4 border-b border-gray-100",children:[(0,j.jsx)("label",{className:"block text-xs font-medium text-gray-800 uppercase mb-1",children:"Type d'Ã©lÃ©ment"}),(0,j.jsxs)("div",{className:"text-gray-900 font-medium capitalize flex items-center gap-2",children:[(0,j.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"box"===D.type?"BoÃ®te":"table"===D.type?"Tableau":D.type]})]}),(0,j.jsxs)("div",{className:"pb-4 border-b border-gray-100",children:[(0,j.jsx)("label",{className:"block text-xs font-medium text-gray-800 uppercase mb-2",children:"Positionnement"}),(0,j.jsxs)("div",{className:"flex bg-gray-50 rounded-lg p-1 border border-gray-200",children:[(0,j.jsx)("button",{onClick:()=>y("left"),title:"Aligner Ã  gauche",className:"flex-1 py-1.5 flex justify-center rounded hover:bg-white hover:shadow-sm text-gray-700 hover:text-gray-900 transition-all",children:(0,j.jsx)(tz,{size:16,className:"rotate-180"})}),(0,j.jsx)("button",{onClick:()=>y("center"),title:"Centrer horizontalement",className:"flex-1 py-1.5 flex justify-center rounded hover:bg-white hover:shadow-sm text-gray-700 hover:text-gray-900 transition-all",children:(0,j.jsx)(tz,{size:16})}),(0,j.jsx)("button",{onClick:()=>y("right"),title:"Aligner Ã  droite",className:"flex-1 py-1.5 flex justify-center rounded hover:bg-white hover:shadow-sm text-gray-700 hover:text-gray-900 transition-all",children:(0,j.jsx)(tz,{size:16})})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,j.jsx)(tq,{id:"pos-x",label:"Position X",value:D.x,onChange:e=>E(D.id,{x:e})}),(0,j.jsx)(tq,{id:"pos-y",label:"Position Y",value:D.y,onChange:e=>E(D.id,{y:e})}),(0,j.jsx)(tq,{id:"size-w",label:"Largeur",value:D.w,onChange:e=>{let t={w:e};"100%"===e&&(t.x=0),E(D.id,t)}}),(0,j.jsx)(tq,{id:"size-h",label:"Hauteur",value:D.h,onChange:e=>E(D.id,{h:e})})]}),(0,j.jsxs)("div",{className:"space-y-4 border-t border-gray-100 pt-4",children:[(0,j.jsxs)("h4",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider mb-2 flex items-center gap-2",children:[(0,j.jsx)(tL,{size:12})," Apparence"]}),"text"===D.type&&(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"text-color",className:"block text-xs font-medium text-gray-800 mb-1",children:"Couleur du texte"}),(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)("input",{id:"text-color",type:"color",value:D.style?.color||"#000000",onChange:e=>E(D.id,{style:{...D.style,color:e.target.value}}),className:"h-8 w-8 rounded cursor-pointer border border-gray-200 p-0.5"}),(0,j.jsx)("span",{className:"text-xs text-gray-800",children:D.style?.color||"#000000"})]})]}),("box"===D.type||"line"===D.type||"table"===D.type||"container"===D.type)&&(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"bg-color",className:"block text-xs font-medium text-gray-800 mb-1",children:"line"===D.type?"Couleur de la ligne":"Couleur de fond"}),(0,j.jsx)("div",{className:"flex items-center gap-2",children:(0,j.jsx)("input",{id:"bg-color",type:"color",value:D.style?.backgroundColor||("line"===D.type?"#000000":"#ffffff"),onChange:e=>E(D.id,{style:{...D.style,backgroundColor:e.target.value}}),className:"h-8 w-8 rounded cursor-pointer border border-gray-200 p-0.5"})})]}),("box"===D.type||"container"===D.type)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"border-color",className:"block text-xs font-medium text-gray-800 mb-1",children:"Couleur Bordure"}),(0,j.jsx)("input",{id:"border-color",type:"color",value:D.style?.borderColor||"#000000",onChange:e=>E(D.id,{style:{...D.style,borderColor:e.target.value}}),className:"h-8 w-8 rounded cursor-pointer border border-gray-200 p-0.5"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"border-width",className:"block text-xs font-medium text-gray-800 mb-1",children:"Ãpaisseur bordure (px)"}),(0,j.jsx)("input",{id:"border-width",type:"number",value:parseInt(D.style?.borderWidth)||1,onChange:e=>E(D.id,{style:{...D.style,borderWidth:`${e.target.value}px`}}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"border-style",className:"block text-xs font-medium text-gray-800 mb-1",children:"Style de bordure"}),(0,j.jsxs)("select",{id:"border-style",value:D.style?.borderStyle||"solid",onChange:e=>E(D.id,{style:{...D.style,borderStyle:e.target.value}}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900",children:[(0,j.jsx)("option",{value:"solid",children:"Solide"}),(0,j.jsx)("option",{value:"dashed",children:"Tirets"}),(0,j.jsx)("option",{value:"dotted",children:"Points"}),(0,j.jsx)("option",{value:"double",children:"Double"}),(0,j.jsx)("option",{value:"none",children:"Aucune"})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"border-radius",className:"block text-xs font-medium text-gray-800 mb-1",children:"Arrondi (px)"}),(0,j.jsx)("input",{id:"border-radius",type:"number",value:parseInt(D.style?.borderRadius)||0,onChange:e=>E(D.id,{style:{...D.style,borderRadius:`${e.target.value}px`}}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900"})]})]})]}),"text"===D.type&&(0,j.jsxs)("div",{className:"space-y-4 border-t border-gray-100 pt-4",children:[(0,j.jsxs)("h4",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider mb-2 flex items-center gap-2",children:[(0,j.jsx)(tb,{size:12})," Contenu"]}),(0,j.jsxs)("div",{className:"space-y-1",children:[(0,j.jsx)("label",{className:"block text-xs font-medium text-gray-800",children:"Alignement"}),(0,j.jsxs)("div",{className:"flex bg-gray-50 rounded-lg p-1 border border-gray-200",children:[(0,j.jsx)("button",{onClick:()=>E(D.id,{style:{...D.style,textAlign:"left"}}),className:`flex-1 py-1 flex justify-center rounded ${!D.style?.textAlign||D.style?.textAlign==="left"?"bg-white shadow-sm text-blue-600":"text-gray-700 hover:text-gray-900"}`,title:"Gauche",children:(0,j.jsx)(tD,{size:16})}),(0,j.jsx)("button",{onClick:()=>E(D.id,{style:{...D.style,textAlign:"center"}}),className:`flex-1 py-1 flex justify-center rounded ${D.style?.textAlign==="center"?"bg-white shadow-sm text-blue-600":"text-gray-700 hover:text-gray-900"}`,title:"Centre",children:(0,j.jsx)(tM,{size:16})}),(0,j.jsx)("button",{onClick:()=>E(D.id,{style:{...D.style,textAlign:"right"}}),className:`flex-1 py-1 flex justify-center rounded ${D.style?.textAlign==="right"?"bg-white shadow-sm text-blue-600":"text-gray-700 hover:text-gray-900"}`,title:"Droite",children:(0,j.jsx)(tR,{size:16})})]})]}),(0,j.jsxs)("div",{className:"space-y-1",children:[(0,j.jsx)("label",{htmlFor:"text-content",className:"block text-xs font-medium text-gray-800",children:"Texte"}),(0,j.jsx)("textarea",{id:"text-content",value:D.content,onChange:e=>E(D.id,{content:e.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900 min-h-[80px]",rows:4})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{className:"block text-xs font-medium text-gray-800 mb-2",children:"InsÃ©rer une variable"}),(0,j.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,j.jsx)("button",{onClick:()=>v("client"),className:"px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded border border-blue-100 hover:bg-blue-100",children:"Client"}),(0,j.jsx)("button",{onClick:()=>v("date"),className:"px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded border border-blue-100 hover:bg-blue-100",children:"Date"}),(0,j.jsx)("button",{onClick:()=>v("number"),className:"px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded border border-blue-100 hover:bg-blue-100",children:"NumÃ©ro"})]})]}),(0,j.jsxs)("div",{className:"space-y-1",children:[(0,j.jsx)("label",{htmlFor:"text-size",className:"block text-xs font-medium text-gray-800",children:"Taille de police (px)"}),(0,j.jsx)("input",{id:"text-size",type:"text",value:D.style?.fontSize||"",onChange:e=>E(D.id,{style:{...D.style,fontSize:e.target.value}}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900"})]})]}),"image"===D.type&&(0,j.jsxs)("div",{className:"space-y-4 border-t border-gray-100 pt-4",children:[(0,j.jsxs)("h4",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider mb-2 flex items-center gap-2",children:[(0,j.jsx)(ty,{size:12})," Source de l'image"]}),(0,j.jsxs)("div",{className:"flex bg-gray-50 rounded-lg p-1 border border-gray-200 mb-3",children:[(0,j.jsx)("button",{onClick:()=>b("url"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${"url"===m?"bg-white shadow-sm text-blue-600":"text-gray-800 hover:text-gray-900"}`,children:"Lien URL"}),(0,j.jsx)("button",{onClick:()=>b("upload"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${"upload"===m?"bg-white shadow-sm text-blue-600":"text-gray-800 hover:text-gray-900"}`,children:"Importer"})]}),"url"===m?(0,j.jsxs)("div",{className:"space-y-1",children:[(0,j.jsx)("label",{htmlFor:"img-url",className:"block text-xs font-medium text-gray-800",children:"URL de l'image"}),(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)("input",{id:"img-url",type:"text",value:D.content||"",onChange:e=>E(D.id,{content:e.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900",placeholder:"https://..."},"url-input"),(0,j.jsx)(tA,{size:16,className:"text-gray-800 shrink-0"})]})]}):(0,j.jsxs)("div",{className:"space-y-1",children:[(0,j.jsx)("label",{htmlFor:"img-file",className:"block text-xs font-medium text-gray-800",children:"Fichier local"}),(0,j.jsxs)("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors text-center cursor-pointer relative",children:[(0,j.jsx)("input",{id:"img-file",type:"file",accept:"image/*",onChange:e=>{if(!a)return;let t=e.target.files?.[0];if(t){let e=new FileReader;e.onloadend=()=>{E(a,{content:e.result})},e.readAsDataURL(t)}},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"},"file-input"),(0,j.jsx)(tT,{size:20,className:"mx-auto text-gray-800 mb-2"}),(0,j.jsx)("span",{className:"text-xs text-gray-800",children:"Cliquez pour choisir une image"})]}),(0,j.jsx)("p",{className:"text-[10px] text-gray-700 mt-1",children:"L'image sera convertie et enregistrÃ©e avec le modÃ¨le."})]})]}),"table"===D.type&&(0,j.jsxs)("div",{className:"space-y-4 border-t border-gray-100 pt-4",children:[(0,j.jsxs)("h4",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider mb-2 flex items-center gap-2",children:[(0,j.jsx)(tN,{size:12})," Colonnes du tableau"]}),(0,j.jsxs)("div",{className:"space-y-2",children:[(D.columns||[]).map((e,t)=>(0,j.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-md border border-gray-200",children:[(0,j.jsx)("input",{type:"text",value:e.label,onChange:r=>{let n=[...D.columns||[]];n[t]={...e,label:r.target.value},E(D.id,{columns:n})},className:"flex-1 bg-white border border-gray-200 rounded px-2 py-1 text-sm text-gray-900",placeholder:"Nom de la colonne"}),(0,j.jsxs)("div",{className:"flex gap-1",children:[(0,j.jsx)("button",{onClick:()=>{if(0===t)return;let e=[...D.columns||[]];[e[t-1],e[t]]=[e[t],e[t-1]],E(D.id,{columns:e})},disabled:0===t,className:"p-1 text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded disabled:opacity-30 disabled:cursor-not-allowed",title:"DÃ©placer vers le haut",children:(0,j.jsx)(tP,{size:14})}),(0,j.jsx)("button",{onClick:()=>{if(t===(D.columns||[]).length-1)return;let e=[...D.columns||[]];[e[t],e[t+1]]=[e[t+1],e[t]],E(D.id,{columns:e})},disabled:t===(D.columns||[]).length-1,className:"p-1 text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded disabled:opacity-30 disabled:cursor-not-allowed",title:"DÃ©placer vers le bas",children:(0,j.jsx)(tI,{size:14})}),(0,j.jsx)("button",{onClick:()=>{let e=(D.columns||[]).filter((e,r)=>r!==t);E(D.id,{columns:e})},disabled:(D.columns||[]).length<=1,className:"p-1 text-red-600 hover:text-red-700 hover:bg-red-50 rounded disabled:opacity-30 disabled:cursor-not-allowed",title:"Supprimer la colonne",children:(0,j.jsx)(tk.X,{size:14})})]})]},e.id)),(0,j.jsxs)("button",{onClick:()=>{let e=[...D.columns||[],{id:tX(),label:`Colonne ${(D.columns||[]).length+1}`}];E(D.id,{columns:e})},className:"w-full py-2 px-3 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-md text-sm font-medium flex items-center justify-center gap-2 transition-colors",children:[(0,j.jsx)(tH,{size:16}),"Ajouter une colonne"]})]})]})]}):(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2 pb-4 border-b border-gray-100",children:[(0,j.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg text-gray-800",children:(0,j.jsx)(tO,{size:20})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"font-bold text-gray-900",children:"ParamÃ¨tres globaux"}),(0,j.jsx)("p",{className:"text-xs text-gray-800",children:"Configuration du document"})]})]}),(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsxs)("div",{className:"space-y-1",children:[(0,j.jsx)("label",{htmlFor:"template-name",className:"block text-xs font-medium text-gray-800",children:"Nom du modÃ¨le"}),(0,j.jsx)("input",{id:"template-name",type:"text",value:d,onChange:e=>u(e.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900",placeholder:"Nom du modÃ¨le"})]}),(0,j.jsxs)("div",{className:"space-y-1",children:[(0,j.jsx)("label",{htmlFor:"page-padding",className:"block text-xs font-medium text-gray-800",children:"Marge de page (px)"}),(0,j.jsx)("input",{id:"page-padding",type:"number",value:n.padding,onChange:e=>l({...n,padding:parseInt(e.target.value)||0}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900"})]}),(0,j.jsxs)("div",{className:"space-y-1",children:[(0,j.jsx)("label",{htmlFor:"header-height",className:"block text-xs font-medium text-gray-800",children:"Hauteur Header (px)"}),(0,j.jsx)("input",{id:"header-height",type:"number",value:n.headerHeight,onChange:e=>l({...n,headerHeight:parseInt(e.target.value)||0}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900"}),(0,j.jsx)("p",{className:"text-[10px] text-gray-700",children:"Espace rÃ©servÃ© en haut de page"})]}),(0,j.jsxs)("div",{className:"space-y-1",children:[(0,j.jsx)("label",{htmlFor:"footer-height",className:"block text-xs font-medium text-gray-800",children:"Hauteur Footer (px)"}),(0,j.jsx)("input",{id:"footer-height",type:"number",value:n.footerHeight,onChange:e=>l({...n,footerHeight:parseInt(e.target.value)||0}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900"}),(0,j.jsx)("p",{className:"text-[10px] text-gray-700",children:"Espace rÃ©servÃ© en bas de page"})]})]}),(0,j.jsx)("div",{className:"p-4 bg-yellow-50 rounded-xl border border-yellow-100 mt-4",children:(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsx)(tF.FileText,{className:"text-yellow-600 shrink-0",size:16}),(0,j.jsx)("p",{className:"text-xs text-yellow-700 leading-relaxed",children:"Ces marges dÃ©finissent la zone de sÃ©curitÃ© pour l'impression. Les Ã©lÃ©ments en dehors pourraient Ãªtre coupÃ©s."})]})})]})})]})]}),(0,j.jsx)(tp,{children:s?(0,j.jsx)("div",{className:"bg-blue-600 text-white p-2 rounded shadow-lg text-sm font-medium opacity-90 pointer-events-none",children:s.type?`Ajouter ${s.type}`:"DÃ©placer"}):null}),p&&(0,j.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-8",children:(0,j.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl h-full flex flex-col overflow-hidden",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,j.jsx)("h2",{className:"font-bold",children:"AperÃ§u"}),(0,j.jsx)("button",{onClick:()=>x(!1),title:"Fermer",children:(0,j.jsx)(tk.X,{})})]}),(0,j.jsx)("div",{className:"flex-1 overflow-auto bg-gray-100 p-8 flex justify-center",children:(0,j.jsx)("div",{className:"shadow-2xl",children:(0,j.jsx)(tY.default,{elements:t,globalSettings:n})})})]})})]})}e.s(["default",()=>tJ],37357)}]);