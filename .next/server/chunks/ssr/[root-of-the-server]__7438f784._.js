module.exports=[66680,(a,b,c)=>{b.exports=a.x("node:crypto",()=>require("node:crypto"))},49938,a=>{"use strict";let b;var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=a.i(87924),w=a.i(72131),x=a.i(35112);function y(a){let b=Object.prototype.toString.call(a);return"[object Window]"===b||"[object global]"===b}function z(a){return"nodeType"in a}function A(a){var b,c;return a?y(a)?a:z(a)&&null!=(b=null==(c=a.ownerDocument)?void 0:c.defaultView)?b:window:window}function B(a){let{Document:b}=A(a);return a instanceof b}function C(a){return!y(a)&&a instanceof A(a).HTMLElement}function D(a){return a instanceof A(a).SVGElement}function E(a){return a?y(a)?a.document:z(a)?B(a)?a:C(a)||D(a)?a.ownerDocument:document:document:document}let F=w.useEffect;function G(a){let b=(0,w.useRef)(a);return F(()=>{b.current=a}),(0,w.useCallback)(function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];return null==b.current?void 0:b.current(...c)},[])}function H(a,b){void 0===b&&(b=[a]);let c=(0,w.useRef)(a);return F(()=>{c.current!==a&&(c.current=a)},b),c}function I(a,b){let c=(0,w.useRef)();return(0,w.useMemo)(()=>{let b=a(c.current);return c.current=b,b},[...b])}function J(a){let b=G(a),c=(0,w.useRef)(null),d=(0,w.useCallback)(a=>{a!==c.current&&(null==b||b(a,c.current)),c.current=a},[]);return[c,d]}function K(a){let b=(0,w.useRef)();return(0,w.useEffect)(()=>{b.current=a},[a]),b.current}let L={};function M(a,b){return(0,w.useMemo)(()=>{if(b)return b;let c=null==L[a]?0:L[a]+1;return L[a]=c,a+"-"+c},[a,b])}function N(a){return function(b){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return d.reduce((b,c)=>{for(let[d,e]of Object.entries(c)){let c=b[d];null!=c&&(b[d]=c+a*e)}return b},{...b})}}let O=N(1),P=N(-1);function Q(a){if(!a)return!1;let{KeyboardEvent:b}=A(a.target);return b&&a instanceof b}function R(a){if(function(a){if(!a)return!1;let{TouchEvent:b}=A(a.target);return b&&a instanceof b}(a)){if(a.touches&&a.touches.length){let{clientX:b,clientY:c}=a.touches[0];return{x:b,y:c}}else if(a.changedTouches&&a.changedTouches.length){let{clientX:b,clientY:c}=a.changedTouches[0];return{x:b,y:c}}}return"clientX"in a&&"clientY"in a?{x:a.clientX,y:a.clientY}:null}let S=Object.freeze({Translate:{toString(a){if(!a)return;let{x:b,y:c}=a;return"translate3d("+(b?Math.round(b):0)+"px, "+(c?Math.round(c):0)+"px, 0)"}},Scale:{toString(a){if(!a)return;let{scaleX:b,scaleY:c}=a;return"scaleX("+b+") scaleY("+c+")"}},Transform:{toString(a){if(a)return[S.Translate.toString(a),S.Scale.toString(a)].join(" ")}},Transition:{toString(a){let{property:b,duration:c,easing:d}=a;return b+" "+c+"ms "+d}}}),T="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",U={display:"none"};function V(a){let{id:b,value:c}=a;return w.default.createElement("div",{id:b,style:U},c)}function W(a){let{id:b,announcement:c,ariaLiveType:d="assertive"}=a;return w.default.createElement("div",{id:b,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":d,"aria-atomic":!0},c)}let X=(0,w.createContext)(null),Y={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Z={onDragStart(a){let{active:b}=a;return"Picked up draggable item "+b.id+"."},onDragOver(a){let{active:b,over:c}=a;return c?"Draggable item "+b.id+" was moved over droppable area "+c.id+".":"Draggable item "+b.id+" is no longer over a droppable area."},onDragEnd(a){let{active:b,over:c}=a;return c?"Draggable item "+b.id+" was dropped over droppable area "+c.id:"Draggable item "+b.id+" was dropped."},onDragCancel(a){let{active:b}=a;return"Dragging was cancelled. Draggable item "+b.id+" was dropped."}};function $(a){var b;let c,{announcements:d=Z,container:e,hiddenTextDescribedById:f,screenReaderInstructions:g=Y}=a,{announce:h,announcement:i}=function(){let[a,b]=(0,w.useState)("");return{announce:(0,w.useCallback)(a=>{null!=a&&b(a)},[]),announcement:a}}(),j=M("DndLiveRegion"),[k,l]=(0,w.useState)(!1);if((0,w.useEffect)(()=>{l(!0)},[]),b=(0,w.useMemo)(()=>({onDragStart(a){let{active:b}=a;h(d.onDragStart({active:b}))},onDragMove(a){let{active:b,over:c}=a;d.onDragMove&&h(d.onDragMove({active:b,over:c}))},onDragOver(a){let{active:b,over:c}=a;h(d.onDragOver({active:b,over:c}))},onDragEnd(a){let{active:b,over:c}=a;h(d.onDragEnd({active:b,over:c}))},onDragCancel(a){let{active:b,over:c}=a;h(d.onDragCancel({active:b,over:c}))}}),[h,d]),c=(0,w.useContext)(X),(0,w.useEffect)(()=>{if(!c)throw Error("useDndMonitor must be used within a children of <DndContext>");return c(b)},[b,c]),!k)return null;let m=w.default.createElement(w.default.Fragment,null,w.default.createElement(V,{id:f,value:g.draggable}),w.default.createElement(W,{id:j,announcement:i}));return e?(0,x.createPortal)(m,e):m}function _(){}function aa(a,b){return(0,w.useMemo)(()=>({sensor:a,options:null!=b?b:{}}),[a,b])}(c=l||(l={})).DragStart="dragStart",c.DragMove="dragMove",c.DragEnd="dragEnd",c.DragCancel="dragCancel",c.DragOver="dragOver",c.RegisterDroppable="registerDroppable",c.SetDroppableDisabled="setDroppableDisabled",c.UnregisterDroppable="unregisterDroppable";let ab=Object.freeze({x:0,y:0});function ac(a,b){let{data:{value:c}}=a,{data:{value:d}}=b;return d-c}let ad=a=>{let{collisionRect:b,droppableRects:c,droppableContainers:d}=a,e=[];for(let a of d){let{id:d}=a,f=c.get(d);if(f){let c=function(a,b){let c=Math.max(b.top,a.top),d=Math.max(b.left,a.left),e=Math.min(b.left+b.width,a.left+a.width),f=Math.min(b.top+b.height,a.top+a.height);if(d<e&&c<f){let g=b.width*b.height,h=a.width*a.height,i=(e-d)*(f-c);return Number((i/(g+h-i)).toFixed(4))}return 0}(f,b);c>0&&e.push({id:d,data:{droppableContainer:a,value:c}})}}return e.sort(ac)};function ae(a,b){return a&&b?{x:a.left-b.left,y:a.top-b.top}:ab}let af=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return c.reduce((a,b)=>({...a,top:a.top+ +b.y,bottom:a.bottom+ +b.y,left:a.left+ +b.x,right:a.right+ +b.x}),{...a})};function ag(a){if(a.startsWith("matrix3d(")){let b=a.slice(9,-1).split(/, /);return{x:+b[12],y:+b[13],scaleX:+b[0],scaleY:+b[5]}}if(a.startsWith("matrix(")){let b=a.slice(7,-1).split(/, /);return{x:+b[4],y:+b[5],scaleX:+b[0],scaleY:+b[3]}}return null}let ah={ignoreTransform:!1};function ai(a,b){void 0===b&&(b=ah);let c=a.getBoundingClientRect();if(b.ignoreTransform){let{transform:b,transformOrigin:d}=A(a).getComputedStyle(a);b&&(c=function(a,b,c){let d=ag(b);if(!d)return a;let{scaleX:e,scaleY:f,x:g,y:h}=d,i=a.left-g-(1-e)*parseFloat(c),j=a.top-h-(1-f)*parseFloat(c.slice(c.indexOf(" ")+1)),k=e?a.width/e:a.width,l=f?a.height/f:a.height;return{width:k,height:l,top:j,right:i+k,bottom:j+l,left:i}}(c,b,d))}let{top:d,left:e,width:f,height:g,bottom:h,right:i}=c;return{top:d,left:e,width:f,height:g,bottom:h,right:i}}function aj(a){return ai(a,{ignoreTransform:!0})}function ak(a,b){let c=[];return a?function d(e){var f,g;let h;if(null!=b&&c.length>=b||!e)return c;if(B(e)&&null!=e.scrollingElement&&!c.includes(e.scrollingElement))return c.push(e.scrollingElement),c;if(!C(e)||D(e)||c.includes(e))return c;let i=A(a).getComputedStyle(e);return(e!==a&&(void 0===(f=i)&&(f=A(e).getComputedStyle(e)),h=/(auto|scroll|overlay)/,["overflow","overflowX","overflowY"].some(a=>{let b=f[a];return"string"==typeof b&&h.test(b)}))&&c.push(e),void 0===(g=i)&&(g=A(e).getComputedStyle(e)),"fixed"===g.position)?c:d(e.parentNode)}(a):c}function al(a){let[b]=ak(a,1);return null!=b?b:null}function am(a){return y(a)?a.scrollX:a.scrollLeft}function an(a){return y(a)?a.scrollY:a.scrollTop}function ao(a){return{x:am(a),y:an(a)}}function ap(a){let b={x:0,y:0},c={height:a.clientHeight,width:a.clientWidth},d={x:a.scrollWidth-c.width,y:a.scrollHeight-c.height},e=a.scrollTop<=b.y,f=a.scrollLeft<=b.x;return{isTop:e,isLeft:f,isBottom:a.scrollTop>=d.y,isRight:a.scrollLeft>=d.x,maxScroll:d,minScroll:b}}(d=m||(m={}))[d.Forward=1]="Forward",d[d.Backward=-1]="Backward";let aq={x:.2,y:.2};function ar(a){return a.reduce((a,b)=>O(a,ao(b)),ab)}function as(a,b){if(void 0===b&&(b=ai),!a)return;let{top:c,left:d,bottom:e,right:f}=b(a);al(a)&&(e<=0||f<=0||c>=window.innerHeight||d>=window.innerWidth)&&a.scrollIntoView({block:"center",inline:"center"})}let at=[["x",["left","right"],function(a){return a.reduce((a,b)=>a+am(b),0)}],["y",["top","bottom"],function(a){return a.reduce((a,b)=>a+an(b),0)}]];class au{constructor(a,b){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const c=ak(b),d=ar(c);for(const[b,e,f]of(this.rect={...a},this.width=a.width,this.height=a.height,at))for(const a of e)Object.defineProperty(this,a,{get:()=>{let e=f(c),g=d[b]-e;return this.rect[a]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class av{constructor(a){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var b;return null==(b=this.target)?void 0:b.removeEventListener(...a)})},this.target=a}add(a,b,c){var d;null==(d=this.target)||d.addEventListener(a,b,c),this.listeners.push([a,b,c])}}function aw(a,b){let c=Math.abs(a.x),d=Math.abs(a.y);return"number"==typeof b?Math.sqrt(c**2+d**2)>b:"x"in b&&"y"in b?c>b.x&&d>b.y:"x"in b?c>b.x:"y"in b&&d>b.y}function ax(a){a.preventDefault()}function ay(a){a.stopPropagation()}(e=n||(n={})).Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange",(f=o||(o={})).Space="Space",f.Down="ArrowDown",f.Right="ArrowRight",f.Left="ArrowLeft",f.Up="ArrowUp",f.Esc="Escape",f.Enter="Enter",f.Tab="Tab";let az={start:[o.Space,o.Enter],cancel:[o.Esc],end:[o.Space,o.Enter,o.Tab]},aA=(a,b)=>{let{currentCoordinates:c}=b;switch(a.code){case o.Right:return{...c,x:c.x+25};case o.Left:return{...c,x:c.x-25};case o.Down:return{...c,y:c.y+25};case o.Up:return{...c,y:c.y-25}}};class aB{constructor(a){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=a;const{event:{target:b}}=a;this.props=a,this.listeners=new av(E(b)),this.windowListeners=new av(A(b)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(n.Resize,this.handleCancel),this.windowListeners.add(n.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(n.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:a,onStart:b}=this.props,c=a.node.current;c&&as(c),b(ab)}handleKeyDown(a){if(Q(a)){let{active:b,context:c,options:d}=this.props,{keyboardCodes:e=az,coordinateGetter:f=aA,scrollBehavior:g="smooth"}=d,{code:h}=a;if(e.end.includes(h))return void this.handleEnd(a);if(e.cancel.includes(h))return void this.handleCancel(a);let{collisionRect:i}=c.current,j=i?{x:i.left,y:i.top}:ab;this.referenceCoordinates||(this.referenceCoordinates=j);let k=f(a,{active:b,context:c.current,currentCoordinates:j});if(k){let b=P(k,j),d={x:0,y:0},{scrollableAncestors:e}=c.current;for(let c of e){let e=a.code,{isTop:f,isRight:h,isLeft:i,isBottom:j,maxScroll:l,minScroll:m}=ap(c),n=function(a){if(a===document.scrollingElement){let{innerWidth:a,innerHeight:b}=window;return{top:0,left:0,right:a,bottom:b,width:a,height:b}}let{top:b,left:c,right:d,bottom:e}=a.getBoundingClientRect();return{top:b,left:c,right:d,bottom:e,width:a.clientWidth,height:a.clientHeight}}(c),p={x:Math.min(e===o.Right?n.right-n.width/2:n.right,Math.max(e===o.Right?n.left:n.left+n.width/2,k.x)),y:Math.min(e===o.Down?n.bottom-n.height/2:n.bottom,Math.max(e===o.Down?n.top:n.top+n.height/2,k.y))},q=e===o.Right&&!h||e===o.Left&&!i,r=e===o.Down&&!j||e===o.Up&&!f;if(q&&p.x!==k.x){let a=c.scrollLeft+b.x,f=e===o.Right&&a<=l.x||e===o.Left&&a>=m.x;if(f&&!b.y)return void c.scrollTo({left:a,behavior:g});f?d.x=c.scrollLeft-a:d.x=e===o.Right?c.scrollLeft-l.x:c.scrollLeft-m.x,d.x&&c.scrollBy({left:-d.x,behavior:g});break}if(r&&p.y!==k.y){let a=c.scrollTop+b.y,f=e===o.Down&&a<=l.y||e===o.Up&&a>=m.y;if(f&&!b.x)return void c.scrollTo({top:a,behavior:g});f?d.y=c.scrollTop-a:d.y=e===o.Down?c.scrollTop-l.y:c.scrollTop-m.y,d.y&&c.scrollBy({top:-d.y,behavior:g});break}}this.handleMove(a,O(P(k,this.referenceCoordinates),d))}}}handleMove(a,b){let{onMove:c}=this.props;a.preventDefault(),c(b)}handleEnd(a){let{onEnd:b}=this.props;a.preventDefault(),this.detach(),b()}handleCancel(a){let{onCancel:b}=this.props;a.preventDefault(),this.detach(),b()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function aC(a){return!!(a&&"distance"in a)}function aD(a){return!!(a&&"delay"in a)}aB.activators=[{eventName:"onKeyDown",handler:(a,b,c)=>{let{keyboardCodes:d=az,onActivation:e}=b,{active:f}=c,{code:g}=a.nativeEvent;if(d.start.includes(g)){let b=f.activatorNode.current;return(!b||a.target===b)&&(a.preventDefault(),null==e||e({event:a.nativeEvent}),!0)}return!1}}];class aE{constructor(a,b,c){var d;void 0===c&&(c=function(a){let{EventTarget:b}=A(a);return a instanceof b?a:E(a)}(a.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=a,this.events=b;const{event:e}=a,{target:f}=e;this.props=a,this.events=b,this.document=E(f),this.documentListeners=new av(this.document),this.listeners=new av(c),this.windowListeners=new av(A(f)),this.initialCoordinates=null!=(d=R(e))?d:ab,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:a,props:{options:{activationConstraint:b,bypassActivationConstraint:c}}}=this;if(this.listeners.add(a.move.name,this.handleMove,{passive:!1}),this.listeners.add(a.end.name,this.handleEnd),a.cancel&&this.listeners.add(a.cancel.name,this.handleCancel),this.windowListeners.add(n.Resize,this.handleCancel),this.windowListeners.add(n.DragStart,ax),this.windowListeners.add(n.VisibilityChange,this.handleCancel),this.windowListeners.add(n.ContextMenu,ax),this.documentListeners.add(n.Keydown,this.handleKeydown),b){if(null!=c&&c({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(aD(b)){this.timeoutId=setTimeout(this.handleStart,b.delay),this.handlePending(b);return}if(aC(b))return void this.handlePending(b)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(a,b){let{active:c,onPending:d}=this.props;d(c,a,this.initialCoordinates,b)}handleStart(){let{initialCoordinates:a}=this,{onStart:b}=this.props;a&&(this.activated=!0,this.documentListeners.add(n.Click,ay,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(n.SelectionChange,this.removeTextSelection),b(a))}handleMove(a){var b;let{activated:c,initialCoordinates:d,props:e}=this,{onMove:f,options:{activationConstraint:g}}=e;if(!d)return;let h=null!=(b=R(a))?b:ab,i=P(d,h);if(!c&&g){if(aC(g)){if(null!=g.tolerance&&aw(i,g.tolerance))return this.handleCancel();if(aw(i,g.distance))return this.handleStart()}return aD(g)&&aw(i,g.tolerance)?this.handleCancel():void this.handlePending(g,i)}a.cancelable&&a.preventDefault(),f(h)}handleEnd(){let{onAbort:a,onEnd:b}=this.props;this.detach(),this.activated||a(this.props.active),b()}handleCancel(){let{onAbort:a,onCancel:b}=this.props;this.detach(),this.activated||a(this.props.active),b()}handleKeydown(a){a.code===o.Esc&&this.handleCancel()}removeTextSelection(){var a;null==(a=this.document.getSelection())||a.removeAllRanges()}}let aF={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class aG extends aE{constructor(a){const{event:b}=a;super(a,aF,E(b.target))}}aG.activators=[{eventName:"onPointerDown",handler:(a,b)=>{let{nativeEvent:c}=a,{onActivation:d}=b;return!!c.isPrimary&&0===c.button&&(null==d||d({event:c}),!0)}}];let aH={move:{name:"mousemove"},end:{name:"mouseup"}};(g=p||(p={}))[g.RightClick=2]="RightClick";class aI extends aE{constructor(a){super(a,aH,E(a.event.target))}}aI.activators=[{eventName:"onMouseDown",handler:(a,b)=>{let{nativeEvent:c}=a,{onActivation:d}=b;return c.button!==p.RightClick&&(null==d||d({event:c}),!0)}}];let aJ={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class aK extends aE{constructor(a){super(a,aJ)}static setup(){return window.addEventListener(aJ.move.name,a,{capture:!1,passive:!1}),function(){window.removeEventListener(aJ.move.name,a)};function a(){}}}aK.activators=[{eventName:"onTouchStart",handler:(a,b)=>{let{nativeEvent:c}=a,{onActivation:d}=b,{touches:e}=c;return!(e.length>1)&&(null==d||d({event:c}),!0)}}],(h=q||(q={}))[h.Pointer=0]="Pointer",h[h.DraggableRect=1]="DraggableRect",(i=r||(r={}))[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder";let aL={x:{[m.Backward]:!1,[m.Forward]:!1},y:{[m.Backward]:!1,[m.Forward]:!1}};(j=s||(s={}))[j.Always=0]="Always",j[j.BeforeDragging=1]="BeforeDragging",j[j.WhileDragging=2]="WhileDragging",(t||(t={})).Optimized="optimized";let aM=new Map;function aN(a,b){return I(c=>a?c||("function"==typeof b?b(a):a):null,[b,a])}function aO(a){let{callback:b,disabled:c}=a;G(b);let d=(0,w.useMemo)(()=>{},[c]);return(0,w.useEffect)(()=>()=>null==d?void 0:d.disconnect(),[d]),d}function aP(a){return new au(ai(a),a)}function aQ(a,b,c){void 0===b&&(b=aP);let[d,e]=(0,w.useState)(null);function f(){e(d=>{if(!a)return null;if(!1===a.isConnected){var e;return null!=(e=null!=d?d:c)?e:null}let f=b(a);return JSON.stringify(d)===JSON.stringify(f)?d:f})}let g=function(a){let{callback:b,disabled:c}=a,d=G(b),e=(0,w.useMemo)(()=>{},[d,c]);return(0,w.useEffect)(()=>()=>null==e?void 0:e.disconnect(),[e]),e}({callback(b){if(a)for(let c of b){let{type:b,target:d}=c;if("childList"===b&&d instanceof HTMLElement&&d.contains(a)){f();break}}}}),h=aO({callback:f});return F(()=>{f(),a?(null==h||h.observe(a),null==g||g.observe(document.body,{childList:!0,subtree:!0})):(null==h||h.disconnect(),null==g||g.disconnect())},[a]),d}let aR=[];function aS(a,b){void 0===b&&(b=[]);let c=(0,w.useRef)(null);return(0,w.useEffect)(()=>{c.current=null},b),(0,w.useEffect)(()=>{let b=a!==ab;b&&!c.current&&(c.current=a),!b&&c.current&&(c.current=null)},[a]),c.current?P(a,c.current):ab}function aT(a){return(0,w.useMemo)(()=>{let b,c;return a?(b=a.innerWidth,{top:0,left:0,right:b,bottom:c=a.innerHeight,width:b,height:c}):null},[a])}let aU=[];function aV(a){if(!a)return null;if(a.children.length>1)return a;let b=a.children[0];return C(b)?b:a}let aW=[{sensor:aG,options:{}},{sensor:aB,options:{}}],aX={current:{}},aY={draggable:{measure:aj},droppable:{measure:aj,strategy:s.WhileDragging,frequency:t.Optimized},dragOverlay:{measure:ai}};class aZ extends Map{get(a){var b;return null!=a&&null!=(b=super.get(a))?b:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(a=>{let{disabled:b}=a;return!b})}getNodeFor(a){var b,c;return null!=(b=null==(c=this.get(a))?void 0:c.node.current)?b:void 0}}let a$={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new aZ,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:_},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:aY,measureDroppableContainers:_,windowRect:null,measuringScheduled:!1},a_={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:_,draggableNodes:new Map,over:null,measureDroppableContainers:_},a0=(0,w.createContext)(a_),a1=(0,w.createContext)(a$);function a2(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new aZ}}}function a3(a,b){switch(b.type){case l.DragStart:return{...a,draggable:{...a.draggable,initialCoordinates:b.initialCoordinates,active:b.active}};case l.DragMove:if(null==a.draggable.active)return a;return{...a,draggable:{...a.draggable,translate:{x:b.coordinates.x-a.draggable.initialCoordinates.x,y:b.coordinates.y-a.draggable.initialCoordinates.y}}};case l.DragEnd:case l.DragCancel:return{...a,draggable:{...a.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case l.RegisterDroppable:{let{element:c}=b,{id:d}=c,e=new aZ(a.droppable.containers);return e.set(d,c),{...a,droppable:{...a.droppable,containers:e}}}case l.SetDroppableDisabled:{let{id:c,key:d,disabled:e}=b,f=a.droppable.containers.get(c);if(!f||d!==f.key)return a;let g=new aZ(a.droppable.containers);return g.set(c,{...f,disabled:e}),{...a,droppable:{...a.droppable,containers:g}}}case l.UnregisterDroppable:{let{id:c,key:d}=b,e=a.droppable.containers.get(c);if(!e||d!==e.key)return a;let f=new aZ(a.droppable.containers);return f.delete(c),{...a,droppable:{...a.droppable,containers:f}}}default:return a}}function a4(a){let{disabled:b}=a,{active:c,activatorEvent:d,draggableNodes:e}=(0,w.useContext)(a0),f=K(d),g=K(null==c?void 0:c.id);return(0,w.useEffect)(()=>{if(!b&&!d&&f&&null!=g){if(!Q(f)||document.activeElement===f.target)return;let a=e.get(g);if(!a)return;let{activatorNode:b,node:c}=a;(b.current||c.current)&&requestAnimationFrame(()=>{for(let a of[b.current,c.current]){if(!a)continue;let b=a.matches(T)?a:a.querySelector(T);if(b){b.focus();break}}})}},[d,b,e,g,f]),null}function a5(a,b){let{transform:c,...d}=b;return null!=a&&a.length?a.reduce((a,b)=>b({transform:a,...d}),c):c}let a6=(0,w.createContext)({...ab,scaleX:1,scaleY:1});(k=u||(u={}))[k.Uninitialized=0]="Uninitialized",k[k.Initializing=1]="Initializing",k[k.Initialized=2]="Initialized";let a7=(0,w.memo)(function(a){var b,c,d,e,f,g,h,i;let j,k,n,o,p,t,v,y,{id:z,accessibility:B,autoScroll:D=!0,children:E,sensors:G=aW,collisionDetection:L=ad,measuring:N,modifiers:P,...Q}=a,[S,T]=(0,w.useReducer)(a3,void 0,a2),[U,V]=function(){let[a]=(0,w.useState)(()=>new Set),b=(0,w.useCallback)(b=>(a.add(b),()=>a.delete(b)),[a]);return[(0,w.useCallback)(b=>{let{type:c,event:d}=b;a.forEach(a=>{var b;return null==(b=a[c])?void 0:b.call(a,d)})},[a]),b]}(),[W,Y]=(0,w.useState)(u.Uninitialized),Z=W===u.Initialized,{draggable:{active:_,nodes:aa,translate:ac},droppable:{containers:ag}}=S,ah=null!=_?aa.get(_):null,aj=(0,w.useRef)({initial:null,translated:null}),am=(0,w.useMemo)(()=>{var a;return null!=_?{id:_,data:null!=(a=null==ah?void 0:ah.data)?a:aX,rect:aj}:null},[_,ah]),an=(0,w.useRef)(null),[as,at]=(0,w.useState)(null),[av,aw]=(0,w.useState)(null),ax=H(Q,Object.values(Q)),ay=M("DndDescribedBy",z),az=(0,w.useMemo)(()=>ag.getEnabled(),[ag]),aA=(0,w.useMemo)(()=>({draggable:{...aY.draggable,...null==N?void 0:N.draggable},droppable:{...aY.droppable,...null==N?void 0:N.droppable},dragOverlay:{...aY.dragOverlay,...null==N?void 0:N.dragOverlay}}),[null==N?void 0:N.draggable,null==N?void 0:N.droppable,null==N?void 0:N.dragOverlay]),{droppableRects:aB,measureDroppableContainers:aC,measuringScheduled:aD}=function(a,b){let{dragging:c,dependencies:d,config:e}=b,[f,g]=(0,w.useState)(null),{frequency:h,measure:i,strategy:j}=e,k=(0,w.useRef)(a),l=function(){switch(j){case s.Always:return!1;case s.BeforeDragging:return c;default:return!c}}(),m=H(l),n=(0,w.useCallback)(function(a){void 0===a&&(a=[]),m.current||g(b=>null===b?a:b.concat(a.filter(a=>!b.includes(a))))},[m]),o=(0,w.useRef)(null),p=I(b=>{if(l&&!c)return aM;if(!b||b===aM||k.current!==a||null!=f){let b=new Map;for(let c of a){if(!c)continue;if(f&&f.length>0&&!f.includes(c.id)&&c.rect.current){b.set(c.id,c.rect.current);continue}let a=c.node.current,d=a?new au(i(a),a):null;c.rect.current=d,d&&b.set(c.id,d)}return b}return b},[a,f,c,l,i]);return(0,w.useEffect)(()=>{k.current=a},[a]),(0,w.useEffect)(()=>{l||n()},[c,l]),(0,w.useEffect)(()=>{f&&f.length>0&&g(null)},[JSON.stringify(f)]),(0,w.useEffect)(()=>{l||"number"!=typeof h||null!==o.current||(o.current=setTimeout(()=>{n(),o.current=null},h))},[h,l,n,...d]),{droppableRects:p,measureDroppableContainers:n,measuringScheduled:null!=f}}(az,{dragging:Z,dependencies:[ac.x,ac.y],config:aA.droppable}),aE=I(a=>{var b;return null==_?null:null!=(b=null!=p?p:a)?b:null},[p=(o=null!=_?aa.get(_):void 0)?o.node.current:null,_]),aF=(0,w.useMemo)(()=>av?R(av):null,[av]),aG=(j=(null==as?void 0:as.autoScrollEnabled)===!1,k="object"==typeof D?!1===D.enabled:!1===D,n=Z&&!j&&!k,"object"==typeof D?{...D,enabled:n}:{enabled:n}),aH=aN(aE,aA.draggable.measure);!function(a){let{activeNode:b,measure:c,initialRect:d,config:e=!0}=a,f=(0,w.useRef)(!1),{x:g,y:h}="boolean"==typeof e?{x:e,y:e}:e;F(()=>{if(!g&&!h||!b){f.current=!1;return}if(f.current||!d)return;let a=null==b?void 0:b.node.current;if(!a||!1===a.isConnected)return;let e=ae(c(a),d);if(g||(e.x=0),h||(e.y=0),f.current=!0,Math.abs(e.x)>0||Math.abs(e.y)>0){let b=al(a);b&&b.scrollBy({top:e.y,left:e.x})}},[b,g,h,d,c])}({activeNode:null!=_?aa.get(_):null,config:aG.layoutShiftCompensation,initialRect:aH,measure:aA.draggable.measure});let aI=aQ(aE,aA.draggable.measure,aH),aJ=aQ(aE?aE.parentElement:null),aK=(0,w.useRef)({activatorEvent:null,active:null,activeNode:aE,collisionRect:null,collisions:null,droppableRects:aB,draggableNodes:aa,draggingNode:null,draggingNodeRect:null,droppableContainers:ag,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),aP=ag.getNodeFor(null==(b=aK.current.over)?void 0:b.id),aZ=function(a){let{measure:b}=a,[c,d]=(0,w.useState)(null),e=aO({callback:(0,w.useCallback)(a=>{for(let{target:c}of a)if(C(c)){d(a=>{let d=b(c);return a?{...a,width:d.width,height:d.height}:d});break}},[b])}),[f,g]=J((0,w.useCallback)(a=>{let c=aV(a);null==e||e.disconnect(),c&&(null==e||e.observe(c)),d(c?b(c):null)},[b,e]));return(0,w.useMemo)(()=>({nodeRef:f,rect:c,setRef:g}),[c,f,g])}({measure:aA.dragOverlay.measure}),a$=null!=(c=aZ.nodeRef.current)?c:aE,a_=Z?null!=(d=aZ.rect)?d:aI:null,a7=!!(aZ.nodeRef.current&&aZ.rect),a8=(t=aN(f=a7?null:aI),ae(f,t)),a9=aT(a$?A(a$):null),ba=(g=Z?null!=aP?aP:aE:null,v=(0,w.useRef)(g),y=I(a=>g?a&&a!==aR&&g&&v.current&&g.parentNode===v.current.parentNode?a:ak(g):aR,[g]),(0,w.useEffect)(()=>{v.current=g},[g]),y),bb=function(a,b){void 0===b&&(b=ai);let[c]=a,d=aT(c?A(c):null),[e,f]=(0,w.useState)(aU);function g(){f(()=>a.length?a.map(a=>new au(b(a),a)):aU)}let h=aO({callback:g});return F(()=>{null==h||h.disconnect(),g(),a.forEach(a=>null==h?void 0:h.observe(a))},[a]),e}(ba),bc=a5(P,{transform:{x:ac.x-a8.x,y:ac.y-a8.y,scaleX:1,scaleY:1},activatorEvent:av,active:am,activeNodeRect:aI,containerNodeRect:aJ,draggingNodeRect:a_,over:aK.current.over,overlayNodeRect:aZ.rect,scrollableAncestors:ba,scrollableAncestorRects:bb,windowRect:a9}),bd=aF?O(aF,ac):null,be=function(a){let[b,c]=(0,w.useState)(null),d=(0,w.useRef)(a),e=(0,w.useCallback)(a=>{var b;let d=(b=a.target,null);d&&c(a=>a?(a.set(d,ao(d)),new Map(a)):null)},[]);return(0,w.useEffect)(()=>{let b=d.current;if(a!==b){f(b);let g=a.map(a=>{var b;let c=(b=0,null);return c?(c.addEventListener("scroll",e,{passive:!0}),[c,ao(c)]):null}).filter(a=>null!=a);c(g.length?new Map(g):null),d.current=a}return()=>{f(a),f(b)};function f(a){a.forEach(a=>{let b=null;null==b||b.removeEventListener("scroll",e)})}},[e,a]),(0,w.useMemo)(()=>a.length?b?Array.from(b.values()).reduce((a,b)=>O(a,b),ab):ar(a):ab,[a,b])}(ba),bf=aS(be),bg=aS(be,[aI]),bh=O(bc,bf),bi=a_?af(a_,bc):null,bj=am&&bi?L({active:am,collisionRect:bi,droppableRects:aB,droppableContainers:az,pointerCoordinates:bd}):null,bk=function(a,b){if(!a||0===a.length)return null;let[c]=a;return c.id}(bj,0),[bl,bm]=(0,w.useState)(null),bn=(h=a7?bc:O(bc,bg),i=null!=(e=null==bl?void 0:bl.rect)?e:null,{...h,scaleX:i&&aI?i.width/aI.width:1,scaleY:i&&aI?i.height/aI.height:1}),bo=(0,w.useRef)(null),bp=(0,w.useCallback)((a,b)=>{let{sensor:c,options:d}=b;if(null==an.current)return;let e=aa.get(an.current);if(!e)return;let f=a.nativeEvent,g=new c({active:an.current,activeNode:e,event:f,options:d,context:aK,onAbort(a){if(!aa.get(a))return;let{onDragAbort:b}=ax.current,c={id:a};null==b||b(c),U({type:"onDragAbort",event:c})},onPending(a,b,c,d){if(!aa.get(a))return;let{onDragPending:e}=ax.current,f={id:a,constraint:b,initialCoordinates:c,offset:d};null==e||e(f),U({type:"onDragPending",event:f})},onStart(a){let b=an.current;if(null==b)return;let c=aa.get(b);if(!c)return;let{onDragStart:d}=ax.current,e={activatorEvent:f,active:{id:b,data:c.data,rect:aj}};(0,x.unstable_batchedUpdates)(()=>{null==d||d(e),Y(u.Initializing),T({type:l.DragStart,initialCoordinates:a,active:b}),U({type:"onDragStart",event:e}),at(bo.current),aw(f)})},onMove(a){T({type:l.DragMove,coordinates:a})},onEnd:h(l.DragEnd),onCancel:h(l.DragCancel)});function h(a){return async function(){let{active:b,collisions:c,over:d,scrollAdjustedTranslate:e}=aK.current,g=null;if(b&&e){let{cancelDrop:h}=ax.current;g={activatorEvent:f,active:b,collisions:c,delta:e,over:d},a===l.DragEnd&&"function"==typeof h&&await Promise.resolve(h(g))&&(a=l.DragCancel)}an.current=null,(0,x.unstable_batchedUpdates)(()=>{T({type:a}),Y(u.Uninitialized),bm(null),at(null),aw(null),bo.current=null;let b=a===l.DragEnd?"onDragEnd":"onDragCancel";if(g){let a=ax.current[b];null==a||a(g),U({type:b,event:g})}})}}bo.current=g},[aa]),bq=(0,w.useCallback)((a,b)=>(c,d)=>{let e=c.nativeEvent,f=aa.get(d);null!==an.current||!f||e.dndKit||e.defaultPrevented||!0===a(c,b.options,{active:f})&&(e.dndKit={capturedBy:b.sensor},an.current=d,bp(c,b))},[aa,bp]),br=(0,w.useMemo)(()=>G.reduce((a,b)=>{let{sensor:c}=b;return[...a,...c.activators.map(a=>({eventName:a.eventName,handler:bq(a.handler,b)}))]},[]),[G,bq]);(0,w.useEffect)(()=>{},G.map(a=>{let{sensor:b}=a;return b})),F(()=>{aI&&W===u.Initializing&&Y(u.Initialized)},[aI,W]),(0,w.useEffect)(()=>{let{onDragMove:a}=ax.current,{active:b,activatorEvent:c,collisions:d,over:e}=aK.current;if(!b||!c)return;let f={active:b,activatorEvent:c,collisions:d,delta:{x:bh.x,y:bh.y},over:e};(0,x.unstable_batchedUpdates)(()=>{null==a||a(f),U({type:"onDragMove",event:f})})},[bh.x,bh.y]),(0,w.useEffect)(()=>{let{active:a,activatorEvent:b,collisions:c,droppableContainers:d,scrollAdjustedTranslate:e}=aK.current;if(!a||null==an.current||!b||!e)return;let{onDragOver:f}=ax.current,g=d.get(bk),h=g&&g.rect.current?{id:g.id,rect:g.rect.current,data:g.data,disabled:g.disabled}:null,i={active:a,activatorEvent:b,collisions:c,delta:{x:e.x,y:e.y},over:h};(0,x.unstable_batchedUpdates)(()=>{bm(h),null==f||f(i),U({type:"onDragOver",event:i})})},[bk]),F(()=>{aK.current={activatorEvent:av,active:am,activeNode:aE,collisionRect:bi,collisions:bj,droppableRects:aB,draggableNodes:aa,draggingNode:a$,draggingNodeRect:a_,droppableContainers:ag,over:bl,scrollableAncestors:ba,scrollAdjustedTranslate:bh},aj.current={initial:a_,translated:bi}},[am,aE,bj,bi,aa,a$,a_,aB,ag,bl,ba,bh]),function(a){let b,{acceleration:c,activator:d=q.Pointer,canScroll:e,draggingRect:f,enabled:g,interval:h=5,order:i=r.TreeOrder,pointerCoordinates:j,scrollableAncestors:k,scrollableAncestorRects:l,delta:n,threshold:o}=a,p=function(a){let{delta:b,disabled:c}=a,d=K(b);return I(a=>{if(c||!d||!a)return aL;let e={x:Math.sign(b.x-d.x),y:Math.sign(b.y-d.y)};return{x:{[m.Backward]:a.x[m.Backward]||-1===e.x,[m.Forward]:a.x[m.Forward]||1===e.x},y:{[m.Backward]:a.y[m.Backward]||-1===e.y,[m.Forward]:a.y[m.Forward]||1===e.y}}},[c,b,d])}({delta:n,disabled:!g}),[s,t]=(b=(0,w.useRef)(null),[(0,w.useCallback)((a,c)=>{b.current=setInterval(a,c)},[]),(0,w.useCallback)(()=>{null!==b.current&&(clearInterval(b.current),b.current=null)},[])]),u=(0,w.useRef)({x:0,y:0}),v=(0,w.useRef)({x:0,y:0}),x=(0,w.useMemo)(()=>{switch(d){case q.Pointer:return j?{top:j.y,bottom:j.y,left:j.x,right:j.x}:null;case q.DraggableRect:return f}},[d,f,j]),y=(0,w.useRef)(null),z=(0,w.useCallback)(()=>{let a=y.current;if(!a)return;let b=u.current.x*v.current.x,c=u.current.y*v.current.y;a.scrollBy(b,c)},[]),A=(0,w.useMemo)(()=>i===r.TreeOrder?[...k].reverse():k,[i,k]);(0,w.useEffect)(()=>{if(!g||!k.length||!x)return void t();for(let a of A){if((null==e?void 0:e(a))===!1)continue;let b=l[k.indexOf(a)];if(!b)continue;let{direction:d,speed:f}=function(a,b,c,d,e){let{top:f,left:g,right:h,bottom:i}=c;void 0===d&&(d=10),void 0===e&&(e=aq);let{isTop:j,isBottom:k,isLeft:l,isRight:n}=ap(a),o={x:0,y:0},p={x:0,y:0},q={height:b.height*e.y,width:b.width*e.x};return!j&&f<=b.top+q.height?(o.y=m.Backward,p.y=d*Math.abs((b.top+q.height-f)/q.height)):!k&&i>=b.bottom-q.height&&(o.y=m.Forward,p.y=d*Math.abs((b.bottom-q.height-i)/q.height)),!n&&h>=b.right-q.width?(o.x=m.Forward,p.x=d*Math.abs((b.right-q.width-h)/q.width)):!l&&g<=b.left+q.width&&(o.x=m.Backward,p.x=d*Math.abs((b.left+q.width-g)/q.width)),{direction:o,speed:p}}(a,b,x,c,o);for(let a of["x","y"])p[a][d[a]]||(f[a]=0,d[a]=0);if(f.x>0||f.y>0){t(),y.current=a,s(z,h),u.current=f,v.current=d;return}}u.current={x:0,y:0},v.current={x:0,y:0},t()},[c,z,e,t,g,h,JSON.stringify(x),JSON.stringify(p),s,k,A,l,JSON.stringify(o)])}({...aG,delta:ac,draggingRect:bi,pointerCoordinates:bd,scrollableAncestors:ba,scrollableAncestorRects:bb});let bs=(0,w.useMemo)(()=>({active:am,activeNode:aE,activeNodeRect:aI,activatorEvent:av,collisions:bj,containerNodeRect:aJ,dragOverlay:aZ,draggableNodes:aa,droppableContainers:ag,droppableRects:aB,over:bl,measureDroppableContainers:aC,scrollableAncestors:ba,scrollableAncestorRects:bb,measuringConfiguration:aA,measuringScheduled:aD,windowRect:a9}),[am,aE,aI,av,bj,aJ,aZ,aa,ag,aB,bl,aC,ba,bb,aA,aD,a9]),bt=(0,w.useMemo)(()=>({activatorEvent:av,activators:br,active:am,activeNodeRect:aI,ariaDescribedById:{draggable:ay},dispatch:T,draggableNodes:aa,over:bl,measureDroppableContainers:aC}),[av,br,am,aI,T,ay,aa,bl,aC]);return w.default.createElement(X.Provider,{value:V},w.default.createElement(a0.Provider,{value:bt},w.default.createElement(a1.Provider,{value:bs},w.default.createElement(a6.Provider,{value:bn},E)),w.default.createElement(a4,{disabled:(null==B?void 0:B.restoreFocus)===!1})),w.default.createElement($,{...B,hiddenTextDescribedById:ay}))}),a8=(0,w.createContext)(null),a9="button";function ba(a){let{id:b,data:c,disabled:d=!1,attributes:e}=a,f=M("Draggable"),{activators:g,activatorEvent:h,active:i,activeNodeRect:j,ariaDescribedById:k,draggableNodes:l,over:m}=(0,w.useContext)(a0),{role:n=a9,roleDescription:o="draggable",tabIndex:p=0}=null!=e?e:{},q=(null==i?void 0:i.id)===b,r=(0,w.useContext)(q?a6:a8),[s,t]=J(),[u,v]=J(),x=(0,w.useMemo)(()=>g.reduce((a,c)=>{let{eventName:d,handler:e}=c;return a[d]=a=>{e(a,b)},a},{}),[g,b]),y=H(c);return F(()=>(l.set(b,{id:b,key:f,node:s,activatorNode:u,data:y}),()=>{let a=l.get(b);a&&a.key===f&&l.delete(b)}),[l,b]),{active:i,activatorEvent:h,activeNodeRect:j,attributes:(0,w.useMemo)(()=>({role:n,tabIndex:p,"aria-disabled":d,"aria-pressed":!!q&&n===a9||void 0,"aria-roledescription":o,"aria-describedby":k.draggable}),[d,n,p,q,o,k.draggable]),isDragging:q,listeners:d?void 0:x,node:s,over:m,setNodeRef:t,setActivatorNodeRef:v,transform:r}}let bb={timeout:25};function bc(a){let{data:b,disabled:c=!1,id:d,resizeObserverConfig:e}=a,f=M("Droppable"),{active:g,dispatch:h,over:i,measureDroppableContainers:j}=(0,w.useContext)(a0),k=(0,w.useRef)({disabled:c}),m=(0,w.useRef)(!1),n=(0,w.useRef)(null),o=(0,w.useRef)(null),{disabled:p,updateMeasurementsFor:q,timeout:r}={...bb,...e},s=H(null!=q?q:d),t=aO({callback:(0,w.useCallback)(()=>{if(!m.current){m.current=!0;return}null!=o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{j(Array.isArray(s.current)?s.current:[s.current]),o.current=null},r)},[r]),disabled:p||!g}),[u,v]=J((0,w.useCallback)((a,b)=>{t&&(b&&(t.unobserve(b),m.current=!1),a&&t.observe(a))},[t])),x=H(b);return(0,w.useEffect)(()=>{t&&u.current&&(t.disconnect(),m.current=!1,t.observe(u.current))},[u,t]),(0,w.useEffect)(()=>(h({type:l.RegisterDroppable,element:{id:d,key:f,disabled:c,node:u,rect:n,data:x}}),()=>h({type:l.UnregisterDroppable,key:f,id:d})),[d]),(0,w.useEffect)(()=>{c!==k.current.disabled&&(h({type:l.SetDroppableDisabled,id:d,key:f,disabled:c}),k.current.disabled=c)},[d,f,c,h]),{active:g,rect:n,isOver:(null==i?void 0:i.id)===d,node:u,over:i,setNodeRef:v}}function bd(a){let{animation:b,children:c}=a,[d,e]=(0,w.useState)(null),[f,g]=(0,w.useState)(null),h=K(c);return c||d||!h||e(h),F(()=>{if(!f)return;let a=null==d?void 0:d.key,c=null==d?void 0:d.props.id;null==a||null==c?e(null):Promise.resolve(b(c,f)).then(()=>{e(null)})},[b,d,f]),w.default.createElement(w.default.Fragment,null,c,d?(0,w.cloneElement)(d,{ref:g}):null)}let be={x:0,y:0,scaleX:1,scaleY:1};function bf(a){let{children:b}=a;return w.default.createElement(a0.Provider,{value:a_},w.default.createElement(a6.Provider,{value:be},b))}let bg={position:"fixed",touchAction:"none"},bh=a=>Q(a)?"transform 250ms ease":void 0,bi=(0,w.forwardRef)((a,b)=>{let{as:c,activatorEvent:d,adjustScale:e,children:f,className:g,rect:h,style:i,transform:j,transition:k=bh}=a;if(!h)return null;let l=e?j:{...j,scaleX:1,scaleY:1},m={...bg,width:h.width,height:h.height,top:h.top,left:h.left,transform:S.Transform.toString(l),transformOrigin:e&&d?function(a,b){let c=R(a);if(!c)return"0 0";let d={x:(c.x-b.left)/b.width*100,y:(c.y-b.top)/b.height*100};return d.x+"% "+d.y+"%"}(d,h):void 0,transition:"function"==typeof k?k(d):k,...i};return w.default.createElement(c,{className:g,style:m,ref:b},f)}),bj={duration:250,easing:"ease",keyframes:a=>{let{transform:{initial:b,final:c}}=a;return[{transform:S.Transform.toString(b)},{transform:S.Transform.toString(c)}]},sideEffects:(b={styles:{active:{opacity:"0"}}},a=>{let{active:c,dragOverlay:d}=a,e={},{styles:f,className:g}=b;if(null!=f&&f.active)for(let[a,b]of Object.entries(f.active))void 0!==b&&(e[a]=c.node.style.getPropertyValue(a),c.node.style.setProperty(a,b));if(null!=f&&f.dragOverlay)for(let[a,b]of Object.entries(f.dragOverlay))void 0!==b&&d.node.style.setProperty(a,b);return null!=g&&g.active&&c.node.classList.add(g.active),null!=g&&g.dragOverlay&&d.node.classList.add(g.dragOverlay),function(){for(let[a,b]of Object.entries(e))c.node.style.setProperty(a,b);null!=g&&g.active&&c.node.classList.remove(g.active)}})},bk=0,bl=w.default.memo(a=>{var b;let{adjustScale:c=!1,children:d,dropAnimation:e,style:f,transition:g,modifiers:h,wrapperElement:i="div",className:j,zIndex:k=999}=a,{activatorEvent:l,active:m,activeNodeRect:n,containerNodeRect:o,draggableNodes:p,droppableContainers:q,dragOverlay:r,over:s,measuringConfiguration:t,scrollableAncestors:u,scrollableAncestorRects:v,windowRect:x}=(0,w.useContext)(a1),y=(0,w.useContext)(a6),z=(b=null==m?void 0:m.id,(0,w.useMemo)(()=>{if(null!=b)return++bk},[b])),B=a5(h,{activatorEvent:l,active:m,activeNodeRect:n,containerNodeRect:o,draggingNodeRect:r.rect,over:s,overlayNodeRect:r.rect,scrollableAncestors:u,scrollableAncestorRects:v,transform:y,windowRect:x}),C=aN(n),D=function(a){let{config:b,draggableNodes:c,droppableContainers:d,measuringConfiguration:e}=a;return G((a,f)=>{if(null===b)return;let g=c.get(a);if(!g)return;let h=g.node.current;if(!h)return;let i=aV(f);if(!i)return;let{transform:j}=A(f).getComputedStyle(f),k=ag(j);if(!k)return;let l="function"==typeof b?b:function(a){let{duration:b,easing:c,sideEffects:d,keyframes:e}={...bj,...a};return a=>{let{active:f,dragOverlay:g,transform:h,...i}=a;if(!b)return;let j={x:g.rect.left-f.rect.left,y:g.rect.top-f.rect.top},k={scaleX:1!==h.scaleX?f.rect.width*h.scaleX/g.rect.width:1,scaleY:1!==h.scaleY?f.rect.height*h.scaleY/g.rect.height:1},l={x:h.x-j.x,y:h.y-j.y,...k},m=e({...i,active:f,dragOverlay:g,transform:{initial:h,final:l}}),[n]=m,o=m[m.length-1];if(JSON.stringify(n)===JSON.stringify(o))return;let p=null==d?void 0:d({active:f,dragOverlay:g,...i}),q=g.node.animate(m,{duration:b,easing:c,fill:"forwards"});return new Promise(a=>{q.onfinish=()=>{null==p||p(),a()}})}}(b);return as(h,e.draggable.measure),l({active:{id:a,data:g.data,node:h,rect:e.draggable.measure(h)},draggableNodes:c,dragOverlay:{node:f,rect:e.dragOverlay.measure(i)},droppableContainers:d,measuringConfiguration:e,transform:k})})}({config:e,draggableNodes:p,droppableContainers:q,measuringConfiguration:t}),E=C?r.setRef:void 0;return w.default.createElement(bf,null,w.default.createElement(bd,{animation:D},m&&z?w.default.createElement(bi,{key:z,id:m.id,ref:E,as:i,activatorEvent:l,adjustScale:c,className:j,transition:g,rect:C,style:{zIndex:k,...f},transform:B},d):null))});var bm=a.i(70106);let bn=(0,bm.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),bo=(0,bm.default)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]),bp=(0,bm.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),bq=(0,bm.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),br=(0,bm.default)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);var bs=a.i(210);let bt=(0,bm.default)("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),bu=(0,bm.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var bv=a.i(33508),bw=a.i(81560);let bx=(0,bm.default)("group",[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]]),by=(0,bm.default)("text-align-start",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]]),bz=(0,bm.default)("text-align-center",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]]),bA=(0,bm.default)("text-align-end",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]]),bB=(0,bm.default)("layout-template",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]),bC=(0,bm.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),bD=(0,bm.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),bE=(0,bm.default)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),bF=(0,bm.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var bG=a.i(4720);let bH=(0,bm.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),bI=(0,bm.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),bJ=(0,bm.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var bK=a.i(38246),bL=a.i(66680);let bM={randomUUID:bL.randomUUID},bN=new Uint8Array(256),bO=bN.length,bP=[];for(let a=0;a<256;++a)bP.push((a+256).toString(16).slice(1));let bQ=function(a,b,c){if(bM.randomUUID&&!b&&!a)return bM.randomUUID();var d=a,e=c;let f=(d=d||{}).random??d.rng?.()??(bO>bN.length-16&&((0,bL.randomFillSync)(bN),bO=0),bN.slice(bO,bO+=16));if(f.length<16)throw Error("Random bytes length must be >= 16");if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,b){if((e=e||0)<0||e+16>b.length)throw RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let a=0;a<16;++a)b[e+a]=f[a];return b}return function(a,b=0){return(bP[a[b+0]]+bP[a[b+1]]+bP[a[b+2]]+bP[a[b+3]]+"-"+bP[a[b+4]]+bP[a[b+5]]+"-"+bP[a[b+6]]+bP[a[b+7]]+"-"+bP[a[b+8]]+bP[a[b+9]]+"-"+bP[a[b+10]]+bP[a[b+11]]+bP[a[b+12]]+bP[a[b+13]]+bP[a[b+14]]+bP[a[b+15]]).toLowerCase()}(f)};var bR=a.i(76647);function bS({label:a,value:b,onChange:c,id:d}){let e,f,g,h,{num:i,unit:j}=(e=String(b),f="px",g=e,e.includes("%")?(f="%",g=e.replace("%","")):e.match(/[a-zA-Z]+$/)&&(f=e.match(/[a-zA-Z]+$/)?.[0]||"px",g=e.replace(/[a-zA-Z]+$/,"")),{num:isNaN(h=parseFloat(g))?0:h,unit:f});return(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("label",{htmlFor:d,className:"block text-xs font-medium text-gray-900",children:a}),(0,v.jsxs)("div",{className:"flex rounded-md shadow-sm",children:[(0,v.jsx)("input",{type:"number",id:d,value:i,onChange:a=>{let b=a.target.value;if(""===b)return void c("px"===j?0:`0${j}`);let d=parseFloat(b),e=isNaN(d)?0:d;c("px"===j?e:`${e}${j}`)},step:"any",className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-l-md text-sm text-gray-900 border-gray-300 border focus:ring-blue-500 focus:border-blue-500"}),(0,v.jsxs)("select",{id:`${d}-unit`,title:"UnitÃ©",value:j,onChange:a=>{let b=a.target.value;c("px"===b?i:`${i}${b}`)},className:"inline-flex items-center px-2 py-2 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,v.jsx)("option",{value:"px",children:"px"}),(0,v.jsx)("option",{value:"%",children:"%"}),(0,v.jsx)("option",{value:"em",children:"em"}),(0,v.jsx)("option",{value:"rem",children:"rem"})]})]})]})}function bT({type:a,icon:b,label:c}){let{attributes:d,listeners:e,setNodeRef:f}=ba({id:`sidebar-${a}`,data:{type:a,isSidebar:!0}});return(0,v.jsxs)("div",{ref:f,...e,...d,className:"group p-3 bg-white border border-gray-200 rounded-lg cursor-grab hover:bg-blue-50 hover:border-blue-200 shadow-sm transition-all flex items-center gap-3",children:[(0,v.jsx)("div",{className:"p-1.5 bg-gray-100 rounded-md text-gray-800 group-hover:bg-blue-100 group-hover:text-blue-600 transition-colors",children:(0,v.jsx)(b,{size:18})}),(0,v.jsx)("span",{className:"font-medium text-sm text-gray-800 group-hover:text-blue-700",children:c})]})}function bU({element:a,isSelected:b,onSelect:c,onResize:d,children:e}){let{attributes:f,listeners:g,setNodeRef:h,transform:i,isDragging:j}=ba({id:a.id,data:{...a,isSidebar:!1}}),{setNodeRef:k,isOver:l}=bc({id:a.id,data:{isContainer:!0,element:a},disabled:"container"!==a.type}),m=(0,w.useRef)(null),n=(0,w.useCallback)(b=>{h(b),"container"===a.type&&k(b),m.current=b},[h,k,a.type]),o=(0,w.useRef)(null),p=(b,c)=>{b.stopPropagation();let e=100,f=100,g=0,h=0;m.current?(e=m.current.offsetWidth,f=m.current.offsetHeight,m.current.parentElement&&(g=m.current.parentElement.offsetWidth,h=m.current.parentElement.offsetHeight)):(e="number"==typeof a.w?a.w:parseFloat(String(a.w))||100,f="number"==typeof a.h?a.h:parseFloat(String(a.h))||100);let i=a=>"number"==typeof a?"px":String(a).replace(/^[-\d.]+/g,"")||"px";o.current={w:e,h:f,startX:b.clientX,startY:b.clientY,unitW:i(a.w),unitH:i(a.h),parentW:g,parentH:h};let j=b=>{if(!o.current)return;let e=b.clientX-o.current.startX,f=b.clientY-o.current.startY,g=o.current.w,h=o.current.h;c.includes("e")&&(g+=e),c.includes("s")&&(h+=f);let i=g=Math.max(20,g),j=h=Math.max(20,h);"%"===o.current.unitW&&o.current.parentW>0&&(i=`${(g/o.current.parentW*100).toFixed(2)}%`),"%"===o.current.unitH&&o.current.parentH>0&&(j=`${(h/o.current.parentH*100).toFixed(2)}%`),d(a.id,i,j)},k=()=>{o.current=null,document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",k)};document.addEventListener("mousemove",j),document.addEventListener("mouseup",k)},q={position:"absolute",top:a.y,left:a.x,width:a.w,height:a.h,transform:i?`translate3d(${i.x}px, ${i.y}px, 0)`:void 0,zIndex:b?50:"container"===a.type?10:20,opacity:j?.5:1,...a.style},r=l&&"container"===a.type&&!j,s={...q,backgroundColor:r?"rgba(59, 130, 246, 0.1)":q.backgroundColor,borderColor:r?"#3b82f6":b?"#2563eb":q.borderColor||"transparent",borderWidth:r||b?"2px":q.borderWidth||("container"===a.type?"1px":"0"),borderStyle:"container"===a.type?"dashed":"solid"};return(0,v.jsxs)("div",{ref:n,style:s,...g,...f,onClick:b=>{b.stopPropagation(),c(a.id)},className:"group cursor-move",children:[(()=>{switch(a.type){case"text":return(0,v.jsx)("div",{className:"w-full h-full overflow-hidden leading-tight",style:{color:a.style?.color},children:a.content});case"image":return(0,v.jsx)("div",{className:"w-full h-full overflow-hidden flex items-center justify-center bg-gray-50 border border-dashed border-gray-300",children:a.content?(0,v.jsx)("img",{src:a.content,alt:"Element",className:"w-full h-full object-cover"}):(0,v.jsxs)("div",{className:"text-gray-800 flex flex-col items-center",children:[(0,v.jsx)(bp,{size:24}),(0,v.jsx)("span",{className:"text-[10px]",children:"Image"})]})});case"box":case"container":return(0,v.jsxs)("div",{className:"w-full h-full relative",children:["container"===a.type&&(0,v.jsx)("div",{className:"absolute top-0 right-0 p-1",children:(0,v.jsx)("span",{className:"text-[10px] text-gray-800 bg-gray-100 px-1 rounded",children:"Groupe"})}),e]});case"line":return(0,v.jsx)("div",{className:"w-full h-full flex items-center",children:(0,v.jsx)("div",{className:"w-full",style:{height:a.style?.height||"2px",backgroundColor:a.style?.backgroundColor||"black"}})});case"table":let b=a.columns||[{id:"1",label:"Colonne 1"},{id:"2",label:"Colonne 2"}];return(0,v.jsxs)("div",{className:"w-full h-full overflow-hidden bg-white border border-gray-200 text-xs",children:[(0,v.jsx)("div",{className:"p-2 bg-gray-50 border-b text-center text-gray-800",children:"Tableau"}),(0,v.jsxs)("div",{className:"p-2",children:[(0,v.jsx)("div",{className:"flex border-b pb-1 font-bold",children:b.map((a,b)=>(0,v.jsx)("div",{className:"flex-1 px-1",style:{minWidth:a.width||100},children:a.label},a.id))}),(0,v.jsx)("div",{className:"flex text-gray-800 mt-2",children:b.map(a=>(0,v.jsx)("div",{className:"flex-1 px-1",style:{minWidth:a.width||100},children:"Exemple"},a.id))})]})]});default:return null}})(),b&&!j&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"absolute -top-6 left-0 bg-blue-600 text-white text-[10px] px-2 py-0.5 rounded shadow-md whitespace-nowrap z-50",children:["x:",Math.round(a.x)," y:",Math.round(a.y)]}),(0,v.jsx)("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-white border border-blue-600 cursor-se-resize z-50 -mr-1.5 -mb-1.5",onMouseDown:a=>p(a,"se")}),(0,v.jsx)("div",{className:"absolute top-1/2 right-0 w-3 h-3 bg-white border border-blue-600 cursor-e-resize z-50 -mr-1.5 -mt-1.5",onMouseDown:a=>p(a,"e")}),(0,v.jsx)("div",{className:"absolute bottom-0 left-1/2 w-3 h-3 bg-white border border-blue-600 cursor-s-resize z-50 -mb-1.5 -ml-1.5",onMouseDown:a=>p(a,"s")})]})]})}function bV({template:a}){let[b,c]=(0,w.useState)([]),[d,e]=(0,w.useState)({padding:40,headerHeight:0,footerHeight:0}),[f,g]=(0,w.useState)(null),[h,i]=(0,w.useState)(null),[j,k]=(0,w.useState)(a.name),[l,m]=(0,w.useState)(!1),[n,o]=(0,w.useState)(!1),[p,q]=(0,w.useState)(!1),[r,s]=(0,w.useState)("url"),t=a=>{if(!f)return;let c=b.find(a=>a.id===f);if(!c)return;let e=d.padding,g=c.x,h="number"==typeof c.w?c.w:100;switch(a){case"left":g=e;break;case"center":g=(794-h)/2;break;case"right":g=794-h-e}A(f,{x:g})},u=a=>{if(!f)return;let c=b.find(a=>a.id===f);c&&"text"===c.type&&A(f,{content:(c.content||"")+` {{${a}}}`})},x=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return(0,w.useMemo)(()=>[...b].filter(a=>null!=a),[...b])}(aa(aI,{activationConstraint:{distance:5}}),aa(aK));(0,w.useEffect)(()=>{m(!0);try{let b=JSON.parse(a.content);b.elements?(c(b.elements),e(b.globalSettings||{padding:40,headerHeight:0,footerHeight:0})):Array.isArray(b)&&c(b)}catch{c([])}},[a.content]);let{setNodeRef:y,isOver:z}=bc({id:"canvas-root",data:{isRoot:!0}}),A=(a,b)=>{c(c=>c.map(c=>c.id===a?{...c,...b}:c))},B=a=>b.filter(b=>b.parentId===a).map(a=>(0,v.jsx)(bU,{element:a,isSelected:f===a.id,onSelect:g,onResize:(a,b,c)=>A(a,{w:b,h:c}),children:B(a.id)},a.id));if(!l)return null;let C=b.find(a=>a.id===f);return(0,v.jsxs)(a7,{sensors:x,onDragStart:a=>{let{active:b}=a;i(b.data.current)},onDragEnd:a=>{let{active:e,over:f}=a;i(null);let h=e.id;if(e.data.current?.isSidebar){let a=e.data.current?.type;if(!a)return;let h=null,i=50,j=50;if(f){let a=b.find(a=>a.id===f.id);a&&"container"===a.type&&(h=a.id);let c=e.rect.current?.translated,g=f.rect;c&&g&&(i=c.left-g.left,j=c.top-g.top,null===h&&(i-=d.padding,j-=d.padding+d.headerHeight))}else console.log("Drop hors zone dÃ©tectÃ©, ajout forcÃ© sur le root");i=Math.max(0,i),j=Math.max(0,j);let k={id:bQ(),type:a,x:i,y:j,w:"container"===a?300:"table"===a?500:200,h:"container"===a?200:"line"===a?5:100,parentId:h,content:"text"===a?"Texte":void 0,style:{backgroundColor:"box"===a?"#f3f4f6":void 0,borderColor:"#000000",fontSize:"14px"},columns:"table"===a?[{id:bQ(),label:"Colonne 1"},{id:bQ(),label:"Colonne 2"}]:void 0};c(a=>[...a,k]),g(k.id);return}if(!f||e.id===f.id)return;let j=null;if("canvas-root"!==f.id){let a=b.find(a=>a.id===f.id);a&&"container"===a.type&&a.id!==h&&(j=a.id)}let k=e.rect.current?.translated,l=f.rect;if(!k||!l)return;let m=k.left-l.left,n=k.top-l.top;null===j&&(m-=d.padding,n-=d.padding+d.headerHeight),m=Math.max(0,m),n=Math.max(0,n),c(a=>a.map(a=>{if(a.id===h){let b="100%"===a.w?0:m;return{...a,x:b,y:n,parentId:j}}return a}))},children:[(0,v.jsxs)("div",{className:"h-[calc(100vh-64px)] flex flex-col bg-gray-100",children:[(0,v.jsxs)("div",{className:"h-16 bg-white border-b px-6 flex items-center justify-between shadow-sm shrink-0 z-20",children:[(0,v.jsxs)("div",{className:"flex items-center gap-4",children:[(0,v.jsx)(bK.default,{href:"/dashboard",className:"p-2 hover:bg-gray-100 rounded-full",children:(0,v.jsx)(bs.ArrowLeft,{size:20})}),(0,v.jsx)("div",{children:(0,v.jsx)("h1",{className:"font-bold",children:j})})]}),(0,v.jsxs)("div",{className:"flex items-center gap-3",children:[(0,v.jsxs)("button",{onClick:()=>q(!0),className:"px-4 py-2 bg-gray-800 text-white rounded-lg flex items-center gap-2 text-sm hover:bg-gray-700",children:[(0,v.jsx)(bu,{size:16})," AperÃ§u"]}),(0,v.jsxs)("button",{onClick:async()=>{o(!0),await fetch(`/api/templates/${a.id}`,{method:"PUT",body:JSON.stringify({content:JSON.stringify({elements:b,globalSettings:d}),name:j})}),o(!1)},disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center gap-2 text-sm hover:bg-blue-700 disabled:opacity-50",children:[(0,v.jsx)(bn,{size:16})," ",n?"...":"Enregistrer"]})]})]}),(0,v.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,v.jsxs)("div",{className:"w-72 bg-white border-r p-4 overflow-y-auto shrink-0 z-10",children:[(0,v.jsx)("h2",{className:"text-xs font-bold text-gray-800 uppercase mb-4",children:"ÃlÃ©ments"}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)(bT,{type:"text",icon:bo,label:"Texte"}),(0,v.jsx)(bT,{type:"image",icon:bp,label:"Image"}),(0,v.jsx)(bT,{type:"container",icon:bx,label:"Groupe / Conteneur"}),(0,v.jsx)(bT,{type:"box",icon:br,label:"Forme"}),(0,v.jsx)(bT,{type:"line",icon:bq,label:"Ligne"}),(0,v.jsx)(bT,{type:"table",icon:bt,label:"Tableau"})]}),(0,v.jsx)("div",{className:"mt-8 p-3 bg-blue-50 text-blue-700 text-xs rounded border border-blue-100",children:'Glissez un Ã©lÃ©ment "Groupe" pour crÃ©er des zones imbriquÃ©es.'})]}),(0,v.jsx)("div",{className:"flex-1 overflow-auto bg-gray-100/50",children:(0,v.jsx)("div",{className:"min-w-full min-h-full w-fit p-8 flex justify-center items-center",children:(0,v.jsxs)("div",{ref:y,className:`relative bg-white shadow-xl transition-all duration-200 ${z?"ring-4 ring-blue-200":""}`,style:{width:"794px",height:"1123px",minWidth:"794px",minHeight:"1123px"},onClick:()=>g(null),children:[(0,v.jsx)("div",{className:"absolute inset-0 pointer-events-none border border-dashed border-gray-200 z-0",style:{top:d.padding+d.headerHeight,bottom:d.padding+d.footerHeight,left:d.padding,right:d.padding}}),(0,v.jsx)("div",{style:{position:"absolute",top:d.padding+d.headerHeight,left:d.padding,right:d.padding,bottom:d.padding+d.footerHeight},children:B(null)}),0===b.length&&(0,v.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20",children:(0,v.jsxs)("div",{className:"text-center",children:[(0,v.jsx)(br,{size:64,className:"mx-auto mb-2 text-gray-700"}),(0,v.jsx)("p",{className:"text-gray-800 font-medium",children:"Glisser des Ã©lÃ©ments ici"})]})})]})})}),(0,v.jsx)("div",{className:"w-72 bg-white border-l border-gray-200 p-4 overflow-y-auto shrink-0 z-10 shadow-[-4px_0_24px_rgba(0,0,0,0.02)] relative",children:C?(0,v.jsxs)("div",{className:"space-y-6 pt-8",children:[(0,v.jsx)("button",{onClick:()=>{var a;return a=C.id,void(c(b=>{let c=new Set([a]),d=!0;for(;d;)d=!1,b.forEach(a=>{a.parentId&&c.has(a.parentId)&&!c.has(a.id)&&(c.add(a.id),d=!0)});return b.filter(a=>!c.has(a.id))}),g(null))},className:"absolute top-4 right-4 p-2 bg-white text-gray-700 hover:text-red-600 hover:bg-red-50 rounded-full border border-gray-200 hover:border-red-200 shadow-sm transition-all",title:"Supprimer l'Ã©lÃ©ment",children:(0,v.jsx)(bw.Trash2,{size:16})}),(0,v.jsxs)("div",{className:"pb-4 border-b border-gray-100",children:[(0,v.jsx)("label",{className:"block text-xs font-medium text-gray-800 uppercase mb-1",children:"Type d'Ã©lÃ©ment"}),(0,v.jsxs)("div",{className:"text-gray-900 font-medium capitalize flex items-center gap-2",children:[(0,v.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"box"===C.type?"BoÃ®te":"table"===C.type?"Tableau":C.type]})]}),(0,v.jsxs)("div",{className:"pb-4 border-b border-gray-100",children:[(0,v.jsx)("label",{className:"block text-xs font-medium text-gray-800 uppercase mb-2",children:"Positionnement"}),(0,v.jsxs)("div",{className:"flex bg-gray-50 rounded-lg p-1 border border-gray-200",children:[(0,v.jsx)("button",{onClick:()=>t("left"),title:"Aligner Ã  gauche",className:"flex-1 py-1.5 flex justify-center rounded hover:bg-white hover:shadow-sm text-gray-700 hover:text-gray-900 transition-all",children:(0,v.jsx)(bB,{size:16,className:"rotate-180"})}),(0,v.jsx)("button",{onClick:()=>t("center"),title:"Centrer horizontalement",className:"flex-1 py-1.5 flex justify-center rounded hover:bg-white hover:shadow-sm text-gray-700 hover:text-gray-900 transition-all",children:(0,v.jsx)(bB,{size:16})}),(0,v.jsx)("button",{onClick:()=>t("right"),title:"Aligner Ã  droite",className:"flex-1 py-1.5 flex justify-center rounded hover:bg-white hover:shadow-sm text-gray-700 hover:text-gray-900 transition-all",children:(0,v.jsx)(bB,{size:16})})]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,v.jsx)(bS,{id:"pos-x",label:"Position X",value:C.x,onChange:a=>A(C.id,{x:a})}),(0,v.jsx)(bS,{id:"pos-y",label:"Position Y",value:C.y,onChange:a=>A(C.id,{y:a})}),(0,v.jsx)(bS,{id:"size-w",label:"Largeur",value:C.w,onChange:a=>{let b={w:a};"100%"===a&&(b.x=0),A(C.id,b)}}),(0,v.jsx)(bS,{id:"size-h",label:"Hauteur",value:C.h,onChange:a=>A(C.id,{h:a})})]}),(0,v.jsxs)("div",{className:"space-y-4 border-t border-gray-100 pt-4",children:[(0,v.jsxs)("h4",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider mb-2 flex items-center gap-2",children:[(0,v.jsx)(bE,{size:12})," Apparence"]}),"text"===C.type&&(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"text-color",className:"block text-xs font-medium text-gray-800 mb-1",children:"Couleur du texte"}),(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("input",{id:"text-color",type:"color",value:C.style?.color||"#000000",onChange:a=>A(C.id,{style:{...C.style,color:a.target.value}}),className:"h-8 w-8 rounded cursor-pointer border border-gray-200 p-0.5"}),(0,v.jsx)("span",{className:"text-xs text-gray-800",children:C.style?.color||"#000000"})]})]}),("box"===C.type||"line"===C.type||"table"===C.type||"container"===C.type)&&(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"bg-color",className:"block text-xs font-medium text-gray-800 mb-1",children:"line"===C.type?"Couleur de la ligne":"Couleur de fond"}),(0,v.jsx)("div",{className:"flex items-center gap-2",children:(0,v.jsx)("input",{id:"bg-color",type:"color",value:C.style?.backgroundColor||("line"===C.type?"#000000":"#ffffff"),onChange:a=>A(C.id,{style:{...C.style,backgroundColor:a.target.value}}),className:"h-8 w-8 rounded cursor-pointer border border-gray-200 p-0.5"})})]}),("box"===C.type||"container"===C.type)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"border-color",className:"block text-xs font-medium text-gray-800 mb-1",children:"Couleur Bordure"}),(0,v.jsx)("input",{id:"border-color",type:"color",value:C.style?.borderColor||"#000000",onChange:a=>A(C.id,{style:{...C.style,borderColor:a.target.value}}),className:"h-8 w-8 rounded cursor-pointer border border-gray-200 p-0.5"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"border-width",className:"block text-xs font-medium text-gray-800 mb-1",children:"Ãpaisseur bordure (px)"}),(0,v.jsx)("input",{id:"border-width",type:"number",value:parseInt(C.style?.borderWidth)||1,onChange:a=>A(C.id,{style:{...C.style,borderWidth:`${a.target.value}px`}}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"border-style",className:"block text-xs font-medium text-gray-800 mb-1",children:"Style de bordure"}),(0,v.jsxs)("select",{id:"border-style",value:C.style?.borderStyle||"solid",onChange:a=>A(C.id,{style:{...C.style,borderStyle:a.target.value}}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900",children:[(0,v.jsx)("option",{value:"solid",children:"Solide"}),(0,v.jsx)("option",{value:"dashed",children:"Tirets"}),(0,v.jsx)("option",{value:"dotted",children:"Points"}),(0,v.jsx)("option",{value:"double",children:"Double"}),(0,v.jsx)("option",{value:"none",children:"Aucune"})]})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"border-radius",className:"block text-xs font-medium text-gray-800 mb-1",children:"Arrondi (px)"}),(0,v.jsx)("input",{id:"border-radius",type:"number",value:parseInt(C.style?.borderRadius)||0,onChange:a=>A(C.id,{style:{...C.style,borderRadius:`${a.target.value}px`}}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900"})]})]})]}),"text"===C.type&&(0,v.jsxs)("div",{className:"space-y-4 border-t border-gray-100 pt-4",children:[(0,v.jsxs)("h4",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider mb-2 flex items-center gap-2",children:[(0,v.jsx)(bo,{size:12})," Contenu"]}),(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("label",{className:"block text-xs font-medium text-gray-800",children:"Alignement"}),(0,v.jsxs)("div",{className:"flex bg-gray-50 rounded-lg p-1 border border-gray-200",children:[(0,v.jsx)("button",{onClick:()=>A(C.id,{style:{...C.style,textAlign:"left"}}),className:`flex-1 py-1 flex justify-center rounded ${!C.style?.textAlign||C.style?.textAlign==="left"?"bg-white shadow-sm text-blue-600":"text-gray-700 hover:text-gray-900"}`,title:"Gauche",children:(0,v.jsx)(by,{size:16})}),(0,v.jsx)("button",{onClick:()=>A(C.id,{style:{...C.style,textAlign:"center"}}),className:`flex-1 py-1 flex justify-center rounded ${C.style?.textAlign==="center"?"bg-white shadow-sm text-blue-600":"text-gray-700 hover:text-gray-900"}`,title:"Centre",children:(0,v.jsx)(bz,{size:16})}),(0,v.jsx)("button",{onClick:()=>A(C.id,{style:{...C.style,textAlign:"right"}}),className:`flex-1 py-1 flex justify-center rounded ${C.style?.textAlign==="right"?"bg-white shadow-sm text-blue-600":"text-gray-700 hover:text-gray-900"}`,title:"Droite",children:(0,v.jsx)(bA,{size:16})})]})]}),(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("label",{htmlFor:"text-content",className:"block text-xs font-medium text-gray-800",children:"Texte"}),(0,v.jsx)("textarea",{id:"text-content",value:C.content,onChange:a=>A(C.id,{content:a.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900 min-h-[80px]",rows:4})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{className:"block text-xs font-medium text-gray-800 mb-2",children:"InsÃ©rer une variable"}),(0,v.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,v.jsx)("button",{onClick:()=>u("client"),className:"px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded border border-blue-100 hover:bg-blue-100",children:"Client"}),(0,v.jsx)("button",{onClick:()=>u("date"),className:"px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded border border-blue-100 hover:bg-blue-100",children:"Date"}),(0,v.jsx)("button",{onClick:()=>u("number"),className:"px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded border border-blue-100 hover:bg-blue-100",children:"NumÃ©ro"})]})]}),(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("label",{htmlFor:"text-size",className:"block text-xs font-medium text-gray-800",children:"Taille de police (px)"}),(0,v.jsx)("input",{id:"text-size",type:"text",value:C.style?.fontSize||"",onChange:a=>A(C.id,{style:{...C.style,fontSize:a.target.value}}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900"})]})]}),"image"===C.type&&(0,v.jsxs)("div",{className:"space-y-4 border-t border-gray-100 pt-4",children:[(0,v.jsxs)("h4",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider mb-2 flex items-center gap-2",children:[(0,v.jsx)(bp,{size:12})," Source de l'image"]}),(0,v.jsxs)("div",{className:"flex bg-gray-50 rounded-lg p-1 border border-gray-200 mb-3",children:[(0,v.jsx)("button",{onClick:()=>s("url"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${"url"===r?"bg-white shadow-sm text-blue-600":"text-gray-800 hover:text-gray-900"}`,children:"Lien URL"}),(0,v.jsx)("button",{onClick:()=>s("upload"),className:`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${"upload"===r?"bg-white shadow-sm text-blue-600":"text-gray-800 hover:text-gray-900"}`,children:"Importer"})]}),"url"===r?(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("label",{htmlFor:"img-url",className:"block text-xs font-medium text-gray-800",children:"URL de l'image"}),(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)("input",{id:"img-url",type:"text",value:C.content||"",onChange:a=>A(C.id,{content:a.target.value}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900",placeholder:"https://..."},"url-input"),(0,v.jsx)(bD,{size:16,className:"text-gray-800 shrink-0"})]})]}):(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("label",{htmlFor:"img-file",className:"block text-xs font-medium text-gray-800",children:"Fichier local"}),(0,v.jsxs)("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors text-center cursor-pointer relative",children:[(0,v.jsx)("input",{id:"img-file",type:"file",accept:"image/*",onChange:a=>{if(!f)return;let b=a.target.files?.[0];if(b){let a=new FileReader;a.onloadend=()=>{A(f,{content:a.result})},a.readAsDataURL(b)}},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"},"file-input"),(0,v.jsx)(bC,{size:20,className:"mx-auto text-gray-800 mb-2"}),(0,v.jsx)("span",{className:"text-xs text-gray-800",children:"Cliquez pour choisir une image"})]}),(0,v.jsx)("p",{className:"text-[10px] text-gray-700 mt-1",children:"L'image sera convertie et enregistrÃ©e avec le modÃ¨le."})]})]}),"table"===C.type&&(0,v.jsxs)("div",{className:"space-y-4 border-t border-gray-100 pt-4",children:[(0,v.jsxs)("h4",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider mb-2 flex items-center gap-2",children:[(0,v.jsx)(bt,{size:12})," Colonnes du tableau"]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(C.columns||[]).map((a,b)=>(0,v.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-md border border-gray-200",children:[(0,v.jsx)("input",{type:"text",value:a.label,onChange:c=>{let d=[...C.columns||[]];d[b]={...a,label:c.target.value},A(C.id,{columns:d})},className:"flex-1 bg-white border border-gray-200 rounded px-2 py-1 text-sm text-gray-900",placeholder:"Nom de la colonne"}),(0,v.jsxs)("div",{className:"flex gap-1",children:[(0,v.jsx)("button",{onClick:()=>{if(0===b)return;let a=[...C.columns||[]];[a[b-1],a[b]]=[a[b],a[b-1]],A(C.id,{columns:a})},disabled:0===b,className:"p-1 text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded disabled:opacity-30 disabled:cursor-not-allowed",title:"DÃ©placer vers le haut",children:(0,v.jsx)(bI,{size:14})}),(0,v.jsx)("button",{onClick:()=>{if(b===(C.columns||[]).length-1)return;let a=[...C.columns||[]];[a[b],a[b+1]]=[a[b+1],a[b]],A(C.id,{columns:a})},disabled:b===(C.columns||[]).length-1,className:"p-1 text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded disabled:opacity-30 disabled:cursor-not-allowed",title:"DÃ©placer vers le bas",children:(0,v.jsx)(bJ,{size:14})}),(0,v.jsx)("button",{onClick:()=>{let a=(C.columns||[]).filter((a,c)=>c!==b);A(C.id,{columns:a})},disabled:(C.columns||[]).length<=1,className:"p-1 text-red-600 hover:text-red-700 hover:bg-red-50 rounded disabled:opacity-30 disabled:cursor-not-allowed",title:"Supprimer la colonne",children:(0,v.jsx)(bv.X,{size:14})})]})]},a.id)),(0,v.jsxs)("button",{onClick:()=>{let a=[...C.columns||[],{id:bQ(),label:`Colonne ${(C.columns||[]).length+1}`}];A(C.id,{columns:a})},className:"w-full py-2 px-3 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-md text-sm font-medium flex items-center justify-center gap-2 transition-colors",children:[(0,v.jsx)(bH,{size:16}),"Ajouter une colonne"]})]})]})]}):(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsxs)("div",{className:"flex items-center gap-2 pb-4 border-b border-gray-100",children:[(0,v.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg text-gray-800",children:(0,v.jsx)(bF,{size:20})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"font-bold text-gray-900",children:"ParamÃ¨tres globaux"}),(0,v.jsx)("p",{className:"text-xs text-gray-800",children:"Configuration du document"})]})]}),(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("label",{htmlFor:"template-name",className:"block text-xs font-medium text-gray-800",children:"Nom du modÃ¨le"}),(0,v.jsx)("input",{id:"template-name",type:"text",value:j,onChange:a=>k(a.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900",placeholder:"Nom du modÃ¨le"})]}),(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("label",{htmlFor:"page-padding",className:"block text-xs font-medium text-gray-800",children:"Marge de page (px)"}),(0,v.jsx)("input",{id:"page-padding",type:"number",value:d.padding,onChange:a=>e({...d,padding:parseInt(a.target.value)||0}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900"})]}),(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("label",{htmlFor:"header-height",className:"block text-xs font-medium text-gray-800",children:"Hauteur Header (px)"}),(0,v.jsx)("input",{id:"header-height",type:"number",value:d.headerHeight,onChange:a=>e({...d,headerHeight:parseInt(a.target.value)||0}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900"}),(0,v.jsx)("p",{className:"text-[10px] text-gray-700",children:"Espace rÃ©servÃ© en haut de page"})]}),(0,v.jsxs)("div",{className:"space-y-1",children:[(0,v.jsx)("label",{htmlFor:"footer-height",className:"block text-xs font-medium text-gray-800",children:"Hauteur Footer (px)"}),(0,v.jsx)("input",{id:"footer-height",type:"number",value:d.footerHeight,onChange:a=>e({...d,footerHeight:parseInt(a.target.value)||0}),className:"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900"}),(0,v.jsx)("p",{className:"text-[10px] text-gray-700",children:"Espace rÃ©servÃ© en bas de page"})]})]}),(0,v.jsx)("div",{className:"p-4 bg-yellow-50 rounded-xl border border-yellow-100 mt-4",children:(0,v.jsxs)("div",{className:"flex gap-2",children:[(0,v.jsx)(bG.FileText,{className:"text-yellow-600 shrink-0",size:16}),(0,v.jsx)("p",{className:"text-xs text-yellow-700 leading-relaxed",children:"Ces marges dÃ©finissent la zone de sÃ©curitÃ© pour l'impression. Les Ã©lÃ©ments en dehors pourraient Ãªtre coupÃ©s."})]})})]})})]})]}),(0,v.jsx)(bl,{children:h?(0,v.jsx)("div",{className:"bg-blue-600 text-white p-2 rounded shadow-lg text-sm font-medium opacity-90 pointer-events-none",children:h.type?`Ajouter ${h.type}`:"DÃ©placer"}):null}),p&&(0,v.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-8",children:(0,v.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl h-full flex flex-col overflow-hidden",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,v.jsx)("h2",{className:"font-bold",children:"AperÃ§u"}),(0,v.jsx)("button",{onClick:()=>q(!1),title:"Fermer",children:(0,v.jsx)(bv.X,{})})]}),(0,v.jsx)("div",{className:"flex-1 overflow-auto bg-gray-100 p-8 flex justify-center",children:(0,v.jsx)("div",{className:"shadow-2xl",children:(0,v.jsx)(bR.default,{elements:b,globalSettings:d})})})]})})]})}a.s(["default",()=>bV],49938)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__7438f784._.js.map