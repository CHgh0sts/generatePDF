{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/chghosts/Developpement/test%20gemini%203/components/InvoiceRenderer.tsx"],"sourcesContent":["import React from 'react';\n\nexport interface GlobalSettings {\n  padding: number;\n  headerHeight?: number;\n  footerHeight?: number;\n}\n\nexport interface TableColumn {\n  id: string;\n  label: string;\n  value?: string; // Valeur de la cellule (peut contenir des variables {{...}})\n  width?: number;\n  align?: 'left' | 'center' | 'right'; // Alignement du texte dans la colonne\n  fontWeight?: 'normal' | 'bold'; // Gras\n  fontStyle?: 'normal' | 'italic'; // Italique\n  textDecoration?: 'none' | 'underline'; // Souligné\n}\n\nexport interface EditorElement {\n  id: string;\n  type: 'text' | 'image' | 'box' | 'line' | 'table' | 'container';\n  x: number;\n  y: number;\n  w: number | string;\n  h: number | string;\n  parentId?: string | null;\n  content?: string;\n  style?: React.CSSProperties;\n  data?: any; // Pour les données complexes comme les tableaux\n  columns?: TableColumn[]; // Pour les colonnes des tableaux\n}\n\nexport default function InvoiceRenderer({ elements, globalSettings, id }: { elements: EditorElement[], globalSettings?: GlobalSettings, id?: string }) {\n  const padding = globalSettings?.padding ?? 0;\n  const headerHeight = globalSettings?.headerHeight ?? 0;\n  const footerHeight = globalSettings?.footerHeight ?? 0;\n\n  // Helper pour le rendu récursif\n  const renderElement = (element: EditorElement) => {\n    const children = elements.filter(e => e.parentId === element.id);\n\n    return (\n        <div\n          key={element.id}\n          style={{\n            position: 'absolute',\n            top: element.y,\n            left: element.x,\n            width: element.w,\n            height: element.h,\n            ...element.style,\n          }}\n        >\n          {element.type === 'text' && (\n            <div \n              className=\"w-full h-full whitespace-pre-wrap\" \n              style={{ \n                color: element.style?.color,\n                textAlign: element.style?.textAlign as any,\n                fontSize: element.style?.fontSize,\n                fontWeight: element.style?.fontWeight,\n                fontStyle: element.style?.fontStyle,\n                textDecoration: element.style?.textDecoration\n              }}\n            >\n              {element.content}\n            </div>\n          )}\n          \n          {(element.type === 'box' || element.type === 'container') && (\n            <div \n              className=\"w-full h-full relative\"\n              style={{ \n                backgroundColor: element.style?.backgroundColor || (element.type === 'container' ? 'transparent' : '#e5e7eb'), \n                borderColor: element.style?.borderColor || '#9ca3af',\n                borderWidth: element.style?.borderWidth || '1px',\n                borderStyle: 'solid',\n                borderRadius: element.style?.borderRadius || '0px'\n              }} \n            >\n               {/* Rendu des enfants pour les conteneurs */}\n               {children.map(renderElement)}\n            </div>\n          )}\n\n          {element.type === 'image' && element.content && (\n            <div \n              className=\"w-full h-full overflow-hidden\"\n              style={{\n                borderRadius: element.style?.borderRadius || '0px'\n              }}\n            >\n              {/* eslint-disable-next-line @next/next/no-img-element */}\n              <img \n                src={element.content} \n                alt=\"Element\" \n                className=\"w-full h-full object-cover block\" \n                style={{\n                  pointerEvents: 'none' \n                }}\n              />\n            </div>\n          )}\n          \n          {element.type === 'line' && (\n            <div \n              className=\"w-full h-full flex items-center\"\n            >\n               <div \n                 className=\"w-full\" \n                 style={{ \n                   height: element.style?.height || '2px', \n                   backgroundColor: element.style?.backgroundColor || 'black' \n                 }} \n               />\n            </div>\n          )}\n\n          {element.type === 'table' && (\n            <div className=\"w-full h-full overflow-hidden\">\n              <table className=\"w-full border-collapse text-sm text-gray-900\">\n                <thead>\n                  <tr style={{ backgroundColor: element.style?.backgroundColor || '#f3f4f6' }}>\n                    {(element.columns || [{ id: '1', label: 'Colonne 1' }, { id: '2', label: 'Colonne 2' }]).map((col) => (\n                      <th \n                        key={col.id} \n                        className=\"border p-2 text-gray-900\"\n                        style={{ \n                          borderColor: element.style?.borderColor || '#d1d5db',\n                          minWidth: col.width || 100,\n                          textAlign: col.align || 'left',\n                          fontWeight: col.fontWeight || 'bold',\n                          fontStyle: col.fontStyle || 'normal',\n                          textDecoration: col.textDecoration || 'none'\n                        }}\n                      >\n                        {col.label}\n                      </th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody>\n                  {/* Afficher les lignes de données si disponibles, sinon afficher des exemples */}\n                  {element.data?.rows && element.data.rows.length > 0 ? (\n                    element.data.rows.map((row: Record<string, string>, rowIndex: number) => (\n                      <tr key={rowIndex}>\n                        {(element.columns || []).map((col) => (\n                          <td \n                            key={col.id} \n                            className=\"border p-2 text-gray-900\"\n                            style={{ \n                              borderColor: element.style?.borderColor || '#d1d5db',\n                              textAlign: col.align || 'left',\n                              fontWeight: col.fontWeight || 'normal',\n                              fontStyle: col.fontStyle || 'normal',\n                              textDecoration: col.textDecoration || 'none'\n                            }}\n                          >\n                            {row[col.id] || col.value || ''}\n                          </td>\n                        ))}\n                      </tr>\n                    ))\n                  ) : (\n                    <>\n                      <tr>\n                        {(element.columns || [{ id: '1', label: 'Colonne 1' }, { id: '2', label: 'Colonne 2' }]).map((col) => (\n                          <td \n                            key={col.id} \n                            className=\"border p-2 text-gray-900\"\n                            style={{ \n                              borderColor: element.style?.borderColor || '#d1d5db',\n                              textAlign: col.align || 'left',\n                              fontWeight: col.fontWeight || 'normal',\n                              fontStyle: col.fontStyle || 'normal',\n                              textDecoration: col.textDecoration || 'none'\n                            }}\n                          >\n                            {col.value || 'Exemple'}\n                          </td>\n                        ))}\n                      </tr>\n                      <tr>\n                        {(element.columns || [{ id: '1', label: 'Colonne 1' }, { id: '2', label: 'Colonne 2' }]).map((col) => (\n                          <td \n                            key={col.id} \n                            className=\"border p-2 text-gray-900\"\n                            style={{ \n                              borderColor: element.style?.borderColor || '#d1d5db',\n                              textAlign: col.align || 'left',\n                              fontWeight: col.fontWeight || 'normal',\n                              fontStyle: col.fontStyle || 'normal',\n                              textDecoration: col.textDecoration || 'none'\n                            }}\n                          >\n                            {col.value || 'Exemple'}\n                          </td>\n                        ))}\n                      </tr>\n                    </>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n    );\n  };\n\n  // On ne rend que les éléments racine (sans parent)\n  const rootElements = elements.filter(el => !el.parentId);\n\n  return (\n    <div \n      id={id}\n      className=\"bg-white shadow-none relative print:shadow-none\"\n      style={{ \n        width: '794px', \n        height: '1123px', \n        position: 'relative', \n        overflow: 'hidden',\n        padding: `${padding}px`,\n        paddingTop: `${padding + headerHeight}px`,\n        paddingBottom: `${padding + footerHeight}px`\n      }}\n    >\n      <div style={{ position: 'relative', width: '100%', height: '100%' }}>\n         {rootElements.map(renderElement)}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 293, "column": 0}, "map": {"version":3,"sources":["file:///Users/chghosts/Developpement/test%20gemini%203/app/dashboard/builder/%5Bid%5D/IconSelector.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport { \n  File, FileText, Receipt, ShoppingCart, Package, Briefcase, \n  Calendar, Clock, DollarSign, Euro, CreditCard, Wallet,\n  Users, User, Building, Home, Store, Factory,\n  Mail, Phone, MapPin, Globe, Link2, Send,\n  CheckCircle, XCircle, AlertCircle, Info, HelpCircle,\n  Star, Heart, Bookmark, Flag, Tag, Award,\n  TrendingUp, TrendingDown, BarChart, PieChart, Activity,\n  Settings, Wrench, Hammer, Cog, Sliders,\n  Search, Filter, Download, Upload, Save, Trash2,\n  Edit, Copy, Clipboard, FileEdit, FilePlus, FileCheck,\n  Folder, FolderOpen, Archive, Database, HardDrive,\n  Image, Video, Music, Headphones, Camera, Film,\n  ShoppingBag, Gift, Truck, Box, Boxes, Container,\n  Zap, Flame, Droplet, Wind, Sun, Moon,\n  Bell, MessageCircle, MessageSquare, AtSign, Hash,\n  Lock, Unlock, Key, Shield, Eye, EyeOff,\n  Plus, Minus, X, Check, ChevronRight, ChevronLeft,\n  ArrowRight, ArrowLeft, ArrowUp, ArrowDown,\n  Circle, Square, Triangle, Hexagon, Diamond,\n  Layers, Layout, Grid, List, Menu, MoreHorizontal,\n  Printer, Scan, Monitor, Smartphone, Tablet, Laptop,\n  Wifi, Bluetooth, Cpu, Cloud, CloudDownload,\n  Book, BookOpen, GraduationCap, Lightbulb, Target, Compass,\n  Coffee, Pizza, Utensils, Wine,\n  Car, Bike, Bus, Train, Plane, Rocket,\n  TreePine, Flower, Leaf, Sprout,\n  Smile, ThumbsUp, ThumbsDown,\n  type LucideIcon\n} from 'lucide-react';\n\n// Liste complète des icônes disponibles\nexport const AVAILABLE_ICONS: { name: string; icon: LucideIcon; category: string }[] = [\n  // Documents & Fichiers\n  { name: 'File', icon: File, category: 'Documents' },\n  { name: 'FileText', icon: FileText, category: 'Documents' },\n  { name: 'Receipt', icon: Receipt, category: 'Documents' },\n  { name: 'FileEdit', icon: FileEdit, category: 'Documents' },\n  { name: 'FilePlus', icon: FilePlus, category: 'Documents' },\n  { name: 'FileCheck', icon: FileCheck, category: 'Documents' },\n  { name: 'Folder', icon: Folder, category: 'Documents' },\n  { name: 'FolderOpen', icon: FolderOpen, category: 'Documents' },\n  { name: 'Archive', icon: Archive, category: 'Documents' },\n  { name: 'Book', icon: Book, category: 'Documents' },\n  { name: 'BookOpen', icon: BookOpen, category: 'Documents' },\n  { name: 'Clipboard', icon: Clipboard, category: 'Documents' },\n  \n  // Commerce & Finance\n  { name: 'ShoppingCart', icon: ShoppingCart, category: 'Commerce' },\n  { name: 'ShoppingBag', icon: ShoppingBag, category: 'Commerce' },\n  { name: 'DollarSign', icon: DollarSign, category: 'Commerce' },\n  { name: 'Euro', icon: Euro, category: 'Commerce' },\n  { name: 'CreditCard', icon: CreditCard, category: 'Commerce' },\n  { name: 'Wallet', icon: Wallet, category: 'Commerce' },\n  { name: 'Store', icon: Store, category: 'Commerce' },\n  { name: 'Gift', icon: Gift, category: 'Commerce' },\n  { name: 'Tag', icon: Tag, category: 'Commerce' },\n  \n  // Livraison & Logistique\n  { name: 'Package', icon: Package, category: 'Logistique' },\n  { name: 'Truck', icon: Truck, category: 'Logistique' },\n  { name: 'Box', icon: Box, category: 'Logistique' },\n  { name: 'Boxes', icon: Boxes, category: 'Logistique' },\n  { name: 'Container', icon: Container, category: 'Logistique' },\n  \n  // Business & Travail\n  { name: 'Briefcase', icon: Briefcase, category: 'Business' },\n  { name: 'Building', icon: Building, category: 'Business' },\n  { name: 'Factory', icon: Factory, category: 'Business' },\n  { name: 'Users', icon: Users, category: 'Business' },\n  { name: 'User', icon: User, category: 'Business' },\n  { name: 'GraduationCap', icon: GraduationCap, category: 'Business' },\n  \n  // Communication\n  { name: 'Mail', icon: Mail, category: 'Communication' },\n  { name: 'Phone', icon: Phone, category: 'Communication' },\n  { name: 'MessageCircle', icon: MessageCircle, category: 'Communication' },\n  { name: 'MessageSquare', icon: MessageSquare, category: 'Communication' },\n  { name: 'Send', icon: Send, category: 'Communication' },\n  { name: 'Bell', icon: Bell, category: 'Communication' },\n  { name: 'AtSign', icon: AtSign, category: 'Communication' },\n  \n  // Localisation\n  { name: 'MapPin', icon: MapPin, category: 'Localisation' },\n  { name: 'Globe', icon: Globe, category: 'Localisation' },\n  { name: 'Home', icon: Home, category: 'Localisation' },\n  { name: 'Compass', icon: Compass, category: 'Localisation' },\n  \n  // Temps & Calendrier\n  { name: 'Calendar', icon: Calendar, category: 'Temps' },\n  { name: 'Clock', icon: Clock, category: 'Temps' },\n  \n  // Statuts & Alertes\n  { name: 'CheckCircle', icon: CheckCircle, category: 'Statuts' },\n  { name: 'XCircle', icon: XCircle, category: 'Statuts' },\n  { name: 'AlertCircle', icon: AlertCircle, category: 'Statuts' },\n  { name: 'Info', icon: Info, category: 'Statuts' },\n  { name: 'HelpCircle', icon: HelpCircle, category: 'Statuts' },\n  \n  // Favoris & Marqueurs\n  { name: 'Star', icon: Star, category: 'Favoris' },\n  { name: 'Heart', icon: Heart, category: 'Favoris' },\n  { name: 'Bookmark', icon: Bookmark, category: 'Favoris' },\n  { name: 'Flag', icon: Flag, category: 'Favoris' },\n  { name: 'Award', icon: Award, category: 'Favoris' },\n  \n  // Graphiques & Données\n  { name: 'TrendingUp', icon: TrendingUp, category: 'Graphiques' },\n  { name: 'TrendingDown', icon: TrendingDown, category: 'Graphiques' },\n  { name: 'BarChart', icon: BarChart, category: 'Graphiques' },\n  { name: 'PieChart', icon: PieChart, category: 'Graphiques' },\n  { name: 'Activity', icon: Activity, category: 'Graphiques' },\n  \n  // Outils & Paramètres\n  { name: 'Settings', icon: Settings, category: 'Outils' },\n  { name: 'Wrench', icon: Wrench, category: 'Outils' },\n  { name: 'Hammer', icon: Hammer, category: 'Outils' },\n  { name: 'Cog', icon: Cog, category: 'Outils' },\n  { name: 'Sliders', icon: Sliders, category: 'Outils' },\n  \n  // Actions\n  { name: 'Search', icon: Search, category: 'Actions' },\n  { name: 'Filter', icon: Filter, category: 'Actions' },\n  { name: 'Download', icon: Download, category: 'Actions' },\n  { name: 'Upload', icon: Upload, category: 'Actions' },\n  { name: 'Save', icon: Save, category: 'Actions' },\n  { name: 'Trash2', icon: Trash2, category: 'Actions' },\n  { name: 'Edit', icon: Edit, category: 'Actions' },\n  { name: 'Copy', icon: Copy, category: 'Actions' },\n  \n  // Stockage & Base de données\n  { name: 'Database', icon: Database, category: 'Stockage' },\n  { name: 'HardDrive', icon: HardDrive, category: 'Stockage' },\n  { name: 'Cloud', icon: Cloud, category: 'Stockage' },\n  { name: 'CloudDownload', icon: CloudDownload, category: 'Stockage' },\n  \n  // Média\n  { name: 'Image', icon: Image, category: 'Média' },\n  { name: 'Video', icon: Video, category: 'Média' },\n  { name: 'Music', icon: Music, category: 'Média' },\n  { name: 'Headphones', icon: Headphones, category: 'Média' },\n  { name: 'Camera', icon: Camera, category: 'Média' },\n  { name: 'Film', icon: Film, category: 'Média' },\n  \n  // Énergie & Nature\n  { name: 'Zap', icon: Zap, category: 'Énergie' },\n  { name: 'Flame', icon: Flame, category: 'Énergie' },\n  { name: 'Droplet', icon: Droplet, category: 'Énergie' },\n  { name: 'Wind', icon: Wind, category: 'Énergie' },\n  { name: 'Sun', icon: Sun, category: 'Énergie' },\n  { name: 'Moon', icon: Moon, category: 'Énergie' },\n  { name: 'TreePine', icon: TreePine, category: 'Nature' },\n  { name: 'Flower', icon: Flower, category: 'Nature' },\n  { name: 'Leaf', icon: Leaf, category: 'Nature' },\n  { name: 'Sprout', icon: Sprout, category: 'Nature' },\n  \n  // Sécurité\n  { name: 'Lock', icon: Lock, category: 'Sécurité' },\n  { name: 'Unlock', icon: Unlock, category: 'Sécurité' },\n  { name: 'Key', icon: Key, category: 'Sécurité' },\n  { name: 'Shield', icon: Shield, category: 'Sécurité' },\n  { name: 'Eye', icon: Eye, category: 'Sécurité' },\n  { name: 'EyeOff', icon: EyeOff, category: 'Sécurité' },\n  \n  // Symboles basiques\n  { name: 'Plus', icon: Plus, category: 'Symboles' },\n  { name: 'Minus', icon: Minus, category: 'Symboles' },\n  { name: 'X', icon: X, category: 'Symboles' },\n  { name: 'Check', icon: Check, category: 'Symboles' },\n  { name: 'Circle', icon: Circle, category: 'Symboles' },\n  { name: 'Square', icon: Square, category: 'Symboles' },\n  { name: 'Triangle', icon: Triangle, category: 'Symboles' },\n  { name: 'Hexagon', icon: Hexagon, category: 'Symboles' },\n  { name: 'Diamond', icon: Diamond, category: 'Symboles' },\n  \n  // Navigation & Flèches\n  { name: 'ChevronRight', icon: ChevronRight, category: 'Navigation' },\n  { name: 'ChevronLeft', icon: ChevronLeft, category: 'Navigation' },\n  { name: 'ArrowRight', icon: ArrowRight, category: 'Navigation' },\n  { name: 'ArrowLeft', icon: ArrowLeft, category: 'Navigation' },\n  { name: 'ArrowUp', icon: ArrowUp, category: 'Navigation' },\n  { name: 'ArrowDown', icon: ArrowDown, category: 'Navigation' },\n  \n  // Layout & Interface\n  { name: 'Layers', icon: Layers, category: 'Interface' },\n  { name: 'Layout', icon: Layout, category: 'Interface' },\n  { name: 'Grid', icon: Grid, category: 'Interface' },\n  { name: 'List', icon: List, category: 'Interface' },\n  { name: 'Menu', icon: Menu, category: 'Interface' },\n  { name: 'MoreHorizontal', icon: MoreHorizontal, category: 'Interface' },\n  \n  // Appareils\n  { name: 'Printer', icon: Printer, category: 'Appareils' },\n  { name: 'Scan', icon: Scan, category: 'Appareils' },\n  { name: 'Monitor', icon: Monitor, category: 'Appareils' },\n  { name: 'Smartphone', icon: Smartphone, category: 'Appareils' },\n  { name: 'Tablet', icon: Tablet, category: 'Appareils' },\n  { name: 'Laptop', icon: Laptop, category: 'Appareils' },\n  \n  // Connectivité\n  { name: 'Wifi', icon: Wifi, category: 'Connectivité' },\n  { name: 'Bluetooth', icon: Bluetooth, category: 'Connectivité' },\n  { name: 'Link2', icon: Link2, category: 'Connectivité' },\n  \n  // Éducation & Idées\n  { name: 'Lightbulb', icon: Lightbulb, category: 'Idées' },\n  { name: 'Target', icon: Target, category: 'Idées' },\n  \n  // Nourriture & Boissons\n  { name: 'Coffee', icon: Coffee, category: 'Nourriture' },\n  { name: 'Pizza', icon: Pizza, category: 'Nourriture' },\n  { name: 'Utensils', icon: Utensils, category: 'Nourriture' },\n  { name: 'Wine', icon: Wine, category: 'Nourriture' },\n  \n  // Transport\n  { name: 'Car', icon: Car, category: 'Transport' },\n  { name: 'Bike', icon: Bike, category: 'Transport' },\n  { name: 'Bus', icon: Bus, category: 'Transport' },\n  { name: 'Train', icon: Train, category: 'Transport' },\n  { name: 'Plane', icon: Plane, category: 'Transport' },\n  { name: 'Rocket', icon: Rocket, category: 'Transport' },\n  \n  // Émotions\n  { name: 'Smile', icon: Smile, category: 'Émotions' },\n  { name: 'ThumbsUp', icon: ThumbsUp, category: 'Émotions' },\n  { name: 'ThumbsDown', icon: ThumbsDown, category: 'Émotions' },\n];\n\ninterface IconSelectorProps {\n  selectedIcon: string;\n  onSelectIcon: (iconName: string) => void;\n}\n\nexport default function IconSelector({ selectedIcon, onSelectIcon }: IconSelectorProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState<string>('Tous');\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  const categories = ['Tous', ...Array.from(new Set(AVAILABLE_ICONS.map(i => i.category)))];\n\n  const filteredIcons = AVAILABLE_ICONS.filter(icon => {\n    const matchesSearch = icon.name.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesCategory = selectedCategory === 'Tous' || icon.category === selectedCategory;\n    return matchesSearch && matchesCategory;\n  });\n\n  const SelectedIconComponent = AVAILABLE_ICONS.find(i => i.name === selectedIcon)?.icon || File;\n\n  return (\n    <div className=\"space-y-2\">\n      <label className=\"block text-xs font-medium text-gray-800\">Icône du modèle</label>\n      \n      <button\n        type=\"button\"\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"w-full flex items-center gap-3 px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors\"\n      >\n        <div className=\"w-10 h-10 bg-white rounded-lg border border-gray-200 flex items-center justify-center\">\n          <SelectedIconComponent size={20} className=\"text-gray-700\" />\n        </div>\n        <span className=\"text-sm text-gray-900 flex-1 text-left\">{selectedIcon}</span>\n        <ChevronRight size={16} className={`text-gray-400 transition-transform ${isOpen ? 'rotate-90' : ''}`} />\n      </button>\n\n      {isOpen && mounted && createPortal(\n        <div \n          className=\"fixed inset-0 flex items-center justify-center p-4\"\n          style={{ zIndex: 999999, backgroundColor: 'rgba(0, 0, 0, 0.5)' }}\n        >\n          <div className=\"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\" style={{ zIndex: 1000000 }}>\n            {/* Header */}\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-xl font-bold text-gray-900\">Choisir une icône</h3>\n                <button\n                  onClick={() => setIsOpen(false)}\n                  className=\"p-2 hover:bg-gray-100 rounded-lg text-gray-600 hover:text-gray-900 transition-colors\"\n                >\n                  <X size={20} />\n                </button>\n              </div>\n              \n              {/* Search */}\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={18} />\n                <input\n                  type=\"text\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  placeholder=\"Rechercher une icône...\"\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n\n            {/* Categories */}\n            <div className=\"px-6 py-3 border-b border-gray-200 overflow-x-auto\">\n              <div className=\"flex gap-2\">\n                {categories.map(cat => (\n                  <button\n                    key={cat}\n                    onClick={() => setSelectedCategory(cat)}\n                    className={`px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap transition-colors ${\n                      selectedCategory === cat\n                        ? 'bg-blue-600 text-white'\n                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                    }`}\n                  >\n                    {cat}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Icons Grid */}\n            <div className=\"flex-1 overflow-y-auto p-6\">\n              {filteredIcons.length === 0 ? (\n                <div className=\"text-center py-12 text-gray-500\">\n                  <p>Aucune icône trouvée</p>\n                </div>\n              ) : (\n                <div className=\"grid grid-cols-8 md:grid-cols-10 lg:grid-cols-12 xl:grid-cols-14 gap-2\">\n                  {filteredIcons.map(({ name, icon: Icon }) => (\n                    <button\n                      key={name}\n                      onClick={() => {\n                        onSelectIcon(name);\n                        setIsOpen(false);\n                      }}\n                      className={`aspect-square flex items-center justify-center p-2 rounded-lg border-2 transition-all hover:scale-110 ${\n                        selectedIcon === name\n                          ? 'border-blue-500 bg-blue-50'\n                          : 'border-gray-200 hover:border-blue-300 bg-white hover:bg-blue-50/30'\n                      }`}\n                      title={name}\n                    >\n                      <Icon size={20} className={selectedIcon === name ? 'text-blue-600' : 'text-gray-700'} />\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Footer */}\n            <div className=\"px-6 py-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between\">\n              <p className=\"text-sm text-gray-600\">\n                {filteredIcons.length} icône{filteredIcons.length > 1 ? 's' : ''} disponible{filteredIcons.length > 1 ? 's' : ''}\n              </p>\n              <button\n                onClick={() => setIsOpen(false)}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium\"\n              >\n                Fermer\n              </button>\n            </div>\n          </div>\n        </div>,\n        document.body\n      )}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1484, "column": 0}, "map": {"version":3,"sources":["file:///Users/chghosts/Developpement/test%20gemini%203/app/dashboard/builder/%5Bid%5D/BuilderClient.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { \n  DndContext, \n  useDraggable, \n  useDroppable, \n  DragOverlay, \n  MouseSensor, \n  TouchSensor, \n  useSensor, \n  useSensors, \n  DragEndEvent, \n  DragStartEvent\n} from '@dnd-kit/core';\nimport { \n  Save, Type, Image as ImageIcon, Minus, Box, ArrowLeft, \n  Table as TableIcon, Eye, X, Trash2, Group,\n  AlignLeft, AlignCenter, AlignRight, LayoutTemplate, \n  Upload, Link as LinkIcon, Palette, Settings, FileText,\n  Plus, ChevronUp, ChevronDown, Bold, Italic, Underline\n} from 'lucide-react';\nimport Link from 'next/link';\nimport { v4 as uuidv4 } from 'uuid';\nimport InvoiceRenderer from '@/components/InvoiceRenderer';\nimport IconSelector from './IconSelector';\n\n// --- Types ---\ntype ElementType = 'text' | 'image' | 'box' | 'line' | 'table' | 'container';\n\nexport interface GlobalSettings {\n  padding: number;\n  headerHeight: number;\n  footerHeight: number;\n}\n\nexport interface TableColumn {\n  id: string;\n  label: string;\n  value?: string; // Valeur de la cellule (peut contenir des variables {{...}})\n  width?: number;\n  align?: 'left' | 'center' | 'right'; // Alignement du texte dans la colonne\n  fontWeight?: 'normal' | 'bold'; // Gras\n  fontStyle?: 'normal' | 'italic'; // Italique\n  textDecoration?: 'none' | 'underline'; // Souligné\n}\n\nexport interface EditorElement {\n  id: string;\n  type: ElementType;\n  x: number;\n  y: number;\n  w: number | string;\n  h: number | string;\n  parentId: string | null; // null = page root\n  content?: string;\n  style?: React.CSSProperties;\n  data?: any;\n  columns?: TableColumn[]; // Pour les tableaux\n}\n\n// --- Constants ---\nconst CANVAS_WIDTH = 794; // A4 Width in px (approx)\nconst CANVAS_HEIGHT = 1123; // A4 Height in px\n\n// --- Helper Components ---\n\n// Input with Unit Selector\ninterface InputWithUnitProps {\n  label: string;\n  value: string | number;\n  onChange: (value: string | number) => void;\n  id: string;\n}\n\nfunction InputWithUnit({ label, value, onChange, id }: InputWithUnitProps) {\n  const parseValue = (val: string | number) => {\n    const strVal = String(val);\n    // Extract unit: check for % first, then check for letters at the end\n    let unit = 'px';\n    let numStr = strVal;\n    \n    if (strVal.includes('%')) {\n      unit = '%';\n      numStr = strVal.replace('%', '');\n    } else if (strVal.match(/[a-zA-Z]+$/)) {\n      unit = strVal.match(/[a-zA-Z]+$/)?.[0] || 'px';\n      numStr = strVal.replace(/[a-zA-Z]+$/, '');\n    }\n    \n    const num = parseFloat(numStr);\n    return { num: isNaN(num) ? 0 : num, unit };\n  };\n\n  const { num, unit } = parseValue(value);\n\n  const handleNumChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newNum = e.target.value;\n    if (newNum === '') {\n        onChange(unit === 'px' ? 0 : `0${unit}`);\n        return;\n    }\n    const parsed = parseFloat(newNum);\n    const valToEmit = isNaN(parsed) ? 0 : parsed;\n    onChange(unit === 'px' ? valToEmit : `${valToEmit}${unit}`);\n  };\n\n  const handleUnitChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const newUnit = e.target.value;\n    onChange(newUnit === 'px' ? num : `${num}${newUnit}`);\n  };\n\n  return (\n    <div className=\"space-y-1\">\n      <label htmlFor={id} className=\"block text-xs font-medium text-gray-900\">{label}</label>\n      <div className=\"flex rounded-md shadow-sm\">\n        <input\n          type=\"number\"\n          id={id}\n          value={num}\n          onChange={handleNumChange}\n          step=\"any\"\n          className=\"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-l-md text-sm text-gray-900 border-gray-300 border focus:ring-blue-500 focus:border-blue-500\"\n        />\n        <select\n          id={`${id}-unit`}\n          title=\"Unité\"\n          value={unit}\n          onChange={handleUnitChange}\n          className=\"inline-flex items-center px-2 py-2 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500\"\n        >\n          <option value=\"px\">px</option>\n          <option value=\"%\">%</option>\n          <option value=\"em\">em</option>\n          <option value=\"rem\">rem</option>\n        </select>\n      </div>\n    </div>\n  );\n}\n\n\n// --- Components ---\n\n// 1. Sidebar Item (Source)\nfunction SidebarItem({ type, icon: Icon, label }: { type: ElementType, icon: any, label: string }) {\n  const { attributes, listeners, setNodeRef } = useDraggable({\n    id: `sidebar-${type}`,\n    data: { type, isSidebar: true },\n  });\n\n  return (\n    <div \n      ref={setNodeRef} \n      {...listeners} \n      {...attributes} \n      className=\"group p-3 bg-white border border-gray-200 rounded-lg cursor-grab hover:bg-blue-50 hover:border-blue-200 shadow-sm transition-all flex items-center gap-3\"\n    >\n      <div className=\"p-1.5 bg-gray-100 rounded-md text-gray-800 group-hover:bg-blue-100 group-hover:text-blue-600 transition-colors\">\n         <Icon size={18} />\n      </div>\n      <span className=\"font-medium text-sm text-gray-800 group-hover:text-blue-700\">{label}</span>\n    </div>\n  );\n}\n\n// 2. Draggable Rendered Element\ninterface DraggableElementProps {\n  element: EditorElement;\n  isSelected: boolean;\n  onSelect: (id: string) => void;\n  onResize: (id: string, w: number | string, h: number | string) => void;\n  children?: React.ReactNode;\n}\n\nfunction DraggableElement({ element, isSelected, onSelect, onResize, children }: DraggableElementProps) {\n  const { \n    attributes, \n    listeners, \n    setNodeRef: setDraggableRef, \n    transform, \n    isDragging \n  } = useDraggable({\n    id: element.id,\n    data: { ...element, isSidebar: false },\n  });\n\n  // Make containers droppable\n  const { setNodeRef: setDroppableRef, isOver: isDroppableOver } = useDroppable({\n    id: element.id,\n    data: { isContainer: true, element },\n    disabled: element.type !== 'container'\n  });\n\n  const elementRef = useRef<HTMLElement | null>(null);\n\n  // Merge refs\n  const setRefs = useCallback((node: HTMLElement | null) => {\n    setDraggableRef(node);\n    if (element.type === 'container') {\n        setDroppableRef(node);\n    }\n    elementRef.current = node;\n  }, [setDraggableRef, setDroppableRef, element.type]);\n\n  // Resize Logic\n  const resizeRef = useRef<{ \n    w: number, \n    h: number, \n    startX: number, \n    startY: number,\n    unitW: string,\n    unitH: string,\n    parentW: number,\n    parentH: number\n  } | null>(null);\n\n  const handleResizeStart = (e: React.MouseEvent, handle: string) => {\n    e.stopPropagation();\n    \n    // Use actual visual dimensions for smooth resizing from current state\n    let currentW = 100;\n    let currentH = 100;\n    let parentW = 0;\n    let parentH = 0;\n\n    if (elementRef.current) {\n        currentW = elementRef.current.offsetWidth;\n        currentH = elementRef.current.offsetHeight;\n        if (elementRef.current.parentElement) {\n            parentW = elementRef.current.parentElement.offsetWidth;\n            parentH = elementRef.current.parentElement.offsetHeight;\n        }\n    } else {\n        currentW = typeof element.w === 'number' ? element.w : parseFloat(String(element.w)) || 100;\n        currentH = typeof element.h === 'number' ? element.h : parseFloat(String(element.h)) || 100;\n    }\n\n    const getUnit = (val: number | string) => {\n        if (typeof val === 'number') return 'px';\n        return String(val).replace(/^[-\\d.]+/g, '') || 'px';\n    };\n\n    resizeRef.current = { \n        w: currentW, \n        h: currentH, \n        startX: e.clientX, \n        startY: e.clientY,\n        unitW: getUnit(element.w),\n        unitH: getUnit(element.h),\n        parentW,\n        parentH\n    };\n\n    const handleMouseMove = (moveEvent: MouseEvent) => {\n      if (!resizeRef.current) return;\n      const dx = moveEvent.clientX - resizeRef.current.startX;\n      const dy = moveEvent.clientY - resizeRef.current.startY;\n\n      let newW_px = resizeRef.current.w;\n      let newH_px = resizeRef.current.h;\n\n      if (handle.includes('e')) newW_px += dx;\n      if (handle.includes('s')) newH_px += dy;\n      \n      newW_px = Math.max(20, newW_px);\n      newH_px = Math.max(20, newH_px);\n\n      let finalW: number | string = newW_px;\n      let finalH: number | string = newH_px;\n\n      // Preserve Unit: %\n      if (resizeRef.current.unitW === '%' && resizeRef.current.parentW > 0) {\n          finalW = `${((newW_px / resizeRef.current.parentW) * 100).toFixed(2)}%`;\n      }\n      \n      if (resizeRef.current.unitH === '%' && resizeRef.current.parentH > 0) {\n          finalH = `${((newH_px / resizeRef.current.parentH) * 100).toFixed(2)}%`;\n      }\n      \n      onResize(element.id, finalW, finalH);\n    };\n\n    const handleMouseUp = () => {\n      resizeRef.current = null;\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n\n  // Styles\n  const style: React.CSSProperties = {\n    position: 'absolute',\n    top: element.y,\n    left: element.x,\n    width: element.w,\n    height: element.h,\n    transform: transform ? `translate3d(${transform.x}px, ${transform.y}px, 0)` : undefined,\n    zIndex: isSelected ? 50 : (element.type === 'container' ? 10 : 20),\n    opacity: isDragging ? 0.5 : 1,\n    ...element.style\n  };\n\n  // Visual feedback for Drop Target (Container)\n  const isContainerActive = isDroppableOver && element.type === 'container' && !isDragging;\n  const containerStyle: React.CSSProperties = {\n    ...style,\n    backgroundColor: isContainerActive ? 'rgba(59, 130, 246, 0.1)' : style.backgroundColor,\n    borderColor: isContainerActive ? '#3b82f6' : (isSelected ? '#2563eb' : (style.borderColor || 'transparent')),\n    borderWidth: isContainerActive || isSelected ? '2px' : (style.borderWidth || (element.type === 'container' ? '1px' : '0')),\n    borderStyle: element.type === 'container' ? 'dashed' : 'solid',\n  };\n\n  const renderContent = () => {\n    switch (element.type) {\n      case 'text':\n        return <div className=\"w-full h-full overflow-hidden leading-tight\" style={{ \n          color: element.style?.color,\n          fontWeight: element.style?.fontWeight,\n          fontStyle: element.style?.fontStyle,\n          textDecoration: element.style?.textDecoration\n        }}>{element.content}</div>;\n      case 'image':\n        return (\n          <div \n            className=\"w-full h-full overflow-hidden flex items-center justify-center bg-gray-50 border border-dashed border-gray-300\"\n            style={{ borderRadius: element.style?.borderRadius || '0px' }}\n          >\n            {element.content ? (\n              /* eslint-disable-next-line @next/next/no-img-element */\n              <img src={element.content} alt=\"Element\" className=\"w-full h-full object-cover\" />\n            ) : (\n              <div className=\"text-gray-800 flex flex-col items-center\"><ImageIcon size={24} /><span className=\"text-[10px]\">Image</span></div>\n            )}\n          </div>\n        );\n      case 'box':\n      case 'container':\n        return (\n           <div className=\"w-full h-full relative\">\n              {element.type === 'container' && <div className=\"absolute top-0 right-0 p-1\"><span className=\"text-[10px] text-gray-800 bg-gray-100 px-1 rounded\">Groupe</span></div>}\n             {children}\n          </div>\n        );\n      case 'line':\n         return <div className=\"w-full h-full flex items-center\"><div className=\"w-full\" style={{ height: element.style?.height || '2px', backgroundColor: element.style?.backgroundColor || 'black' }}></div></div>;\n      case 'table':\n        const columns = element.columns || [{ id: '1', label: 'Colonne 1' }, { id: '2', label: 'Colonne 2' }];\n        return (\n           <div className=\"w-full h-full overflow-hidden bg-white border border-gray-200 text-xs text-gray-900\">\n              <div className=\"p-2 bg-gray-50 border-b text-center text-gray-900\">Tableau</div>\n              <div className=\"p-2\">\n                 <div className=\"flex border-b pb-1 font-bold text-gray-900\">\n                   {columns.map((col, idx) => (\n                     <div key={col.id} className=\"flex-1 px-1\" style={{ \n                       minWidth: col.width || 100, \n                       textAlign: col.align || 'left',\n                       fontWeight: col.fontWeight || 'bold',\n                       fontStyle: col.fontStyle || 'normal',\n                       textDecoration: col.textDecoration || 'none'\n                     }}>\n                       {col.label}\n                </div>\n                   ))}\n                </div>\n                 <div className=\"flex text-gray-900 mt-2\">\n                   {columns.map((col) => (\n                     <div key={col.id} className=\"flex-1 px-1 truncate\" style={{ \n                       minWidth: col.width || 100, \n                       textAlign: col.align || 'left',\n                       fontWeight: col.fontWeight || 'normal',\n                       fontStyle: col.fontStyle || 'normal',\n                       textDecoration: col.textDecoration || 'none'\n                     }}>\n                       {col.value || 'Exemple'}\n                     </div>\n                   ))}\n                </div>\n             </div>\n          </div>\n        );\n      default: return null;\n    }\n  };\n\n  return (\n    <div \n      ref={setRefs} \n      style={containerStyle}\n      {...listeners} \n      {...attributes}\n      onClick={(e) => { e.stopPropagation(); onSelect(element.id); }}\n      className={`group cursor-move`}\n    >\n      {renderContent()}\n       \n       {isSelected && !isDragging && (\n        <>\n          <div className=\"absolute -top-6 left-0 bg-blue-600 text-white text-[10px] px-2 py-0.5 rounded shadow-md whitespace-nowrap z-50\">\n             x:{Math.round(element.x)} y:{Math.round(element.y)}\n        </div>\n          <div className=\"absolute bottom-0 right-0 w-3 h-3 bg-white border border-blue-600 cursor-se-resize z-50 -mr-1.5 -mb-1.5\" onMouseDown={(e) => handleResizeStart(e, 'se')} />\n          <div className=\"absolute top-1/2 right-0 w-3 h-3 bg-white border border-blue-600 cursor-e-resize z-50 -mr-1.5 -mt-1.5\" onMouseDown={(e) => handleResizeStart(e, 'e')} />\n          <div className=\"absolute bottom-0 left-1/2 w-3 h-3 bg-white border border-blue-600 cursor-s-resize z-50 -mb-1.5 -ml-1.5\" onMouseDown={(e) => handleResizeStart(e, 's')} />\n        </>\n      )}\n    </div>\n  );\n}\n\n// --- Main Builder Client ---\n\nexport default function BuilderClient({ template }: { template: any }) {\n  // State\n  const [elements, setElements] = useState<EditorElement[]>([]);\n  const [globalSettings, setGlobalSettings] = useState<GlobalSettings>({ padding: 40, headerHeight: 0, footerHeight: 0 });\n  const [selectedId, setSelectedId] = useState<string | null>(null);\n  const [activeDragItem, setActiveDragItem] = useState<any>(null); // For DragOverlay\n  \n  // UI State\n  const [templateName, setTemplateName] = useState(template.name);\n  const [customIcon, setCustomIcon] = useState<string>(template.customIcon || 'File');\n  const [isMounted, setIsMounted] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [showPreview, setShowPreview] = useState(false);\n  const [imageTab, setImageTab] = useState<'url' | 'upload'>('url');\n  const [showTableDialog, setShowTableDialog] = useState(false);\n  const [editingTableId, setEditingTableId] = useState<string | null>(null);\n\n  const alignElement = (alignment: 'left' | 'center' | 'right') => {\n    if (!selectedId) return;\n    const el = elements.find(e => e.id === selectedId);\n    if (!el) return;\n\n    const canvasWidth = 794;\n    const padding = globalSettings.padding;\n    let newX = el.x;\n    const elWidth = typeof el.w === 'number' ? el.w : 100; // Fallback for non-px width in alignment calc\n\n    switch (alignment) {\n        case 'left':\n            newX = padding;\n            break;\n        case 'center':\n            newX = (canvasWidth - elWidth) / 2;\n            break;\n        case 'right':\n            newX = canvasWidth - elWidth - padding;\n            break;\n    }\n\n    updateElement(selectedId, { x: newX });\n  };\n\n  const addVariable = (variable: string) => {\n    if (!selectedId) return;\n    const el = elements.find(e => e.id === selectedId);\n    if (el && el.type === 'text') {\n      const newContent = (el.content || '') + ` {{${variable}}}`;\n      updateElement(selectedId, { content: newContent });\n    }\n  };\n\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (!selectedId) return;\n    const file = e.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        updateElement(selectedId, { content: reader.result as string });\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // Sensors\n  const sensors = useSensors(\n    useSensor(MouseSensor, { activationConstraint: { distance: 5 } }), // 5px movement required to start drag\n    useSensor(TouchSensor)\n  );\n\n  // Init\n  useEffect(() => {\n    setIsMounted(true);\n    try {\n      const parsed = JSON.parse(template.content);\n      if (parsed.elements) {\n        setElements(parsed.elements);\n        setGlobalSettings(parsed.globalSettings || { padding: 40, headerHeight: 0, footerHeight: 0 });\n      } else if (Array.isArray(parsed)) {\n        setElements(parsed);\n      }\n    } catch {\n      setElements([]);\n    }\n  }, [template.content]);\n\n  // Canvas Droppable\n  const { setNodeRef: setCanvasRef, isOver: isCanvasOver } = useDroppable({\n    id: 'canvas-root',\n    data: { isRoot: true }\n  });\n\n  // --- Helpers ---\n  const getElementRect = (id: string) => {\n    // This is a simplified logical rect finder for calculations, \n    // relying on React state rather than DOM for truth\n    return elements.find(e => e.id === id);\n  };\n\n  // --- Handlers ---\n\n  const handleDragStart = (event: DragStartEvent) => {\n    const { active } = event;\n    setActiveDragItem(active.data.current);\n  };\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event;\n    setActiveDragItem(null);\n\n    const activeId = active.id as string;\n    const isSidebarItem = active.data.current?.isSidebar;\n    \n    // --- CAS 1 : NOUVEL ÉLÉMENT (SIDEBAR) ---\n    // On l'ajoute TOUJOURS, même si lâché \"à côté\" (over est null)\n    if (isSidebarItem) {\n       const type = active.data.current?.type as ElementType;\n       if (!type) return;\n\n       let newParentId: string | null = null;\n       let newX = 50; // Position par défaut (coin haut gauche)\n       let newY = 50;\n\n       // Si on a une cible valide (survol d'un container ou du canvas)\n       if (over) {\n           const overElement = elements.find(e => e.id === over.id);\n           \n           // Gestion parenté\n           if (overElement && overElement.type === 'container') {\n               newParentId = overElement.id;\n           }\n           \n           // Calcul position relative précis\n           const activeRect = active.rect.current?.translated;\n           const overRect = over.rect;\n\n      if (activeRect && overRect) {\n         newX = activeRect.left - overRect.left;\n         newY = activeRect.top - overRect.top;\n               \n               // Ajustement pour le Padding/Header si on est sur le root\n               if (newParentId === null) {\n                  newX -= globalSettings.padding;\n                  newY -= (globalSettings.padding + globalSettings.headerHeight);\n               }\n           }\n       } else {\n           // Si lâché dans le vide (zone grise), on met des coordonnées par défaut\n           // pour que l'utilisateur voie l'élément apparaitre\n           console.log(\"Drop hors zone détecté, ajout forcé sur le root\");\n      }\n\n       // Sécurité : empêcher les coordonnées négatives\n       // Pour le root (qui a des marges), on autorise un peu de débordement négatif si l'utilisateur le veut vraiment,\n       // mais par défaut on snap à 0.\n       newX = Math.max(0, newX);\n       newY = Math.max(0, newY);\n\n      const newElement: EditorElement = {\n        id: uuidv4(),\n        type,\n        x: newX, \n        y: newY,\n          w: type === 'container' ? 300 : (type === 'table' ? 500 : 200),\n          h: type === 'container' ? 200 : (type === 'line' ? 5 : 100),\n        parentId: newParentId,\n          content: type === 'text' ? 'Texte' : undefined,\n          style: { \n            backgroundColor: type === 'box' ? '#f3f4f6' : undefined,\n            borderColor: '#000000',\n            fontSize: '14px'\n          },\n          columns: type === 'table' ? [\n            { id: uuidv4(), label: 'Colonne 1', value: '', align: 'left', fontWeight: 'normal', fontStyle: 'normal', textDecoration: 'none' },\n            { id: uuidv4(), label: 'Colonne 2', value: '', align: 'left', fontWeight: 'normal', fontStyle: 'normal', textDecoration: 'none' }\n          ] : undefined\n       };\n       \n       setElements(prev => [...prev, newElement]);\n      setSelectedId(newElement.id);\n       return;\n    }\n\n    // --- CAS 2 : DÉPLACEMENT D'UN ÉLÉMENT EXISTANT ---\n    if (!over) return; \n    \n    // Eviter le drop sur soi-même (particulièrement pour les conteneurs)\n    if (active.id === over.id) return;\n\n    // 1. Determine Drop Target (Parent)\n    let newParentId: string | null = null; \n    \n    // ... suite logique existante pour le déplacement ...\n    if (over.id !== 'canvas-root') {\n       const overElement = elements.find(e => e.id === over.id);\n       if (overElement && overElement.type === 'container') {\n          // Vérification anti-boucle : ne pas devenir enfant de soi-même\n          if (overElement.id !== activeId) {\n              newParentId = overElement.id;\n          }\n       }\n    }\n\n    const activeRect = active.rect.current?.translated;\n    const overRect = over.rect;\n\n    if (!activeRect || !overRect) return;\n\n    let newX = activeRect.left - overRect.left;\n    let newY = activeRect.top - overRect.top;\n\n    // Ajustement pour le Padding/Header si on est sur le root\n    if (newParentId === null) {\n        newX -= globalSettings.padding;\n        newY -= (globalSettings.padding + globalSettings.headerHeight);\n    }\n\n    newX = Math.max(0, newX);\n    newY = Math.max(0, newY);\n\n    setElements(prev => prev.map(el => {\n        if (el.id === activeId) {\n          // Si la largeur est de 100%, on force X à 0 pour rester aligné avec le conteneur parent (ou les marges)\n          const finalX = (el.w === '100%') ? 0 : newX;\n\n          return {\n            ...el,\n            x: finalX,\n            y: newY,\n            parentId: newParentId\n          };\n        }\n        return el;\n     }));\n  };\n\n  // --- Element Manipulators ---\n  const updateElement = (id: string, updates: Partial<EditorElement>) => {\n    setElements(prev => prev.map(el => el.id === id ? { ...el, ...updates } : el));\n  };\n\n  const deleteElement = (id: string) => {\n    // Also delete children\n    setElements(prev => {\n      const toDelete = new Set<string>([id]);\n      let added = true;\n      while(added) {\n        added = false;\n        prev.forEach(el => {\n          if (el.parentId && toDelete.has(el.parentId) && !toDelete.has(el.id)) {\n            toDelete.add(el.id);\n            added = true;\n          }\n        });\n      }\n      return prev.filter(el => !toDelete.has(el.id));\n    });\n    setSelectedId(null);\n  };\n\n  // --- Rendering ---\n\n  // Recursive Renderer\n  const renderElements = (parentId: string | null) => {\n     return elements\n       .filter(el => el.parentId === parentId)\n       .map(el => (\n         <DraggableElement\n           key={el.id}\n           element={el}\n           isSelected={selectedId === el.id}\n           onSelect={setSelectedId}\n           onResize={(id, w, h) => updateElement(id, { w, h })}\n         >\n            {/* Recursion for children */}\n            {renderElements(el.id)}\n         </DraggableElement>\n       ));\n  };\n\n  if (!isMounted) return null;\n\n  const selectedElement = elements.find(e => e.id === selectedId);\n\n  return (\n    <DndContext \n      sensors={sensors} \n      onDragStart={handleDragStart} \n      onDragEnd={handleDragEnd}\n    >\n       <div className=\"h-[calc(100vh-64px)] flex flex-col bg-gray-100\">\n          {/* Header / Toolbar */}\n          <div className=\"h-16 bg-white border-b px-6 flex items-center justify-between shadow-sm shrink-0 z-20\">\n           <div className=\"flex items-center gap-4\">\n                <Link href=\"/dashboard\" className=\"p-2 hover:bg-gray-100 rounded-full text-gray-800 hover:text-gray-900\"><ArrowLeft size={20}/></Link>\n             <div>\n               <h1 className=\"font-bold text-gray-900\">{templateName}</h1>\n             </div>\n           </div>\n             <div className=\"flex items-center gap-3\">\n                <button onClick={() => setShowPreview(true)} className=\"px-4 py-2 bg-gray-800 text-white rounded-lg flex items-center gap-2 text-sm hover:bg-gray-700\"><Eye size={16}/> Aperçu</button>\n           <button \n                  onClick={async () => {\n                    setSaving(true);\n                    await fetch(`/api/templates/${template.id}`, {\n                       method: 'PUT', \n                       body: JSON.stringify({ \n                         content: JSON.stringify({ elements, globalSettings }), \n                         name: templateName,\n                         customIcon: customIcon\n                       })\n                    });\n                    setSaving(false);\n                  }} \n             disabled={saving}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center gap-2 text-sm hover:bg-blue-700 disabled:opacity-50\"\n            >\n                   <Save size={16}/> {saving ? '...' : 'Enregistrer'}\n           </button>\n             </div>\n        </div>\n\n        <div className=\"flex-1 flex overflow-hidden\">\n          {/* Sidebar */}\n             <div className=\"w-72 bg-white border-r p-4 overflow-y-auto shrink-0 z-10\">\n                <h2 className=\"text-xs font-bold text-gray-800 uppercase mb-4\">Éléments</h2>\n            <div className=\"space-y-2\">\n            <SidebarItem type=\"text\" icon={Type} label=\"Texte\" />\n            <SidebarItem type=\"image\" icon={ImageIcon} label=\"Image\" />\n                   <SidebarItem type=\"container\" icon={Group} label=\"Groupe / Conteneur\" />\n              <SidebarItem type=\"box\" icon={Box} label=\"Forme\" />\n            <SidebarItem type=\"line\" icon={Minus} label=\"Ligne\" />\n              <SidebarItem type=\"table\" icon={TableIcon} label=\"Tableau\" />\n            </div>\n                <div className=\"mt-8 p-3 bg-blue-50 text-blue-700 text-xs rounded border border-blue-100\">\n                   Glissez un élément \"Groupe\" pour créer des zones imbriquées.\n            </div>\n          </div>\n\n             {/* Main Canvas Area */}\n             <div className=\"flex-1 overflow-auto bg-gray-100/50\">\n                <div className=\"min-w-full min-h-full w-fit p-8 flex justify-center items-center\">\n             <div \n               ref={setCanvasRef}\n                     className={`relative bg-white shadow-xl transition-all duration-200 ${isCanvasOver ? 'ring-4 ring-blue-200' : ''}`}\n               style={{ \n                        width: `${CANVAS_WIDTH}px`, \n                        height: `${CANVAS_HEIGHT}px`,\n                        minWidth: `${CANVAS_WIDTH}px`,\n                        minHeight: `${CANVAS_HEIGHT}px`,\n                     }}\n                     onClick={() => setSelectedId(null)}\n                   >\n                      {/* Guides / Padding Visuals */}\n                      <div className=\"absolute inset-0 pointer-events-none border border-dashed border-gray-200 z-0\"\n                 style={{ \n                   top: globalSettings.padding + globalSettings.headerHeight, \n                   bottom: globalSettings.padding + globalSettings.footerHeight, \n                   left: globalSettings.padding, \n                   right: globalSettings.padding \n                 }} \n               />\n               \n                      {/* Elements Render - Wrapper pour respecter les marges du Root */}\n                      <div style={{\n                          position: 'absolute',\n                          top: globalSettings.padding + globalSettings.headerHeight,\n                          left: globalSettings.padding,\n                          right: globalSettings.padding,\n                          bottom: globalSettings.padding + globalSettings.footerHeight,\n                      }}>\n                          {renderElements(null)}\n                     </div>\n\n                      {elements.length === 0 && (\n                         <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none opacity-20\">\n                            <div className=\"text-center\">\n                               <Box size={64} className=\"mx-auto mb-2 text-gray-700\"/>\n                               <p className=\"text-gray-800 font-medium\">Glisser des éléments ici</p>\n                    </div>\n                 </div>\n               )}\n                   </div>\n             </div>\n          </div>\n\n          {/* Properties Panel */}\n             <div className=\"w-72 bg-white border-l border-gray-200 p-4 overflow-y-auto shrink-0 z-10 shadow-[-4px_0_24px_rgba(0,0,0,0.02)] relative\">\n            {selectedElement ? (\n              <div className=\"space-y-6 pt-8\">\n                {/* Bouton Supprimer (Positionné en absolu) */}\n                <button \n                  onClick={() => deleteElement(selectedElement.id)}\n                  className=\"absolute top-4 right-4 p-2 bg-white text-gray-700 hover:text-red-600 hover:bg-red-50 rounded-full border border-gray-200 hover:border-red-200 shadow-sm transition-all\"\n                  title=\"Supprimer l'élément\"\n                >\n                  <Trash2 size={16} />\n                </button>\n\n                <div className=\"pb-4 border-b border-gray-100\">\n                  <label className=\"block text-xs font-medium text-gray-800 uppercase mb-1\">Type d'élément</label>\n                  <div className=\"text-gray-900 font-medium capitalize flex items-center gap-2\">\n                     <div className=\"w-2 h-2 rounded-full bg-blue-500\"></div>\n                     {selectedElement.type === 'box' ? 'Boîte' : selectedElement.type === 'table' ? 'Tableau' : selectedElement.type}\n                  </div>\n                </div>\n                \n                {/* Alignement Position (Global) */}\n                <div className=\"pb-4 border-b border-gray-100\">\n                   <label className=\"block text-xs font-medium text-gray-800 uppercase mb-2\">Positionnement</label>\n                   <div className=\"flex bg-gray-50 rounded-lg p-1 border border-gray-200\">\n                      <button \n                        onClick={() => alignElement('left')}\n                        title=\"Aligner à gauche\"\n                        className=\"flex-1 py-1.5 flex justify-center rounded hover:bg-white hover:shadow-sm text-gray-700 hover:text-gray-900 transition-all\"\n                      >\n                        <LayoutTemplate size={16} className=\"rotate-180\" />\n                      </button>\n                      <button \n                        onClick={() => alignElement('center')}\n                        title=\"Centrer horizontalement\"\n                        className=\"flex-1 py-1.5 flex justify-center rounded hover:bg-white hover:shadow-sm text-gray-700 hover:text-gray-900 transition-all\"\n                      >\n                        <LayoutTemplate size={16} />\n                      </button>\n                      <button \n                        onClick={() => alignElement('right')}\n                        title=\"Aligner à droite\"\n                        className=\"flex-1 py-1.5 flex justify-center rounded hover:bg-white hover:shadow-sm text-gray-700 hover:text-gray-900 transition-all\"\n                      >\n                        <LayoutTemplate size={16} />\n                      </button>\n                  </div>\n                </div>\n                \n                {/* Common Props - Utilisation du nouveau composant InputWithUnit */}\n                <div className=\"grid grid-cols-2 gap-4\">\n                   <InputWithUnit \n                     id=\"pos-x\" \n                     label=\"Position X\" \n                     value={selectedElement.x} \n                     onChange={(val) => updateElement(selectedElement.id, { x: val as number })} \n                   />\n                   <InputWithUnit \n                     id=\"pos-y\" \n                     label=\"Position Y\" \n                     value={selectedElement.y} \n                     onChange={(val) => updateElement(selectedElement.id, { y: val as number })} \n                   />\n                   <InputWithUnit \n                     id=\"size-w\" \n                     label=\"Largeur\" \n                     value={selectedElement.w} \n                     onChange={(val) => {\n                        const updates: Partial<EditorElement> = { w: val };\n                        // Si on met la largeur à 100%, on remet X à 0 pour éviter le débordement\n                        if (val === '100%') {\n                           updates.x = 0;\n                        }\n                        updateElement(selectedElement.id, updates);\n                     }} \n                   />\n                   <InputWithUnit \n                     id=\"size-h\" \n                     label=\"Hauteur\" \n                     value={selectedElement.h} \n                     onChange={(val) => updateElement(selectedElement.id, { h: val })} \n                   />\n                </div>\n\n                {/* Styles de base */}\n                <div className=\"space-y-4 border-t border-gray-100 pt-4\">\n                   <h4 className=\"text-xs font-bold text-gray-900 uppercase tracking-wider mb-2 flex items-center gap-2\">\n                     <Palette size={12} /> Apparence\n                   </h4>\n                   \n                   {/* Couleur de texte (pour Text) */}\n                   {selectedElement.type === 'text' && (\n                     <div>\n                        <label htmlFor=\"text-color\" className=\"block text-xs font-medium text-gray-800 mb-1\">Couleur du texte</label>\n                        <div className=\"flex items-center gap-2\">\n                           <input \n                             id=\"text-color\"\n                             type=\"color\" \n                             value={selectedElement.style?.color || '#000000'} \n                             onChange={(e) => updateElement(selectedElement.id, { style: { ...selectedElement.style, color: e.target.value } })} \n                             className=\"h-8 w-8 rounded cursor-pointer border border-gray-200 p-0.5\"\n                           />\n                           <span className=\"text-xs text-gray-800\">{selectedElement.style?.color || '#000000'}</span>\n                        </div>\n                     </div>\n                   )}\n\n                   {/* Couleur de fond (pour Box, Line, Table) */}\n                   {(selectedElement.type === 'box' || selectedElement.type === 'line' || selectedElement.type === 'table' || selectedElement.type === 'container') && (\n                     <div>\n                        <label htmlFor=\"bg-color\" className=\"block text-xs font-medium text-gray-800 mb-1\">\n                           {selectedElement.type === 'line' ? 'Couleur de la ligne' : 'Couleur de fond'}\n                        </label>\n                        <div className=\"flex items-center gap-2\">\n                           <input \n                             id=\"bg-color\"\n                             type=\"color\" \n                             value={selectedElement.style?.backgroundColor || (selectedElement.type === 'line' ? '#000000' : '#ffffff')} \n                             onChange={(e) => updateElement(selectedElement.id, { style: { ...selectedElement.style, backgroundColor: e.target.value } })} \n                             className=\"h-8 w-8 rounded cursor-pointer border border-gray-200 p-0.5\"\n                           />\n                        </div>\n                     </div>\n                   )}\n\n                   {/* Bordure (pour Box et Container) */}\n                   {(selectedElement.type === 'box' || selectedElement.type === 'container') && (\n                     <>\n                       <div>\n                          <label htmlFor=\"border-color\" className=\"block text-xs font-medium text-gray-800 mb-1\">Couleur Bordure</label>\n                          <input \n                             id=\"border-color\"\n                             type=\"color\" \n                             value={selectedElement.style?.borderColor || '#000000'} \n                             onChange={(e) => updateElement(selectedElement.id, { style: { ...selectedElement.style, borderColor: e.target.value } })} \n                             className=\"h-8 w-8 rounded cursor-pointer border border-gray-200 p-0.5\"\n                           />\n                       </div>\n                       <div>\n                          <label htmlFor=\"border-width\" className=\"block text-xs font-medium text-gray-800 mb-1\">Épaisseur bordure (px)</label>\n                          <input \n                             id=\"border-width\"\n                             type=\"number\" \n                             value={parseInt(selectedElement.style?.borderWidth as string) || 1} \n                             onChange={(e) => updateElement(selectedElement.id, { style: { ...selectedElement.style, borderWidth: `${e.target.value}px` } })} \n                             className=\"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900\"\n                           />\n                       </div>\n                       <div>\n                          <label htmlFor=\"border-style\" className=\"block text-xs font-medium text-gray-800 mb-1\">Style de bordure</label>\n                          <select\n                             id=\"border-style\"\n                             value={selectedElement.style?.borderStyle || 'solid'}\n                             onChange={(e) => updateElement(selectedElement.id, { style: { ...selectedElement.style, borderStyle: e.target.value } })}\n                             className=\"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900\"\n                          >\n                             <option value=\"solid\">Solide</option>\n                             <option value=\"dashed\">Tirets</option>\n                             <option value=\"dotted\">Points</option>\n                             <option value=\"double\">Double</option>\n                             <option value=\"none\">Aucune</option>\n                          </select>\n                       </div>\n                       <div>\n                          <label htmlFor=\"border-radius\" className=\"block text-xs font-medium text-gray-800 mb-1\">Arrondi (px)</label>\n                          <input \n                             id=\"border-radius\"\n                             type=\"number\" \n                             value={parseInt(selectedElement.style?.borderRadius as string) || 0} \n                             onChange={(e) => updateElement(selectedElement.id, { style: { ...selectedElement.style, borderRadius: `${e.target.value}px` } })} \n                             className=\"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900\"\n                           />\n                       </div>\n                     </>\n                   )}\n                </div>\n\n                      {/* Specific Props */}\n                {selectedElement.type === 'text' && (\n                  <div className=\"space-y-4 border-t border-gray-100 pt-4\">\n                    <h4 className=\"text-xs font-bold text-gray-900 uppercase tracking-wider mb-2 flex items-center gap-2\">\n                     <Type size={12} /> Contenu\n                    </h4>\n                    \n                    <div className=\"space-y-1\">\n                       <label className=\"block text-xs font-medium text-gray-800\">Alignement</label>\n                       <div className=\"flex bg-gray-50 rounded-lg p-1 border border-gray-200\">\n                          <button \n                            onClick={() => updateElement(selectedElement.id, { style: { ...selectedElement.style, textAlign: 'left' } })}\n                            className={`flex-1 py-1 flex justify-center rounded ${(!selectedElement.style?.textAlign || selectedElement.style?.textAlign === 'left') ? 'bg-white shadow-sm text-blue-600' : 'text-gray-700 hover:text-gray-900'}`}\n                            title=\"Gauche\"\n                          >\n                            <AlignLeft size={16} />\n                          </button>\n                          <button \n                            onClick={() => updateElement(selectedElement.id, { style: { ...selectedElement.style, textAlign: 'center' } })}\n                            className={`flex-1 py-1 flex justify-center rounded ${selectedElement.style?.textAlign === 'center' ? 'bg-white shadow-sm text-blue-600' : 'text-gray-700 hover:text-gray-900'}`}\n                            title=\"Centre\"\n                          >\n                            <AlignCenter size={16} />\n                          </button>\n                          <button \n                            onClick={() => updateElement(selectedElement.id, { style: { ...selectedElement.style, textAlign: 'right' } })}\n                            className={`flex-1 py-1 flex justify-center rounded ${selectedElement.style?.textAlign === 'right' ? 'bg-white shadow-sm text-blue-600' : 'text-gray-700 hover:text-gray-900'}`}\n                            title=\"Droite\"\n                          >\n                            <AlignRight size={16} />\n                          </button>\n                       </div>\n                    </div>\n\n                    <div className=\"space-y-1\">\n                      <label htmlFor=\"text-content\" className=\"block text-xs font-medium text-gray-800\">Texte</label>\n                      <textarea \n                        id=\"text-content\"\n                        value={selectedElement.content} \n                        onChange={(e) => updateElement(selectedElement.id, { content: e.target.value })}\n                        className=\"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900 min-h-[80px]\"\n                        rows={4}\n                      />\n                    </div>\n                    \n                    <div>\n                       <label className=\"block text-xs font-medium text-gray-800 mb-2\">Insérer une variable</label>\n                       <div className=\"flex flex-wrap gap-2\">\n                          <button onClick={() => addVariable('client')} className=\"px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded border border-blue-100 hover:bg-blue-100\">Client</button>\n                          <button onClick={() => addVariable('date')} className=\"px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded border border-blue-100 hover:bg-blue-100\">Date</button>\n                          <button onClick={() => addVariable('number')} className=\"px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded border border-blue-100 hover:bg-blue-100\">Numéro</button>\n                       </div>\n                    </div>\n\n                    <div className=\"space-y-1\">\n                       <label htmlFor=\"text-size\" className=\"block text-xs font-medium text-gray-800\">Taille de police (px)</label>\n                       <input \n                         id=\"text-size\"\n                         type=\"text\" \n                         value={selectedElement.style?.fontSize || ''} \n                         onChange={(e) => updateElement(selectedElement.id, { style: { ...selectedElement.style, fontSize: e.target.value } })} \n                         className=\"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900\"\n                       />\n                    </div>\n                    \n                    <div className=\"space-y-1\">\n                       <label className=\"block text-xs font-medium text-gray-800 mb-2\">Style du texte</label>\n                       <div className=\"flex bg-gray-50 rounded-lg p-1 border border-gray-200\">\n                          <button \n                            onClick={() => updateElement(selectedElement.id, { \n                              style: { \n                                ...selectedElement.style, \n                                fontWeight: selectedElement.style?.fontWeight === 'bold' ? 'normal' : 'bold' \n                              } \n                            })}\n                            className={`flex-1 py-1.5 flex justify-center items-center gap-1 rounded ${selectedElement.style?.fontWeight === 'bold' ? 'bg-white shadow-sm text-blue-600' : 'text-gray-700 hover:text-gray-900'}`}\n                            title=\"Gras\"\n                          >\n                            <Bold size={16} />\n                            <span className=\"text-xs\">Gras</span>\n                          </button>\n                          <button \n                            onClick={() => updateElement(selectedElement.id, { \n                              style: { \n                                ...selectedElement.style, \n                                fontStyle: selectedElement.style?.fontStyle === 'italic' ? 'normal' : 'italic' \n                              } \n                            })}\n                            className={`flex-1 py-1.5 flex justify-center items-center gap-1 rounded ${selectedElement.style?.fontStyle === 'italic' ? 'bg-white shadow-sm text-blue-600' : 'text-gray-700 hover:text-gray-900'}`}\n                            title=\"Italique\"\n                          >\n                            <Italic size={16} />\n                            <span className=\"text-xs\">Italique</span>\n                          </button>\n                          <button \n                            onClick={() => updateElement(selectedElement.id, { \n                              style: { \n                                ...selectedElement.style, \n                                textDecoration: selectedElement.style?.textDecoration === 'underline' ? 'none' : 'underline' \n                              } \n                            })}\n                            className={`flex-1 py-1.5 flex justify-center items-center gap-1 rounded ${selectedElement.style?.textDecoration === 'underline' ? 'bg-white shadow-sm text-blue-600' : 'text-gray-700 hover:text-gray-900'}`}\n                            title=\"Souligné\"\n                          >\n                            <Underline size={16} />\n                            <span className=\"text-xs\">Souligné</span>\n                          </button>\n                       </div>\n                    </div>\n                  </div>\n                )}\n\n               {/* Image Properties */}\n               {selectedElement.type === 'image' && (\n                 <div className=\"space-y-4 border-t border-gray-100 pt-4\">\n                   <h4 className=\"text-xs font-bold text-gray-900 uppercase tracking-wider mb-2 flex items-center gap-2\">\n                    <ImageIcon size={12} /> Source de l'image\n                   </h4>\n                   \n                   <div className=\"flex bg-gray-50 rounded-lg p-1 border border-gray-200 mb-3\">\n                      <button \n                        onClick={() => setImageTab('url')}\n                        className={`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${imageTab === 'url' ? 'bg-white shadow-sm text-blue-600' : 'text-gray-800 hover:text-gray-900'}`}\n                      >\n                        Lien URL\n                      </button>\n                      <button \n                        onClick={() => setImageTab('upload')}\n                        className={`flex-1 py-1.5 text-xs font-medium rounded-md transition-all ${imageTab === 'upload' ? 'bg-white shadow-sm text-blue-600' : 'text-gray-800 hover:text-gray-900'}`}\n                      >\n                        Importer\n                      </button>\n                   </div>\n\n                   {imageTab === 'url' ? (\n                     <div className=\"space-y-1\">\n                        <label htmlFor=\"img-url\" className=\"block text-xs font-medium text-gray-800\">URL de l'image</label>\n                        <div className=\"flex items-center gap-2\">\n                          <input \n                            id=\"img-url\"\n                            key=\"url-input\"\n                            type=\"text\" \n                            value={selectedElement.content || ''} \n                            onChange={(e) => updateElement(selectedElement.id, { content: e.target.value })}\n                            className=\"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900\"\n                            placeholder=\"https://...\"\n                          />\n                           <LinkIcon size={16} className=\"text-gray-800 shrink-0\" />\n                        </div>\n                     </div>\n                   ) : (\n                     <div className=\"space-y-1\">\n                        <label htmlFor=\"img-file\" className=\"block text-xs font-medium text-gray-800\">Fichier local</label>\n                        <div className=\"border-2 border-dashed border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors text-center cursor-pointer relative\">\n                           <input \n                             id=\"img-file\"\n                             key=\"file-input\"\n                             type=\"file\" \n                             accept=\"image/*\"\n                             onChange={handleImageUpload}\n                             className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\n                           />\n                           <Upload size={20} className=\"mx-auto text-gray-800 mb-2\" />\n                           <span className=\"text-xs text-gray-800\">Cliquez pour choisir une image</span>\n                        </div>\n                        <p className=\"text-[10px] text-gray-700 mt-1\">L'image sera convertie et enregistrée avec le modèle.</p>\n                     </div>\n                   )}\n                   \n                   {/* Border Radius for Images */}\n                   <div className=\"space-y-3 border-t border-gray-100 pt-4\">\n                     <label className=\"block text-xs font-medium text-gray-800\">Arrondi des angles</label>\n                     \n                     {/* Preset buttons */}\n                     <div className=\"grid grid-cols-4 gap-2\">\n                       <button\n                         onClick={() => updateElement(selectedElement.id, { style: { ...selectedElement.style, borderRadius: '0px' } })}\n                         className={`p-2 border-2 rounded transition-all ${(selectedElement.style?.borderRadius === '0px' || !selectedElement.style?.borderRadius) ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'}`}\n                         title=\"Aucun arrondi\"\n                       >\n                         <div className=\"w-full h-8 bg-gray-300\"></div>\n                       </button>\n                       <button\n                         onClick={() => updateElement(selectedElement.id, { style: { ...selectedElement.style, borderRadius: '4px' } })}\n                         className={`p-2 border-2 rounded transition-all ${selectedElement.style?.borderRadius === '4px' ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'}`}\n                         title=\"Léger (4px)\"\n                       >\n                         <div className=\"w-full h-8 bg-gray-300 rounded\"></div>\n                       </button>\n                       <button\n                         onClick={() => updateElement(selectedElement.id, { style: { ...selectedElement.style, borderRadius: '8px' } })}\n                         className={`p-2 border-2 rounded transition-all ${selectedElement.style?.borderRadius === '8px' ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'}`}\n                         title=\"Moyen (8px)\"\n                       >\n                         <div className=\"w-full h-8 bg-gray-300 rounded-md\"></div>\n                       </button>\n                       <button\n                         onClick={() => updateElement(selectedElement.id, { style: { ...selectedElement.style, borderRadius: '16px' } })}\n                         className={`p-2 border-2 rounded transition-all ${selectedElement.style?.borderRadius === '16px' ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'}`}\n                         title=\"Fort (16px)\"\n                       >\n                         <div className=\"w-full h-8 bg-gray-300 rounded-lg\"></div>\n                       </button>\n                       <button\n                         onClick={() => updateElement(selectedElement.id, { style: { ...selectedElement.style, borderRadius: '24px' } })}\n                         className={`p-2 border-2 rounded transition-all ${selectedElement.style?.borderRadius === '24px' ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'}`}\n                         title=\"Très fort (24px)\"\n                       >\n                         <div className=\"w-full h-8 bg-gray-300 rounded-xl\"></div>\n                       </button>\n                       <button\n                         onClick={() => updateElement(selectedElement.id, { style: { ...selectedElement.style, borderRadius: '50%' } })}\n                         className={`p-2 border-2 rounded transition-all ${selectedElement.style?.borderRadius === '50%' ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'}`}\n                         title=\"Cercle/Ovale\"\n                       >\n                         <div className=\"w-full h-8 bg-gray-300 rounded-full\"></div>\n                       </button>\n                     </div>\n                     \n                     {/* Custom value input */}\n                     <div className=\"space-y-1\">\n                       <label htmlFor=\"img-border-radius\" className=\"block text-xs font-medium text-gray-800\">Valeur personnalisée</label>\n                       <div className=\"flex gap-2\">\n                         <input \n                           id=\"img-border-radius\"\n                           type=\"text\"\n                           value={selectedElement.style?.borderRadius || '0px'}\n                           onChange={(e) => updateElement(selectedElement.id, { style: { ...selectedElement.style, borderRadius: e.target.value } })}\n                           className=\"flex-1 bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900\"\n                           placeholder=\"Ex: 12px, 50%, 1rem\"\n                         />\n                       </div>\n                       <p className=\"text-[10px] text-gray-700\">Formats acceptés : px, %, rem, em</p>\n                     </div>\n                   </div>\n                 </div>\n               )}\n\n               {/* Table Configuration Button */}\n               {selectedElement.type === 'table' && (\n                 <div className=\"space-y-4 border-t border-gray-100 pt-4\">\n                   <h4 className=\"text-xs font-bold text-gray-900 uppercase tracking-wider mb-2 flex items-center gap-2\">\n                     <TableIcon size={12} /> Configuration du tableau\n                   </h4>\n                   \n                   <button\n                     onClick={() => {\n                       setEditingTableId(selectedElement.id);\n                       setShowTableDialog(true);\n                     }}\n                     className=\"w-full py-3 px-4 bg-blue-600 text-white hover:bg-blue-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-colors shadow-sm\"\n                   >\n                     <Settings size={18} />\n                     Personnaliser le tableau\n                   </button>\n                   \n                   <div className=\"text-xs text-gray-700 bg-gray-50 p-3 rounded-lg border border-gray-200\">\n                     <p className=\"font-medium text-gray-900 mb-1\">Colonnes actuelles :</p>\n                     <p className=\"text-gray-800\">\n                       {(selectedElement.columns || []).length > 0 \n                         ? (selectedElement.columns || []).map(c => c.label).join(', ')\n                         : 'Aucune colonne'}\n                     </p>\n                   </div>\n                 </div>\n               )}\n\n              </div>\n            ) : (\n              <div className=\"space-y-6\">\n                <div className=\"flex items-center gap-2 pb-4 border-b border-gray-100\">\n                   <div className=\"p-2 bg-gray-100 rounded-lg text-gray-800\">\n                      <Settings size={20} />\n                   </div>\n                   <div>\n                      <h3 className=\"font-bold text-gray-900\">Paramètres globaux</h3>\n                      <p className=\"text-xs text-gray-800\">Configuration du document</p>\n                   </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                   <div className=\"space-y-1\">\n                      <label htmlFor=\"template-name\" className=\"block text-xs font-medium text-gray-800\">Nom du modèle</label>\n                      <input \n                         id=\"template-name\"\n                         type=\"text\" \n                         value={templateName} \n                         onChange={(e) => setTemplateName(e.target.value)} \n                         className=\"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900\"\n                         placeholder=\"Nom du modèle\"\n                       />\n                   </div>\n\n                   <IconSelector\n                     selectedIcon={customIcon}\n                     onSelectIcon={setCustomIcon}\n                   />\n\n                   <div className=\"space-y-1\">\n                      <label htmlFor=\"page-padding\" className=\"block text-xs font-medium text-gray-800\">Marge de page (px)</label>\n                      <input \n                         id=\"page-padding\"\n                         type=\"number\" \n                         value={globalSettings.padding} \n                         onChange={(e) => setGlobalSettings({ ...globalSettings, padding: parseInt(e.target.value) || 0 })} \n                         className=\"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900\"\n                       />\n                   </div>\n                   \n                   <div className=\"space-y-1\">\n                      <label htmlFor=\"header-height\" className=\"block text-xs font-medium text-gray-800\">Hauteur Header (px)</label>\n                      <input \n                         id=\"header-height\"\n                         type=\"number\" \n                         value={globalSettings.headerHeight} \n                         onChange={(e) => setGlobalSettings({ ...globalSettings, headerHeight: parseInt(e.target.value) || 0 })} \n                         className=\"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900\"\n                       />\n                       <p className=\"text-[10px] text-gray-700\">Espace réservé en haut de page</p>\n                   </div>\n\n                   <div className=\"space-y-1\">\n                      <label htmlFor=\"footer-height\" className=\"block text-xs font-medium text-gray-800\">Hauteur Footer (px)</label>\n                      <input \n                         id=\"footer-height\"\n                         type=\"number\" \n                         value={globalSettings.footerHeight} \n                         onChange={(e) => setGlobalSettings({ ...globalSettings, footerHeight: parseInt(e.target.value) || 0 })} \n                         className=\"w-full bg-gray-50 border border-gray-200 rounded-md px-3 py-2 text-sm text-gray-900\"\n                       />\n                       <p className=\"text-[10px] text-gray-700\">Espace réservé en bas de page</p>\n                   </div>\n                </div>\n\n                <div className=\"p-4 bg-yellow-50 rounded-xl border border-yellow-100 mt-4\">\n                   <div className=\"flex gap-2\">\n                      <FileText className=\"text-yellow-600 shrink-0\" size={16} />\n                      <p className=\"text-xs text-yellow-700 leading-relaxed\">\n                        Ces marges définissent la zone de sécurité pour l'impression. Les éléments en dehors pourraient être coupés.\n                      </p>\n                   </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n       {/* Drag Overlay for visual feedback during drag */}\n      <DragOverlay dropAnimation={null}>\n          {activeDragItem ? (\n             <div className=\"bg-blue-600 text-white p-2 rounded shadow-lg text-sm font-medium opacity-90 pointer-events-none\">\n                {activeDragItem.type ? `Ajouter ${activeDragItem.type}` : 'Déplacer'}\n            </div>\n        ) : null}\n      </DragOverlay>\n\n      {/* Preview Modal */}\n      {showPreview && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-8\">\n           <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-5xl h-full flex flex-col overflow-hidden\">\n              <div className=\"flex items-center justify-between p-4 border-b\">\n                 <h2 className=\"font-bold\">Aperçu</h2>\n                 <button onClick={() => setShowPreview(false)} title=\"Fermer\"><X/></button>\n              </div>\n              <div className=\"flex-1 overflow-auto bg-gray-100 p-8 flex justify-center\">\n                 <div className=\"shadow-2xl\">\n                    <InvoiceRenderer elements={elements} globalSettings={globalSettings} />\n                 </div>\n              </div>\n           </div>\n        </div>\n      )}\n\n      {/* Table Editor Dialog */}\n      {showTableDialog && editingTableId && (() => {\n        const tableElement = elements.find(e => e.id === editingTableId);\n        if (!tableElement) return null;\n        \n        const tableColumns = tableElement.columns || [];\n        \n        return (\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\n              {/* Header */}\n              <div className=\"px-6 py-4 border-b border-gray-200 flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"p-2 bg-blue-100 rounded-lg text-blue-600\">\n                    <TableIcon size={24} />\n                  </div>\n                  <div>\n                    <h2 className=\"text-xl font-bold text-gray-900\">Configuration du tableau</h2>\n                    <p className=\"text-sm text-gray-600\">Personnalisez les colonnes et leurs valeurs</p>\n                  </div>\n                </div>\n                <button\n                  onClick={() => {\n                    setShowTableDialog(false);\n                    setEditingTableId(null);\n                  }}\n                  className=\"p-2 hover:bg-gray-100 rounded-lg text-gray-600 hover:text-gray-900 transition-colors\"\n                  title=\"Fermer\"\n                >\n                  <X size={24} />\n                </button>\n              </div>\n\n              {/* Content */}\n              <div className=\"flex-1 overflow-y-auto p-6\">\n                <div className=\"space-y-4\">\n                  {tableColumns.length === 0 ? (\n                    <div className=\"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200\">\n                      <TableIcon size={48} className=\"mx-auto text-gray-400 mb-3\" />\n                      <p className=\"text-gray-600 font-medium mb-2\">Aucune colonne</p>\n                      <p className=\"text-sm text-gray-500 mb-4\">Commencez par ajouter une colonne à votre tableau</p>\n                    </div>\n                  ) : (\n                    tableColumns.map((column, index) => (\n                      <div key={column.id} className=\"bg-gray-50 rounded-lg border border-gray-200 p-4\">\n                        <div className=\"flex items-start gap-3 mb-3\">\n                          <div className=\"flex-1 space-y-3\">\n                            <div>\n                              <label htmlFor={`col-label-${column.id}`} className=\"block text-sm font-medium text-gray-800 mb-1.5\">\n                                Nom de la colonne\n                              </label>\n                              <input\n                                id={`col-label-${column.id}`}\n                                type=\"text\"\n                                value={column.label}\n                                onChange={(e) => {\n                                  const newColumns = [...tableColumns];\n                                  newColumns[index] = { ...column, label: e.target.value };\n                                  updateElement(editingTableId, { columns: newColumns });\n                                }}\n                                className=\"w-full bg-white border border-gray-300 rounded-lg px-3 py-2 text-sm text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                                placeholder=\"Ex: Produit, Prix, Quantité\"\n                              />\n                            </div>\n                            \n                            <div>\n                              <label htmlFor={`col-value-${column.id}`} className=\"block text-sm font-medium text-gray-800 mb-1.5\">\n                                Valeur de la cellule\n                              </label>\n                              <input\n                                id={`col-value-${column.id}`}\n                                type=\"text\"\n                                value={column.value || ''}\n                                onChange={(e) => {\n                                  const newColumns = [...tableColumns];\n                                  newColumns[index] = { ...column, value: e.target.value };\n                                  updateElement(editingTableId, { columns: newColumns });\n                                }}\n                                className=\"w-full bg-white border border-gray-300 rounded-lg px-3 py-2 text-sm text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono\"\n                                placeholder=\"Ex: {{prixTab}}, Texte fixe, {{quantite}}\"\n                              />\n                              <p className=\"text-xs text-gray-600 mt-1\">\n                                Utilisez <code className=\"bg-gray-200 px-1.5 py-0.5 rounded text-xs\">{'{{variable}}'}</code> pour insérer des données dynamiques\n                              </p>\n                            </div>\n                            \n                            <div>\n                              <label className=\"block text-sm font-medium text-gray-800 mb-1.5\">\n                                Alignement du texte\n                              </label>\n                              <div className=\"grid grid-cols-3 gap-2\">\n                                <button\n                                  onClick={() => {\n                                    const newColumns = [...tableColumns];\n                                    newColumns[index] = { ...column, align: 'left' };\n                                    updateElement(editingTableId, { columns: newColumns });\n                                  }}\n                                  className={`py-2 px-3 rounded-lg border-2 text-sm font-medium transition-all flex items-center justify-center gap-2 ${\n                                    (column.align || 'left') === 'left' \n                                      ? 'border-blue-500 bg-blue-50 text-blue-700' \n                                      : 'border-gray-200 bg-white text-gray-700 hover:border-gray-300'\n                                  }`}\n                                  title=\"Aligner à gauche\"\n                                >\n                                  <AlignLeft size={16} />\n                                  Gauche\n                                </button>\n                                <button\n                                  onClick={() => {\n                                    const newColumns = [...tableColumns];\n                                    newColumns[index] = { ...column, align: 'center' };\n                                    updateElement(editingTableId, { columns: newColumns });\n                                  }}\n                                  className={`py-2 px-3 rounded-lg border-2 text-sm font-medium transition-all flex items-center justify-center gap-2 ${\n                                    column.align === 'center' \n                                      ? 'border-blue-500 bg-blue-50 text-blue-700' \n                                      : 'border-gray-200 bg-white text-gray-700 hover:border-gray-300'\n                                  }`}\n                                  title=\"Centrer\"\n                                >\n                                  <AlignCenter size={16} />\n                                  Centre\n                                </button>\n                                <button\n                                  onClick={() => {\n                                    const newColumns = [...tableColumns];\n                                    newColumns[index] = { ...column, align: 'right' };\n                                    updateElement(editingTableId, { columns: newColumns });\n                                  }}\n                                  className={`py-2 px-3 rounded-lg border-2 text-sm font-medium transition-all flex items-center justify-center gap-2 ${\n                                    column.align === 'right' \n                                      ? 'border-blue-500 bg-blue-50 text-blue-700' \n                                      : 'border-gray-200 bg-white text-gray-700 hover:border-gray-300'\n                                  }`}\n                                  title=\"Aligner à droite\"\n                                >\n                                  <AlignRight size={16} />\n                                  Droite\n                                </button>\n                              </div>\n                            </div>\n                            \n                            <div>\n                              <label className=\"block text-sm font-medium text-gray-800 mb-1.5\">\n                                Style du texte\n                              </label>\n                              <div className=\"flex gap-2\">\n                                <button\n                                  onClick={() => {\n                                    const newColumns = [...tableColumns];\n                                    newColumns[index] = { \n                                      ...column, \n                                      fontWeight: column.fontWeight === 'bold' ? 'normal' : 'bold' \n                                    };\n                                    updateElement(editingTableId, { columns: newColumns });\n                                  }}\n                                  className={`flex-1 py-2 px-3 rounded-lg border-2 text-sm font-medium transition-all flex items-center justify-center gap-2 ${\n                                    column.fontWeight === 'bold' \n                                      ? 'border-blue-500 bg-blue-50 text-blue-700' \n                                      : 'border-gray-200 bg-white text-gray-700 hover:border-gray-300'\n                                  }`}\n                                  title=\"Gras\"\n                                >\n                                  <Bold size={16} />\n                                  Gras\n                                </button>\n                                <button\n                                  onClick={() => {\n                                    const newColumns = [...tableColumns];\n                                    newColumns[index] = { \n                                      ...column, \n                                      fontStyle: column.fontStyle === 'italic' ? 'normal' : 'italic' \n                                    };\n                                    updateElement(editingTableId, { columns: newColumns });\n                                  }}\n                                  className={`flex-1 py-2 px-3 rounded-lg border-2 text-sm font-medium transition-all flex items-center justify-center gap-2 ${\n                                    column.fontStyle === 'italic' \n                                      ? 'border-blue-500 bg-blue-50 text-blue-700' \n                                      : 'border-gray-200 bg-white text-gray-700 hover:border-gray-300'\n                                  }`}\n                                  title=\"Italique\"\n                                >\n                                  <Italic size={16} />\n                                  Italique\n                                </button>\n                                <button\n                                  onClick={() => {\n                                    const newColumns = [...tableColumns];\n                                    newColumns[index] = { \n                                      ...column, \n                                      textDecoration: column.textDecoration === 'underline' ? 'none' : 'underline' \n                                    };\n                                    updateElement(editingTableId, { columns: newColumns });\n                                  }}\n                                  className={`flex-1 py-2 px-3 rounded-lg border-2 text-sm font-medium transition-all flex items-center justify-center gap-2 ${\n                                    column.textDecoration === 'underline' \n                                      ? 'border-blue-500 bg-blue-50 text-blue-700' \n                                      : 'border-gray-200 bg-white text-gray-700 hover:border-gray-300'\n                                  }`}\n                                  title=\"Souligné\"\n                                >\n                                  <Underline size={16} />\n                                  Souligné\n                                </button>\n                              </div>\n                            </div>\n                          </div>\n                          \n                          <div className=\"flex flex-col gap-1 pt-6\">\n                            <button\n                              onClick={() => {\n                                if (index === 0) return;\n                                const newColumns = [...tableColumns];\n                                [newColumns[index - 1], newColumns[index]] = [newColumns[index], newColumns[index - 1]];\n                                updateElement(editingTableId, { columns: newColumns });\n                              }}\n                              disabled={index === 0}\n                              className=\"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors\"\n                              title=\"Déplacer vers le haut\"\n                            >\n                              <ChevronUp size={18} />\n                            </button>\n                            <button\n                              onClick={() => {\n                                if (index === tableColumns.length - 1) return;\n                                const newColumns = [...tableColumns];\n                                [newColumns[index], newColumns[index + 1]] = [newColumns[index + 1], newColumns[index]];\n                                updateElement(editingTableId, { columns: newColumns });\n                              }}\n                              disabled={index === tableColumns.length - 1}\n                              className=\"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors\"\n                              title=\"Déplacer vers le bas\"\n                            >\n                              <ChevronDown size={18} />\n                            </button>\n                            <button\n                              onClick={() => {\n                                const newColumns = tableColumns.filter((_, i) => i !== index);\n                                updateElement(editingTableId, { columns: newColumns });\n                              }}\n                              disabled={tableColumns.length <= 1}\n                              className=\"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors\"\n                              title=\"Supprimer la colonne\"\n                            >\n                              <Trash2 size={18} />\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    ))\n                  )}\n                </div>\n              </div>\n\n              {/* Footer */}\n              <div className=\"px-6 py-4 border-t border-gray-200 flex items-center justify-between bg-gray-50\">\n                <button\n                  onClick={() => {\n                  const newColumns: TableColumn[] = [\n                    ...tableColumns,\n                    { \n                      id: uuidv4(), \n                      label: `Colonne ${tableColumns.length + 1}`,\n                      value: '',\n                      align: 'left' as const,\n                      fontWeight: 'normal' as const,\n                      fontStyle: 'normal' as const,\n                      textDecoration: 'none' as const\n                    }\n                  ];\n                  updateElement(editingTableId, { columns: newColumns });\n                  }}\n                  className=\"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors\"\n                >\n                  <Plus size={18} />\n                  Ajouter une colonne\n                </button>\n                \n                <button\n                  onClick={() => {\n                    setShowTableDialog(false);\n                    setEditingTableId(null);\n                  }}\n                  className=\"px-6 py-2 bg-gray-800 text-white hover:bg-gray-900 rounded-lg text-sm font-medium transition-colors\"\n                >\n                  Terminé\n                </button>\n              </div>\n            </div>\n          </div>\n        );\n      })()}\n    </DndContext>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;;;AAzBA;;;;;;;;AA6DA,oBAAoB;AACpB,MAAM,eAAe,KAAK,0BAA0B;AACpD,MAAM,gBAAgB,MAAM,kBAAkB;AAY9C,SAAS,cAAc,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE,EAAsB;IACvE,MAAM,aAAa,CAAC;QAClB,MAAM,SAAS,OAAO;QACtB,qEAAqE;QACrE,IAAI,OAAO;QACX,IAAI,SAAS;QAEb,IAAI,OAAO,QAAQ,CAAC,MAAM;YACxB,OAAO;YACP,SAAS,OAAO,OAAO,CAAC,KAAK;QAC/B,OAAO,IAAI,OAAO,KAAK,CAAC,eAAe;YACrC,OAAO,OAAO,KAAK,CAAC,eAAe,CAAC,EAAE,IAAI;YAC1C,SAAS,OAAO,OAAO,CAAC,cAAc;QACxC;QAEA,MAAM,MAAM,WAAW;QACvB,OAAO;YAAE,KAAK,MAAM,OAAO,IAAI;YAAK;QAAK;IAC3C;IAEA,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,WAAW;IAEjC,MAAM,kBAAkB,CAAC;QACvB,MAAM,SAAS,EAAE,MAAM,CAAC,KAAK;QAC7B,IAAI,WAAW,IAAI;YACf,SAAS,SAAS,OAAO,IAAI,CAAC,CAAC,EAAE,MAAM;YACvC;QACJ;QACA,MAAM,SAAS,WAAW;QAC1B,MAAM,YAAY,MAAM,UAAU,IAAI;QACtC,SAAS,SAAS,OAAO,YAAY,GAAG,YAAY,MAAM;IAC5D;IAEA,MAAM,mBAAmB,CAAC;QACxB,MAAM,UAAU,EAAE,MAAM,CAAC,KAAK;QAC9B,SAAS,YAAY,OAAO,MAAM,GAAG,MAAM,SAAS;IACtD;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAM,SAAS;gBAAI,WAAU;0BAA2C;;;;;;0BACzE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,MAAK;wBACL,IAAI;wBACJ,OAAO;wBACP,UAAU;wBACV,MAAK;wBACL,WAAU;;;;;;kCAEZ,6LAAC;wBACC,IAAI,GAAG,GAAG,KAAK,CAAC;wBAChB,OAAM;wBACN,OAAO;wBACP,UAAU;wBACV,WAAU;;0CAEV,6LAAC;gCAAO,OAAM;0CAAK;;;;;;0CACnB,6LAAC;gCAAO,OAAM;0CAAI;;;;;;0CAClB,6LAAC;gCAAO,OAAM;0CAAK;;;;;;0CACnB,6LAAC;gCAAO,OAAM;0CAAM;;;;;;;;;;;;;;;;;;;;;;;;AAK9B;KAhES;AAmET,qBAAqB;AAErB,2BAA2B;AAC3B,SAAS,YAAY,EAAE,IAAI,EAAE,MAAM,IAAI,EAAE,KAAK,EAAmD;;IAC/F,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE,UAAU,EAAE,GAAG,IAAA,8KAAY,EAAC;QACzD,IAAI,CAAC,QAAQ,EAAE,MAAM;QACrB,MAAM;YAAE;YAAM,WAAW;QAAK;IAChC;IAEA,qBACE,6LAAC;QACC,KAAK;QACJ,GAAG,SAAS;QACZ,GAAG,UAAU;QACd,WAAU;;0BAEV,6LAAC;gBAAI,WAAU;0BACZ,cAAA,6LAAC;oBAAK,MAAM;;;;;;;;;;;0BAEf,6LAAC;gBAAK,WAAU;0BAA+D;;;;;;;;;;;;AAGrF;GAnBS;;QACuC,8KAAY;;;MADnD;AA8BT,SAAS,iBAAiB,EAAE,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAyB;;IACpG,MAAM,EACJ,UAAU,EACV,SAAS,EACT,YAAY,eAAe,EAC3B,SAAS,EACT,UAAU,EACX,GAAG,IAAA,8KAAY,EAAC;QACf,IAAI,QAAQ,EAAE;QACd,MAAM;YAAE,GAAG,OAAO;YAAE,WAAW;QAAM;IACvC;IAEA,4BAA4B;IAC5B,MAAM,EAAE,YAAY,eAAe,EAAE,QAAQ,eAAe,EAAE,GAAG,IAAA,8KAAY,EAAC;QAC5E,IAAI,QAAQ,EAAE;QACd,MAAM;YAAE,aAAa;YAAM;QAAQ;QACnC,UAAU,QAAQ,IAAI,KAAK;IAC7B;IAEA,MAAM,aAAa,IAAA,uKAAM,EAAqB;IAE9C,aAAa;IACb,MAAM,UAAU,IAAA,4KAAW;iDAAC,CAAC;YAC3B,gBAAgB;YAChB,IAAI,QAAQ,IAAI,KAAK,aAAa;gBAC9B,gBAAgB;YACpB;YACA,WAAW,OAAO,GAAG;QACvB;gDAAG;QAAC;QAAiB;QAAiB,QAAQ,IAAI;KAAC;IAEnD,eAAe;IACf,MAAM,YAAY,IAAA,uKAAM,EASd;IAEV,MAAM,oBAAoB,CAAC,GAAqB;QAC9C,EAAE,eAAe;QAEjB,sEAAsE;QACtE,IAAI,WAAW;QACf,IAAI,WAAW;QACf,IAAI,UAAU;QACd,IAAI,UAAU;QAEd,IAAI,WAAW,OAAO,EAAE;YACpB,WAAW,WAAW,OAAO,CAAC,WAAW;YACzC,WAAW,WAAW,OAAO,CAAC,YAAY;YAC1C,IAAI,WAAW,OAAO,CAAC,aAAa,EAAE;gBAClC,UAAU,WAAW,OAAO,CAAC,aAAa,CAAC,WAAW;gBACtD,UAAU,WAAW,OAAO,CAAC,aAAa,CAAC,YAAY;YAC3D;QACJ,OAAO;YACH,WAAW,OAAO,QAAQ,CAAC,KAAK,WAAW,QAAQ,CAAC,GAAG,WAAW,OAAO,QAAQ,CAAC,MAAM;YACxF,WAAW,OAAO,QAAQ,CAAC,KAAK,WAAW,QAAQ,CAAC,GAAG,WAAW,OAAO,QAAQ,CAAC,MAAM;QAC5F;QAEA,MAAM,UAAU,CAAC;YACb,IAAI,OAAO,QAAQ,UAAU,OAAO;YACpC,OAAO,OAAO,KAAK,OAAO,CAAC,aAAa,OAAO;QACnD;QAEA,UAAU,OAAO,GAAG;YAChB,GAAG;YACH,GAAG;YACH,QAAQ,EAAE,OAAO;YACjB,QAAQ,EAAE,OAAO;YACjB,OAAO,QAAQ,QAAQ,CAAC;YACxB,OAAO,QAAQ,QAAQ,CAAC;YACxB;YACA;QACJ;QAEA,MAAM,kBAAkB,CAAC;YACvB,IAAI,CAAC,UAAU,OAAO,EAAE;YACxB,MAAM,KAAK,UAAU,OAAO,GAAG,UAAU,OAAO,CAAC,MAAM;YACvD,MAAM,KAAK,UAAU,OAAO,GAAG,UAAU,OAAO,CAAC,MAAM;YAEvD,IAAI,UAAU,UAAU,OAAO,CAAC,CAAC;YACjC,IAAI,UAAU,UAAU,OAAO,CAAC,CAAC;YAEjC,IAAI,OAAO,QAAQ,CAAC,MAAM,WAAW;YACrC,IAAI,OAAO,QAAQ,CAAC,MAAM,WAAW;YAErC,UAAU,KAAK,GAAG,CAAC,IAAI;YACvB,UAAU,KAAK,GAAG,CAAC,IAAI;YAEvB,IAAI,SAA0B;YAC9B,IAAI,SAA0B;YAE9B,mBAAmB;YACnB,IAAI,UAAU,OAAO,CAAC,KAAK,KAAK,OAAO,UAAU,OAAO,CAAC,OAAO,GAAG,GAAG;gBAClE,SAAS,GAAG,CAAC,AAAC,UAAU,UAAU,OAAO,CAAC,OAAO,GAAI,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;YAC3E;YAEA,IAAI,UAAU,OAAO,CAAC,KAAK,KAAK,OAAO,UAAU,OAAO,CAAC,OAAO,GAAG,GAAG;gBAClE,SAAS,GAAG,CAAC,AAAC,UAAU,UAAU,OAAO,CAAC,OAAO,GAAI,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;YAC3E;YAEA,SAAS,QAAQ,EAAE,EAAE,QAAQ;QAC/B;QAEA,MAAM,gBAAgB;YACpB,UAAU,OAAO,GAAG;YACpB,SAAS,mBAAmB,CAAC,aAAa;YAC1C,SAAS,mBAAmB,CAAC,WAAW;QAC1C;QAEA,SAAS,gBAAgB,CAAC,aAAa;QACvC,SAAS,gBAAgB,CAAC,WAAW;IACvC;IAEA,SAAS;IACT,MAAM,QAA6B;QACjC,UAAU;QACV,KAAK,QAAQ,CAAC;QACd,MAAM,QAAQ,CAAC;QACf,OAAO,QAAQ,CAAC;QAChB,QAAQ,QAAQ,CAAC;QACjB,WAAW,YAAY,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG;QAC9E,QAAQ,aAAa,KAAM,QAAQ,IAAI,KAAK,cAAc,KAAK;QAC/D,SAAS,aAAa,MAAM;QAC5B,GAAG,QAAQ,KAAK;IAClB;IAEA,8CAA8C;IAC9C,MAAM,oBAAoB,mBAAmB,QAAQ,IAAI,KAAK,eAAe,CAAC;IAC9E,MAAM,iBAAsC;QAC1C,GAAG,KAAK;QACR,iBAAiB,oBAAoB,4BAA4B,MAAM,eAAe;QACtF,aAAa,oBAAoB,YAAa,aAAa,YAAa,MAAM,WAAW,IAAI;QAC7F,aAAa,qBAAqB,aAAa,QAAS,MAAM,WAAW,IAAI,CAAC,QAAQ,IAAI,KAAK,cAAc,QAAQ,GAAG;QACxH,aAAa,QAAQ,IAAI,KAAK,cAAc,WAAW;IACzD;IAEA,MAAM,gBAAgB;QACpB,OAAQ,QAAQ,IAAI;YAClB,KAAK;gBACH,qBAAO,6LAAC;oBAAI,WAAU;oBAA8C,OAAO;wBACzE,OAAO,QAAQ,KAAK,EAAE;wBACtB,YAAY,QAAQ,KAAK,EAAE;wBAC3B,WAAW,QAAQ,KAAK,EAAE;wBAC1B,gBAAgB,QAAQ,KAAK,EAAE;oBACjC;8BAAI,QAAQ,OAAO;;;;;;YACrB,KAAK;gBACH,qBACE,6LAAC;oBACC,WAAU;oBACV,OAAO;wBAAE,cAAc,QAAQ,KAAK,EAAE,gBAAgB;oBAAM;8BAE3D,QAAQ,OAAO,GACd,sDAAsD,iBACtD,6LAAC;wBAAI,KAAK,QAAQ,OAAO;wBAAE,KAAI;wBAAU,WAAU;;;;;6CAEnD,6LAAC;wBAAI,WAAU;;0CAA2C,6LAAC,gNAAS;gCAAC,MAAM;;;;;;0CAAM,6LAAC;gCAAK,WAAU;0CAAc;;;;;;;;;;;;;;;;;YAIvH,KAAK;YACL,KAAK;gBACH,qBACG,6LAAC;oBAAI,WAAU;;wBACX,QAAQ,IAAI,KAAK,6BAAe,6LAAC;4BAAI,WAAU;sCAA6B,cAAA,6LAAC;gCAAK,WAAU;0CAAqD;;;;;;;;;;;wBAClJ;;;;;;;YAGR,KAAK;gBACF,qBAAO,6LAAC;oBAAI,WAAU;8BAAkC,cAAA,6LAAC;wBAAI,WAAU;wBAAS,OAAO;4BAAE,QAAQ,QAAQ,KAAK,EAAE,UAAU;4BAAO,iBAAiB,QAAQ,KAAK,EAAE,mBAAmB;wBAAQ;;;;;;;;;;;YAC/L,KAAK;gBACH,MAAM,UAAU,QAAQ,OAAO,IAAI;oBAAC;wBAAE,IAAI;wBAAK,OAAO;oBAAY;oBAAG;wBAAE,IAAI;wBAAK,OAAO;oBAAY;iBAAE;gBACrG,qBACG,6LAAC;oBAAI,WAAU;;sCACZ,6LAAC;4BAAI,WAAU;sCAAoD;;;;;;sCACnE,6LAAC;4BAAI,WAAU;;8CACZ,6LAAC;oCAAI,WAAU;8CACZ,QAAQ,GAAG,CAAC,CAAC,KAAK,oBACjB,6LAAC;4CAAiB,WAAU;4CAAc,OAAO;gDAC/C,UAAU,IAAI,KAAK,IAAI;gDACvB,WAAW,IAAI,KAAK,IAAI;gDACxB,YAAY,IAAI,UAAU,IAAI;gDAC9B,WAAW,IAAI,SAAS,IAAI;gDAC5B,gBAAgB,IAAI,cAAc,IAAI;4CACxC;sDACG,IAAI,KAAK;2CAPF,IAAI,EAAE;;;;;;;;;;8CAWpB,6LAAC;oCAAI,WAAU;8CACZ,QAAQ,GAAG,CAAC,CAAC,oBACZ,6LAAC;4CAAiB,WAAU;4CAAuB,OAAO;gDACxD,UAAU,IAAI,KAAK,IAAI;gDACvB,WAAW,IAAI,KAAK,IAAI;gDACxB,YAAY,IAAI,UAAU,IAAI;gDAC9B,WAAW,IAAI,SAAS,IAAI;gDAC5B,gBAAgB,IAAI,cAAc,IAAI;4CACxC;sDACG,IAAI,KAAK,IAAI;2CAPN,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;YAc/B;gBAAS,OAAO;QAClB;IACF;IAEA,qBACE,6LAAC;QACC,KAAK;QACL,OAAO;QACN,GAAG,SAAS;QACZ,GAAG,UAAU;QACd,SAAS,CAAC;YAAQ,EAAE,eAAe;YAAI,SAAS,QAAQ,EAAE;QAAG;QAC7D,WAAW,CAAC,iBAAiB,CAAC;;YAE7B;YAEC,cAAc,CAAC,4BACf;;kCACE,6LAAC;wBAAI,WAAU;;4BAAiH;4BAC1H,KAAK,KAAK,CAAC,QAAQ,CAAC;4BAAE;4BAAI,KAAK,KAAK,CAAC,QAAQ,CAAC;;;;;;;kCAEpD,6LAAC;wBAAI,WAAU;wBAA0G,aAAa,CAAC,IAAM,kBAAkB,GAAG;;;;;;kCAClK,6LAAC;wBAAI,WAAU;wBAAwG,aAAa,CAAC,IAAM,kBAAkB,GAAG;;;;;;kCAChK,6LAAC;wBAAI,WAAU;wBAA0G,aAAa,CAAC,IAAM,kBAAkB,GAAG;;;;;;;;;;;;;;AAK5K;IA5OS;;QAOH,8KAAY;QAMiD,8KAAY;;;MAbtE;AAgPM,SAAS,cAAc,EAAE,QAAQ,EAAqB;;IACnE,QAAQ;IACR,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAkB,EAAE;IAC5D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAiB;QAAE,SAAS;QAAI,cAAc;QAAG,cAAc;IAAE;IACrH,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAgB;IAC5D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAM,OAAO,kBAAkB;IAEnF,WAAW;IACX,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC,SAAS,IAAI;IAC9D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAS,SAAS,UAAU,IAAI;IAC5E,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAmB;IAC3D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IACvD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAgB;IAEpE,MAAM,eAAe,CAAC;QACpB,IAAI,CAAC,YAAY;QACjB,MAAM,KAAK,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;QACvC,IAAI,CAAC,IAAI;QAET,MAAM,cAAc;QACpB,MAAM,UAAU,eAAe,OAAO;QACtC,IAAI,OAAO,GAAG,CAAC;QACf,MAAM,UAAU,OAAO,GAAG,CAAC,KAAK,WAAW,GAAG,CAAC,GAAG,KAAK,8CAA8C;QAErG,OAAQ;YACJ,KAAK;gBACD,OAAO;gBACP;YACJ,KAAK;gBACD,OAAO,CAAC,cAAc,OAAO,IAAI;gBACjC;YACJ,KAAK;gBACD,OAAO,cAAc,UAAU;gBAC/B;QACR;QAEA,cAAc,YAAY;YAAE,GAAG;QAAK;IACtC;IAEA,MAAM,cAAc,CAAC;QACnB,IAAI,CAAC,YAAY;QACjB,MAAM,KAAK,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;QACvC,IAAI,MAAM,GAAG,IAAI,KAAK,QAAQ;YAC5B,MAAM,aAAa,CAAC,GAAG,OAAO,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,SAAS,EAAE,CAAC;YAC1D,cAAc,YAAY;gBAAE,SAAS;YAAW;QAClD;IACF;IAEA,MAAM,oBAAoB,CAAC;QACzB,IAAI,CAAC,YAAY;QACjB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,MAAM;YACR,MAAM,SAAS,IAAI;YACnB,OAAO,SAAS,GAAG;gBACjB,cAAc,YAAY;oBAAE,SAAS,OAAO,MAAM;gBAAW;YAC/D;YACA,OAAO,aAAa,CAAC;QACvB;IACF;IAEA,UAAU;IACV,MAAM,UAAU,IAAA,4KAAU,EACxB,IAAA,2KAAS,EAAC,6KAAW,EAAE;QAAE,sBAAsB;YAAE,UAAU;QAAE;IAAE,IAC/D,IAAA,2KAAS,EAAC,6KAAW;IAGvB,OAAO;IACP,IAAA,0KAAS;mCAAC;YACR,aAAa;YACb,IAAI;gBACF,MAAM,SAAS,KAAK,KAAK,CAAC,SAAS,OAAO;gBAC1C,IAAI,OAAO,QAAQ,EAAE;oBACnB,YAAY,OAAO,QAAQ;oBAC3B,kBAAkB,OAAO,cAAc,IAAI;wBAAE,SAAS;wBAAI,cAAc;wBAAG,cAAc;oBAAE;gBAC7F,OAAO,IAAI,MAAM,OAAO,CAAC,SAAS;oBAChC,YAAY;gBACd;YACF,EAAE,OAAM;gBACN,YAAY,EAAE;YAChB;QACF;kCAAG;QAAC,SAAS,OAAO;KAAC;IAErB,mBAAmB;IACnB,MAAM,EAAE,YAAY,YAAY,EAAE,QAAQ,YAAY,EAAE,GAAG,IAAA,8KAAY,EAAC;QACtE,IAAI;QACJ,MAAM;YAAE,QAAQ;QAAK;IACvB;IAEA,kBAAkB;IAClB,MAAM,iBAAiB,CAAC;QACtB,8DAA8D;QAC9D,mDAAmD;QACnD,OAAO,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IACrC;IAEA,mBAAmB;IAEnB,MAAM,kBAAkB,CAAC;QACvB,MAAM,EAAE,MAAM,EAAE,GAAG;QACnB,kBAAkB,OAAO,IAAI,CAAC,OAAO;IACvC;IAEA,MAAM,gBAAgB,CAAC;QACrB,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG;QACzB,kBAAkB;QAElB,MAAM,WAAW,OAAO,EAAE;QAC1B,MAAM,gBAAgB,OAAO,IAAI,CAAC,OAAO,EAAE;QAE3C,2CAA2C;QAC3C,+DAA+D;QAC/D,IAAI,eAAe;YAChB,MAAM,OAAO,OAAO,IAAI,CAAC,OAAO,EAAE;YAClC,IAAI,CAAC,MAAM;YAEX,IAAI,cAA6B;YACjC,IAAI,OAAO,IAAI,yCAAyC;YACxD,IAAI,OAAO;YAEX,gEAAgE;YAChE,IAAI,MAAM;gBACN,MAAM,cAAc,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,KAAK,EAAE;gBAEvD,kBAAkB;gBAClB,IAAI,eAAe,YAAY,IAAI,KAAK,aAAa;oBACjD,cAAc,YAAY,EAAE;gBAChC;gBAEA,kCAAkC;gBAClC,MAAM,aAAa,OAAO,IAAI,CAAC,OAAO,EAAE;gBACxC,MAAM,WAAW,KAAK,IAAI;gBAE/B,IAAI,cAAc,UAAU;oBACzB,OAAO,WAAW,IAAI,GAAG,SAAS,IAAI;oBACtC,OAAO,WAAW,GAAG,GAAG,SAAS,GAAG;oBAE9B,0DAA0D;oBAC1D,IAAI,gBAAgB,MAAM;wBACvB,QAAQ,eAAe,OAAO;wBAC9B,QAAS,eAAe,OAAO,GAAG,eAAe,YAAY;oBAChE;gBACJ;YACJ,OAAO;gBACH,wEAAwE;gBACxE,mDAAmD;gBACnD,QAAQ,GAAG,CAAC;YACjB;YAEC,gDAAgD;YAChD,gHAAgH;YAChH,+BAA+B;YAC/B,OAAO,KAAK,GAAG,CAAC,GAAG;YACnB,OAAO,KAAK,GAAG,CAAC,GAAG;YAEpB,MAAM,aAA4B;gBAChC,IAAI,IAAA,4KAAM;gBACV;gBACA,GAAG;gBACH,GAAG;gBACD,GAAG,SAAS,cAAc,MAAO,SAAS,UAAU,MAAM;gBAC1D,GAAG,SAAS,cAAc,MAAO,SAAS,SAAS,IAAI;gBACzD,UAAU;gBACR,SAAS,SAAS,SAAS,UAAU;gBACrC,OAAO;oBACL,iBAAiB,SAAS,QAAQ,YAAY;oBAC9C,aAAa;oBACb,UAAU;gBACZ;gBACA,SAAS,SAAS,UAAU;oBAC1B;wBAAE,IAAI,IAAA,4KAAM;wBAAI,OAAO;wBAAa,OAAO;wBAAI,OAAO;wBAAQ,YAAY;wBAAU,WAAW;wBAAU,gBAAgB;oBAAO;oBAChI;wBAAE,IAAI,IAAA,4KAAM;wBAAI,OAAO;wBAAa,OAAO;wBAAI,OAAO;wBAAQ,YAAY;wBAAU,WAAW;wBAAU,gBAAgB;oBAAO;iBACjI,GAAG;YACP;YAEA,YAAY,CAAA,OAAQ;uBAAI;oBAAM;iBAAW;YAC1C,cAAc,WAAW,EAAE;YAC1B;QACH;QAEA,oDAAoD;QACpD,IAAI,CAAC,MAAM;QAEX,qEAAqE;QACrE,IAAI,OAAO,EAAE,KAAK,KAAK,EAAE,EAAE;QAE3B,oCAAoC;QACpC,IAAI,cAA6B;QAEjC,sDAAsD;QACtD,IAAI,KAAK,EAAE,KAAK,eAAe;YAC5B,MAAM,cAAc,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,KAAK,EAAE;YACvD,IAAI,eAAe,YAAY,IAAI,KAAK,aAAa;gBAClD,+DAA+D;gBAC/D,IAAI,YAAY,EAAE,KAAK,UAAU;oBAC7B,cAAc,YAAY,EAAE;gBAChC;YACH;QACH;QAEA,MAAM,aAAa,OAAO,IAAI,CAAC,OAAO,EAAE;QACxC,MAAM,WAAW,KAAK,IAAI;QAE1B,IAAI,CAAC,cAAc,CAAC,UAAU;QAE9B,IAAI,OAAO,WAAW,IAAI,GAAG,SAAS,IAAI;QAC1C,IAAI,OAAO,WAAW,GAAG,GAAG,SAAS,GAAG;QAExC,0DAA0D;QAC1D,IAAI,gBAAgB,MAAM;YACtB,QAAQ,eAAe,OAAO;YAC9B,QAAS,eAAe,OAAO,GAAG,eAAe,YAAY;QACjE;QAEA,OAAO,KAAK,GAAG,CAAC,GAAG;QACnB,OAAO,KAAK,GAAG,CAAC,GAAG;QAEnB,YAAY,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA;gBACzB,IAAI,GAAG,EAAE,KAAK,UAAU;oBACtB,wGAAwG;oBACxG,MAAM,SAAS,AAAC,GAAG,CAAC,KAAK,SAAU,IAAI;oBAEvC,OAAO;wBACL,GAAG,EAAE;wBACL,GAAG;wBACH,GAAG;wBACH,UAAU;oBACZ;gBACF;gBACA,OAAO;YACV;IACH;IAEA,+BAA+B;IAC/B,MAAM,gBAAgB,CAAC,IAAY;QACjC,YAAY,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,KAAM,GAAG,EAAE,KAAK,KAAK;oBAAE,GAAG,EAAE;oBAAE,GAAG,OAAO;gBAAC,IAAI;IAC5E;IAEA,MAAM,gBAAgB,CAAC;QACrB,uBAAuB;QACvB,YAAY,CAAA;YACV,MAAM,WAAW,IAAI,IAAY;gBAAC;aAAG;YACrC,IAAI,QAAQ;YACZ,MAAM,MAAO;gBACX,QAAQ;gBACR,KAAK,OAAO,CAAC,CAAA;oBACX,IAAI,GAAG,QAAQ,IAAI,SAAS,GAAG,CAAC,GAAG,QAAQ,KAAK,CAAC,SAAS,GAAG,CAAC,GAAG,EAAE,GAAG;wBACpE,SAAS,GAAG,CAAC,GAAG,EAAE;wBAClB,QAAQ;oBACV;gBACF;YACF;YACA,OAAO,KAAK,MAAM,CAAC,CAAA,KAAM,CAAC,SAAS,GAAG,CAAC,GAAG,EAAE;QAC9C;QACA,cAAc;IAChB;IAEA,oBAAoB;IAEpB,qBAAqB;IACrB,MAAM,iBAAiB,CAAC;QACrB,OAAO,SACJ,MAAM,CAAC,CAAA,KAAM,GAAG,QAAQ,KAAK,UAC7B,GAAG,CAAC,CAAA,mBACH,6LAAC;gBAEC,SAAS;gBACT,YAAY,eAAe,GAAG,EAAE;gBAChC,UAAU;gBACV,UAAU,CAAC,IAAI,GAAG,IAAM,cAAc,IAAI;wBAAE;wBAAG;oBAAE;0BAG/C,eAAe,GAAG,EAAE;eAPjB,GAAG,EAAE;;;;;IAUnB;IAEA,IAAI,CAAC,WAAW,OAAO;IAEvB,MAAM,kBAAkB,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IAEpD,qBACE,6LAAC,4KAAU;QACT,SAAS;QACT,aAAa;QACb,WAAW;;0BAEV,6LAAC;gBAAI,WAAU;;kCAEZ,6LAAC;wBAAI,WAAU;;0CACd,6LAAC;gCAAI,WAAU;;kDACV,6LAAC,0KAAI;wCAAC,MAAK;wCAAa,WAAU;kDAAuE,cAAA,6LAAC,gOAAS;4CAAC,MAAM;;;;;;;;;;;kDAC7H,6LAAC;kDACC,cAAA,6LAAC;4CAAG,WAAU;sDAA2B;;;;;;;;;;;;;;;;;0CAG3C,6LAAC;gCAAI,WAAU;;kDACZ,6LAAC;wCAAO,SAAS,IAAM,eAAe;wCAAO,WAAU;;0DAAgG,6LAAC,0MAAG;gDAAC,MAAM;;;;;;4CAAK;;;;;;;kDAC5K,6LAAC;wCACM,SAAS;4CACP,UAAU;4CACV,MAAM,MAAM,CAAC,eAAe,EAAE,SAAS,EAAE,EAAE,EAAE;gDAC1C,QAAQ;gDACR,MAAM,KAAK,SAAS,CAAC;oDACnB,SAAS,KAAK,SAAS,CAAC;wDAAE;wDAAU;oDAAe;oDACnD,MAAM;oDACN,YAAY;gDACd;4CACH;4CACA,UAAU;wCACZ;wCACL,UAAU;wCACL,WAAU;;0DAET,6LAAC,6MAAI;gDAAC,MAAM;;;;;;4CAAK;4CAAE,SAAS,QAAQ;;;;;;;;;;;;;;;;;;;kCAK/C,6LAAC;wBAAI,WAAU;;0CAEV,6LAAC;gCAAI,WAAU;;kDACZ,6LAAC;wCAAG,WAAU;kDAAiD;;;;;;kDACnE,6LAAC;wCAAI,WAAU;;0DACf,6LAAC;gDAAY,MAAK;gDAAO,MAAM,6MAAI;gDAAE,OAAM;;;;;;0DAC3C,6LAAC;gDAAY,MAAK;gDAAQ,MAAM,gNAAS;gDAAE,OAAM;;;;;;0DAC1C,6LAAC;gDAAY,MAAK;gDAAY,MAAM,gNAAK;gDAAE,OAAM;;;;;;0DACtD,6LAAC;gDAAY,MAAK;gDAAM,MAAM,0MAAG;gDAAE,OAAM;;;;;;0DAC3C,6LAAC;gDAAY,MAAK;gDAAO,MAAM,gNAAK;gDAAE,OAAM;;;;;;0DAC1C,6LAAC;gDAAY,MAAK;gDAAQ,MAAM,gNAAS;gDAAE,OAAM;;;;;;;;;;;;kDAE/C,6LAAC;wCAAI,WAAU;kDAA2E;;;;;;;;;;;;0CAM7F,6LAAC;gCAAI,WAAU;0CACZ,cAAA,6LAAC;oCAAI,WAAU;8CAClB,cAAA,6LAAC;wCACC,KAAK;wCACC,WAAW,CAAC,wDAAwD,EAAE,eAAe,yBAAyB,IAAI;wCACxH,OAAO;4CACE,OAAO,GAAG,aAAa,EAAE,CAAC;4CAC1B,QAAQ,GAAG,cAAc,EAAE,CAAC;4CAC5B,UAAU,GAAG,aAAa,EAAE,CAAC;4CAC7B,WAAW,GAAG,cAAc,EAAE,CAAC;wCAClC;wCACA,SAAS,IAAM,cAAc;;0DAG5B,6LAAC;gDAAI,WAAU;gDACpB,OAAO;oDACL,KAAK,eAAe,OAAO,GAAG,eAAe,YAAY;oDACzD,QAAQ,eAAe,OAAO,GAAG,eAAe,YAAY;oDAC5D,MAAM,eAAe,OAAO;oDAC5B,OAAO,eAAe,OAAO;gDAC/B;;;;;;0DAIK,6LAAC;gDAAI,OAAO;oDACR,UAAU;oDACV,KAAK,eAAe,OAAO,GAAG,eAAe,YAAY;oDACzD,MAAM,eAAe,OAAO;oDAC5B,OAAO,eAAe,OAAO;oDAC7B,QAAQ,eAAe,OAAO,GAAG,eAAe,YAAY;gDAChE;0DACK,eAAe;;;;;;4CAGnB,SAAS,MAAM,KAAK,mBAClB,6LAAC;gDAAI,WAAU;0DACZ,cAAA,6LAAC;oDAAI,WAAU;;sEACZ,6LAAC,0MAAG;4DAAC,MAAM;4DAAI,WAAU;;;;;;sEACzB,6LAAC;4DAAE,WAAU;sEAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAS3D,6LAAC;gCAAI,WAAU;0CACf,gCACC,6LAAC;oCAAI,WAAU;;sDAEb,6LAAC;4CACC,SAAS,IAAM,cAAc,gBAAgB,EAAE;4CAC/C,WAAU;4CACV,OAAM;sDAEN,cAAA,6LAAC,uNAAM;gDAAC,MAAM;;;;;;;;;;;sDAGhB,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAM,WAAU;8DAAyD;;;;;;8DAC1E,6LAAC;oDAAI,WAAU;;sEACZ,6LAAC;4DAAI,WAAU;;;;;;wDACd,gBAAgB,IAAI,KAAK,QAAQ,UAAU,gBAAgB,IAAI,KAAK,UAAU,YAAY,gBAAgB,IAAI;;;;;;;;;;;;;sDAKpH,6LAAC;4CAAI,WAAU;;8DACZ,6LAAC;oDAAM,WAAU;8DAAyD;;;;;;8DAC1E,6LAAC;oDAAI,WAAU;;sEACZ,6LAAC;4DACC,SAAS,IAAM,aAAa;4DAC5B,OAAM;4DACN,WAAU;sEAEV,cAAA,6LAAC,+OAAc;gEAAC,MAAM;gEAAI,WAAU;;;;;;;;;;;sEAEtC,6LAAC;4DACC,SAAS,IAAM,aAAa;4DAC5B,OAAM;4DACN,WAAU;sEAEV,cAAA,6LAAC,+OAAc;gEAAC,MAAM;;;;;;;;;;;sEAExB,6LAAC;4DACC,SAAS,IAAM,aAAa;4DAC5B,OAAM;4DACN,WAAU;sEAEV,cAAA,6LAAC,+OAAc;gEAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;sDAM9B,6LAAC;4CAAI,WAAU;;8DACZ,6LAAC;oDACC,IAAG;oDACH,OAAM;oDACN,OAAO,gBAAgB,CAAC;oDACxB,UAAU,CAAC,MAAQ,cAAc,gBAAgB,EAAE,EAAE;4DAAE,GAAG;wDAAc;;;;;;8DAE1E,6LAAC;oDACC,IAAG;oDACH,OAAM;oDACN,OAAO,gBAAgB,CAAC;oDACxB,UAAU,CAAC,MAAQ,cAAc,gBAAgB,EAAE,EAAE;4DAAE,GAAG;wDAAc;;;;;;8DAE1E,6LAAC;oDACC,IAAG;oDACH,OAAM;oDACN,OAAO,gBAAgB,CAAC;oDACxB,UAAU,CAAC;wDACR,MAAM,UAAkC;4DAAE,GAAG;wDAAI;wDACjD,yEAAyE;wDACzE,IAAI,QAAQ,QAAQ;4DACjB,QAAQ,CAAC,GAAG;wDACf;wDACA,cAAc,gBAAgB,EAAE,EAAE;oDACrC;;;;;;8DAEF,6LAAC;oDACC,IAAG;oDACH,OAAM;oDACN,OAAO,gBAAgB,CAAC;oDACxB,UAAU,CAAC,MAAQ,cAAc,gBAAgB,EAAE,EAAE;4DAAE,GAAG;wDAAI;;;;;;;;;;;;sDAKnE,6LAAC;4CAAI,WAAU;;8DACZ,6LAAC;oDAAG,WAAU;;sEACZ,6LAAC,sNAAO;4DAAC,MAAM;;;;;;wDAAM;;;;;;;gDAItB,gBAAgB,IAAI,KAAK,wBACxB,6LAAC;;sEACE,6LAAC;4DAAM,SAAQ;4DAAa,WAAU;sEAA+C;;;;;;sEACrF,6LAAC;4DAAI,WAAU;;8EACZ,6LAAC;oEACC,IAAG;oEACH,MAAK;oEACL,OAAO,gBAAgB,KAAK,EAAE,SAAS;oEACvC,UAAU,CAAC,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAAE,OAAO;gFAAE,GAAG,gBAAgB,KAAK;gFAAE,OAAO,EAAE,MAAM,CAAC,KAAK;4EAAC;wEAAE;oEAChH,WAAU;;;;;;8EAEZ,6LAAC;oEAAK,WAAU;8EAAyB,gBAAgB,KAAK,EAAE,SAAS;;;;;;;;;;;;;;;;;;gDAMhF,CAAC,gBAAgB,IAAI,KAAK,SAAS,gBAAgB,IAAI,KAAK,UAAU,gBAAgB,IAAI,KAAK,WAAW,gBAAgB,IAAI,KAAK,WAAW,mBAC7I,6LAAC;;sEACE,6LAAC;4DAAM,SAAQ;4DAAW,WAAU;sEAChC,gBAAgB,IAAI,KAAK,SAAS,wBAAwB;;;;;;sEAE9D,6LAAC;4DAAI,WAAU;sEACZ,cAAA,6LAAC;gEACC,IAAG;gEACH,MAAK;gEACL,OAAO,gBAAgB,KAAK,EAAE,mBAAmB,CAAC,gBAAgB,IAAI,KAAK,SAAS,YAAY,SAAS;gEACzG,UAAU,CAAC,IAAM,cAAc,gBAAgB,EAAE,EAAE;wEAAE,OAAO;4EAAE,GAAG,gBAAgB,KAAK;4EAAE,iBAAiB,EAAE,MAAM,CAAC,KAAK;wEAAC;oEAAE;gEAC1H,WAAU;;;;;;;;;;;;;;;;;gDAOnB,CAAC,gBAAgB,IAAI,KAAK,SAAS,gBAAgB,IAAI,KAAK,WAAW,mBACtE;;sEACE,6LAAC;;8EACE,6LAAC;oEAAM,SAAQ;oEAAe,WAAU;8EAA+C;;;;;;8EACvF,6LAAC;oEACE,IAAG;oEACH,MAAK;oEACL,OAAO,gBAAgB,KAAK,EAAE,eAAe;oEAC7C,UAAU,CAAC,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAAE,OAAO;gFAAE,GAAG,gBAAgB,KAAK;gFAAE,aAAa,EAAE,MAAM,CAAC,KAAK;4EAAC;wEAAE;oEACtH,WAAU;;;;;;;;;;;;sEAGhB,6LAAC;;8EACE,6LAAC;oEAAM,SAAQ;oEAAe,WAAU;8EAA+C;;;;;;8EACvF,6LAAC;oEACE,IAAG;oEACH,MAAK;oEACL,OAAO,SAAS,gBAAgB,KAAK,EAAE,gBAA0B;oEACjE,UAAU,CAAC,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAAE,OAAO;gFAAE,GAAG,gBAAgB,KAAK;gFAAE,aAAa,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC;4EAAC;wEAAE;oEAC7H,WAAU;;;;;;;;;;;;sEAGhB,6LAAC;;8EACE,6LAAC;oEAAM,SAAQ;oEAAe,WAAU;8EAA+C;;;;;;8EACvF,6LAAC;oEACE,IAAG;oEACH,OAAO,gBAAgB,KAAK,EAAE,eAAe;oEAC7C,UAAU,CAAC,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAAE,OAAO;gFAAE,GAAG,gBAAgB,KAAK;gFAAE,aAAa,EAAE,MAAM,CAAC,KAAK;4EAAC;wEAAE;oEACtH,WAAU;;sFAEV,6LAAC;4EAAO,OAAM;sFAAQ;;;;;;sFACtB,6LAAC;4EAAO,OAAM;sFAAS;;;;;;sFACvB,6LAAC;4EAAO,OAAM;sFAAS;;;;;;sFACvB,6LAAC;4EAAO,OAAM;sFAAS;;;;;;sFACvB,6LAAC;4EAAO,OAAM;sFAAO;;;;;;;;;;;;;;;;;;sEAG3B,6LAAC;;8EACE,6LAAC;oEAAM,SAAQ;oEAAgB,WAAU;8EAA+C;;;;;;8EACxF,6LAAC;oEACE,IAAG;oEACH,MAAK;oEACL,OAAO,SAAS,gBAAgB,KAAK,EAAE,iBAA2B;oEAClE,UAAU,CAAC,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAAE,OAAO;gFAAE,GAAG,gBAAgB,KAAK;gFAAE,cAAc,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC;4EAAC;wEAAE;oEAC9H,WAAU;;;;;;;;;;;;;;;;;;;;wCAQtB,gBAAgB,IAAI,KAAK,wBACxB,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAG,WAAU;;sEACb,6LAAC,6MAAI;4DAAC,MAAM;;;;;;wDAAM;;;;;;;8DAGnB,6LAAC;oDAAI,WAAU;;sEACZ,6LAAC;4DAAM,WAAU;sEAA0C;;;;;;sEAC3D,6LAAC;4DAAI,WAAU;;8EACZ,6LAAC;oEACC,SAAS,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAAE,OAAO;gFAAE,GAAG,gBAAgB,KAAK;gFAAE,WAAW;4EAAO;wEAAE;oEAC1G,WAAW,CAAC,wCAAwC,EAAE,AAAC,CAAC,gBAAgB,KAAK,EAAE,aAAa,gBAAgB,KAAK,EAAE,cAAc,SAAU,qCAAqC,qCAAqC;oEACrN,OAAM;8EAEN,cAAA,6LAAC,yOAAS;wEAAC,MAAM;;;;;;;;;;;8EAEnB,6LAAC;oEACC,SAAS,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAAE,OAAO;gFAAE,GAAG,gBAAgB,KAAK;gFAAE,WAAW;4EAAS;wEAAE;oEAC5G,WAAW,CAAC,wCAAwC,EAAE,gBAAgB,KAAK,EAAE,cAAc,WAAW,qCAAqC,qCAAqC;oEAChL,OAAM;8EAEN,cAAA,6LAAC,8OAAW;wEAAC,MAAM;;;;;;;;;;;8EAErB,6LAAC;oEACC,SAAS,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAAE,OAAO;gFAAE,GAAG,gBAAgB,KAAK;gFAAE,WAAW;4EAAQ;wEAAE;oEAC3G,WAAW,CAAC,wCAAwC,EAAE,gBAAgB,KAAK,EAAE,cAAc,UAAU,qCAAqC,qCAAqC;oEAC/K,OAAM;8EAEN,cAAA,6LAAC,yOAAU;wEAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;8DAK1B,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAM,SAAQ;4DAAe,WAAU;sEAA0C;;;;;;sEAClF,6LAAC;4DACC,IAAG;4DACH,OAAO,gBAAgB,OAAO;4DAC9B,UAAU,CAAC,IAAM,cAAc,gBAAgB,EAAE,EAAE;oEAAE,SAAS,EAAE,MAAM,CAAC,KAAK;gEAAC;4DAC7E,WAAU;4DACV,MAAM;;;;;;;;;;;;8DAIV,6LAAC;;sEACE,6LAAC;4DAAM,WAAU;sEAA+C;;;;;;sEAChE,6LAAC;4DAAI,WAAU;;8EACZ,6LAAC;oEAAO,SAAS,IAAM,YAAY;oEAAW,WAAU;8EAA8F;;;;;;8EACtJ,6LAAC;oEAAO,SAAS,IAAM,YAAY;oEAAS,WAAU;8EAA8F;;;;;;8EACpJ,6LAAC;oEAAO,SAAS,IAAM,YAAY;oEAAW,WAAU;8EAA8F;;;;;;;;;;;;;;;;;;8DAI5J,6LAAC;oDAAI,WAAU;;sEACZ,6LAAC;4DAAM,SAAQ;4DAAY,WAAU;sEAA0C;;;;;;sEAC/E,6LAAC;4DACC,IAAG;4DACH,MAAK;4DACL,OAAO,gBAAgB,KAAK,EAAE,YAAY;4DAC1C,UAAU,CAAC,IAAM,cAAc,gBAAgB,EAAE,EAAE;oEAAE,OAAO;wEAAE,GAAG,gBAAgB,KAAK;wEAAE,UAAU,EAAE,MAAM,CAAC,KAAK;oEAAC;gEAAE;4DACnH,WAAU;;;;;;;;;;;;8DAIf,6LAAC;oDAAI,WAAU;;sEACZ,6LAAC;4DAAM,WAAU;sEAA+C;;;;;;sEAChE,6LAAC;4DAAI,WAAU;;8EACZ,6LAAC;oEACC,SAAS,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAC/C,OAAO;gFACL,GAAG,gBAAgB,KAAK;gFACxB,YAAY,gBAAgB,KAAK,EAAE,eAAe,SAAS,WAAW;4EACxE;wEACF;oEACA,WAAW,CAAC,6DAA6D,EAAE,gBAAgB,KAAK,EAAE,eAAe,SAAS,qCAAqC,qCAAqC;oEACpM,OAAM;;sFAEN,6LAAC,6MAAI;4EAAC,MAAM;;;;;;sFACZ,6LAAC;4EAAK,WAAU;sFAAU;;;;;;;;;;;;8EAE5B,6LAAC;oEACC,SAAS,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAC/C,OAAO;gFACL,GAAG,gBAAgB,KAAK;gFACxB,WAAW,gBAAgB,KAAK,EAAE,cAAc,WAAW,WAAW;4EACxE;wEACF;oEACA,WAAW,CAAC,6DAA6D,EAAE,gBAAgB,KAAK,EAAE,cAAc,WAAW,qCAAqC,qCAAqC;oEACrM,OAAM;;sFAEN,6LAAC,mNAAM;4EAAC,MAAM;;;;;;sFACd,6LAAC;4EAAK,WAAU;sFAAU;;;;;;;;;;;;8EAE5B,6LAAC;oEACC,SAAS,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAC/C,OAAO;gFACL,GAAG,gBAAgB,KAAK;gFACxB,gBAAgB,gBAAgB,KAAK,EAAE,mBAAmB,cAAc,SAAS;4EACnF;wEACF;oEACA,WAAW,CAAC,6DAA6D,EAAE,gBAAgB,KAAK,EAAE,mBAAmB,cAAc,qCAAqC,qCAAqC;oEAC7M,OAAM;;sFAEN,6LAAC,4NAAS;4EAAC,MAAM;;;;;;sFACjB,6LAAC;4EAAK,WAAU;sFAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wCAQtC,gBAAgB,IAAI,KAAK,yBACxB,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAG,WAAU;;sEACb,6LAAC,gNAAS;4DAAC,MAAM;;;;;;wDAAM;;;;;;;8DAGxB,6LAAC;oDAAI,WAAU;;sEACZ,6LAAC;4DACC,SAAS,IAAM,YAAY;4DAC3B,WAAW,CAAC,4DAA4D,EAAE,aAAa,QAAQ,qCAAqC,qCAAqC;sEAC1K;;;;;;sEAGD,6LAAC;4DACC,SAAS,IAAM,YAAY;4DAC3B,WAAW,CAAC,4DAA4D,EAAE,aAAa,WAAW,qCAAqC,qCAAqC;sEAC7K;;;;;;;;;;;;gDAKH,aAAa,sBACZ,6LAAC;oDAAI,WAAU;;sEACZ,6LAAC;4DAAM,SAAQ;4DAAU,WAAU;sEAA0C;;;;;;sEAC7E,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEACC,IAAG;oEAEH,MAAK;oEACL,OAAO,gBAAgB,OAAO,IAAI;oEAClC,UAAU,CAAC,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAAE,SAAS,EAAE,MAAM,CAAC,KAAK;wEAAC;oEAC7E,WAAU;oEACV,aAAY;mEALR;;;;;8EAOL,6LAAC,6MAAQ;oEAAC,MAAM;oEAAI,WAAU;;;;;;;;;;;;;;;;;yEAIpC,6LAAC;oDAAI,WAAU;;sEACZ,6LAAC;4DAAM,SAAQ;4DAAW,WAAU;sEAA0C;;;;;;sEAC9E,6LAAC;4DAAI,WAAU;;8EACZ,6LAAC;oEACC,IAAG;oEAEH,MAAK;oEACL,QAAO;oEACP,UAAU;oEACV,WAAU;mEAJN;;;;;8EAMN,6LAAC,mNAAM;oEAAC,MAAM;oEAAI,WAAU;;;;;;8EAC5B,6LAAC;oEAAK,WAAU;8EAAwB;;;;;;;;;;;;sEAE3C,6LAAC;4DAAE,WAAU;sEAAiC;;;;;;;;;;;;8DAKnD,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAM,WAAU;sEAA0C;;;;;;sEAG3D,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEACC,SAAS,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAAE,OAAO;gFAAE,GAAG,gBAAgB,KAAK;gFAAE,cAAc;4EAAM;wEAAE;oEAC5G,WAAW,CAAC,oCAAoC,EAAE,AAAC,gBAAgB,KAAK,EAAE,iBAAiB,SAAS,CAAC,gBAAgB,KAAK,EAAE,eAAgB,+BAA+B,yCAAyC;oEACpN,OAAM;8EAEN,cAAA,6LAAC;wEAAI,WAAU;;;;;;;;;;;8EAEjB,6LAAC;oEACC,SAAS,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAAE,OAAO;gFAAE,GAAG,gBAAgB,KAAK;gFAAE,cAAc;4EAAM;wEAAE;oEAC5G,WAAW,CAAC,oCAAoC,EAAE,gBAAgB,KAAK,EAAE,iBAAiB,QAAQ,+BAA+B,yCAAyC;oEAC1K,OAAM;8EAEN,cAAA,6LAAC;wEAAI,WAAU;;;;;;;;;;;8EAEjB,6LAAC;oEACC,SAAS,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAAE,OAAO;gFAAE,GAAG,gBAAgB,KAAK;gFAAE,cAAc;4EAAM;wEAAE;oEAC5G,WAAW,CAAC,oCAAoC,EAAE,gBAAgB,KAAK,EAAE,iBAAiB,QAAQ,+BAA+B,yCAAyC;oEAC1K,OAAM;8EAEN,cAAA,6LAAC;wEAAI,WAAU;;;;;;;;;;;8EAEjB,6LAAC;oEACC,SAAS,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAAE,OAAO;gFAAE,GAAG,gBAAgB,KAAK;gFAAE,cAAc;4EAAO;wEAAE;oEAC7G,WAAW,CAAC,oCAAoC,EAAE,gBAAgB,KAAK,EAAE,iBAAiB,SAAS,+BAA+B,yCAAyC;oEAC3K,OAAM;8EAEN,cAAA,6LAAC;wEAAI,WAAU;;;;;;;;;;;8EAEjB,6LAAC;oEACC,SAAS,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAAE,OAAO;gFAAE,GAAG,gBAAgB,KAAK;gFAAE,cAAc;4EAAO;wEAAE;oEAC7G,WAAW,CAAC,oCAAoC,EAAE,gBAAgB,KAAK,EAAE,iBAAiB,SAAS,+BAA+B,yCAAyC;oEAC3K,OAAM;8EAEN,cAAA,6LAAC;wEAAI,WAAU;;;;;;;;;;;8EAEjB,6LAAC;oEACC,SAAS,IAAM,cAAc,gBAAgB,EAAE,EAAE;4EAAE,OAAO;gFAAE,GAAG,gBAAgB,KAAK;gFAAE,cAAc;4EAAM;wEAAE;oEAC5G,WAAW,CAAC,oCAAoC,EAAE,gBAAgB,KAAK,EAAE,iBAAiB,QAAQ,+BAA+B,yCAAyC;oEAC1K,OAAM;8EAEN,cAAA,6LAAC;wEAAI,WAAU;;;;;;;;;;;;;;;;;sEAKnB,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAM,SAAQ;oEAAoB,WAAU;8EAA0C;;;;;;8EACvF,6LAAC;oEAAI,WAAU;8EACb,cAAA,6LAAC;wEACC,IAAG;wEACH,MAAK;wEACL,OAAO,gBAAgB,KAAK,EAAE,gBAAgB;wEAC9C,UAAU,CAAC,IAAM,cAAc,gBAAgB,EAAE,EAAE;gFAAE,OAAO;oFAAE,GAAG,gBAAgB,KAAK;oFAAE,cAAc,EAAE,MAAM,CAAC,KAAK;gFAAC;4EAAE;wEACvH,WAAU;wEACV,aAAY;;;;;;;;;;;8EAGhB,6LAAC;oEAAE,WAAU;8EAA4B;;;;;;;;;;;;;;;;;;;;;;;;wCAOhD,gBAAgB,IAAI,KAAK,yBACxB,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAG,WAAU;;sEACZ,6LAAC,gNAAS;4DAAC,MAAM;;;;;;wDAAM;;;;;;;8DAGzB,6LAAC;oDACC,SAAS;wDACP,kBAAkB,gBAAgB,EAAE;wDACpC,mBAAmB;oDACrB;oDACA,WAAU;;sEAEV,6LAAC,yNAAQ;4DAAC,MAAM;;;;;;wDAAM;;;;;;;8DAIxB,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAE,WAAU;sEAAiC;;;;;;sEAC9C,6LAAC;4DAAE,WAAU;sEACV,CAAC,gBAAgB,OAAO,IAAI,EAAE,EAAE,MAAM,GAAG,IACtC,CAAC,gBAAgB,OAAO,IAAI,EAAE,EAAE,GAAG,CAAC,CAAA,IAAK,EAAE,KAAK,EAAE,IAAI,CAAC,QACvD;;;;;;;;;;;;;;;;;;;;;;;yDAQb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACZ,6LAAC;oDAAI,WAAU;8DACZ,cAAA,6LAAC,yNAAQ;wDAAC,MAAM;;;;;;;;;;;8DAEnB,6LAAC;;sEACE,6LAAC;4DAAG,WAAU;sEAA0B;;;;;;sEACxC,6LAAC;4DAAE,WAAU;sEAAwB;;;;;;;;;;;;;;;;;;sDAI3C,6LAAC;4CAAI,WAAU;;8DACZ,6LAAC;oDAAI,WAAU;;sEACZ,6LAAC;4DAAM,SAAQ;4DAAgB,WAAU;sEAA0C;;;;;;sEACnF,6LAAC;4DACE,IAAG;4DACH,MAAK;4DACL,OAAO;4DACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;4DAC/C,WAAU;4DACV,aAAY;;;;;;;;;;;;8DAIlB,6LAAC,oKAAY;oDACX,cAAc;oDACd,cAAc;;;;;;8DAGhB,6LAAC;oDAAI,WAAU;;sEACZ,6LAAC;4DAAM,SAAQ;4DAAe,WAAU;sEAA0C;;;;;;sEAClF,6LAAC;4DACE,IAAG;4DACH,MAAK;4DACL,OAAO,eAAe,OAAO;4DAC7B,UAAU,CAAC,IAAM,kBAAkB;oEAAE,GAAG,cAAc;oEAAE,SAAS,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK;gEAAE;4DAC/F,WAAU;;;;;;;;;;;;8DAIhB,6LAAC;oDAAI,WAAU;;sEACZ,6LAAC;4DAAM,SAAQ;4DAAgB,WAAU;sEAA0C;;;;;;sEACnF,6LAAC;4DACE,IAAG;4DACH,MAAK;4DACL,OAAO,eAAe,YAAY;4DAClC,UAAU,CAAC,IAAM,kBAAkB;oEAAE,GAAG,cAAc;oEAAE,cAAc,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK;gEAAE;4DACpG,WAAU;;;;;;sEAEZ,6LAAC;4DAAE,WAAU;sEAA4B;;;;;;;;;;;;8DAG7C,6LAAC;oDAAI,WAAU;;sEACZ,6LAAC;4DAAM,SAAQ;4DAAgB,WAAU;sEAA0C;;;;;;sEACnF,6LAAC;4DACE,IAAG;4DACH,MAAK;4DACL,OAAO,eAAe,YAAY;4DAClC,UAAU,CAAC,IAAM,kBAAkB;oEAAE,GAAG,cAAc;oEAAE,cAAc,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK;gEAAE;4DACpG,WAAU;;;;;;sEAEZ,6LAAC;4DAAE,WAAU;sEAA4B;;;;;;;;;;;;;;;;;;sDAIhD,6LAAC;4CAAI,WAAU;sDACZ,cAAA,6LAAC;gDAAI,WAAU;;kEACZ,6LAAC,6NAAQ;wDAAC,WAAU;wDAA2B,MAAM;;;;;;kEACrD,6LAAC;wDAAE,WAAU;kEAA0C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAYvE,6LAAC,6KAAW;gBAAC,eAAe;0BACvB,+BACE,6LAAC;oBAAI,WAAU;8BACX,eAAe,IAAI,GAAG,CAAC,QAAQ,EAAE,eAAe,IAAI,EAAE,GAAG;;;;;2BAE9D;;;;;;YAIL,6BACC,6LAAC;gBAAI,WAAU;0BACZ,cAAA,6LAAC;oBAAI,WAAU;;sCACZ,6LAAC;4BAAI,WAAU;;8CACZ,6LAAC;oCAAG,WAAU;8CAAY;;;;;;8CAC1B,6LAAC;oCAAO,SAAS,IAAM,eAAe;oCAAQ,OAAM;8CAAS,cAAA,6LAAC,oMAAC;;;;;;;;;;;;;;;;sCAElE,6LAAC;4BAAI,WAAU;sCACZ,cAAA,6LAAC;gCAAI,WAAU;0CACZ,cAAA,6LAAC,4IAAe;oCAAC,UAAU;oCAAU,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;YAQlE,mBAAmB,kBAAkB,CAAC;gBACrC,MAAM,eAAe,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;gBACjD,IAAI,CAAC,cAAc,OAAO;gBAE1B,MAAM,eAAe,aAAa,OAAO,IAAI,EAAE;gBAE/C,qBACE,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC,gNAAS;oDAAC,MAAM;;;;;;;;;;;0DAEnB,6LAAC;;kEACC,6LAAC;wDAAG,WAAU;kEAAkC;;;;;;kEAChD,6LAAC;wDAAE,WAAU;kEAAwB;;;;;;;;;;;;;;;;;;kDAGzC,6LAAC;wCACC,SAAS;4CACP,mBAAmB;4CACnB,kBAAkB;wCACpB;wCACA,WAAU;wCACV,OAAM;kDAEN,cAAA,6LAAC,oMAAC;4CAAC,MAAM;;;;;;;;;;;;;;;;;0CAKb,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAI,WAAU;8CACZ,aAAa,MAAM,KAAK,kBACvB,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,gNAAS;gDAAC,MAAM;gDAAI,WAAU;;;;;;0DAC/B,6LAAC;gDAAE,WAAU;0DAAiC;;;;;;0DAC9C,6LAAC;gDAAE,WAAU;0DAA6B;;;;;;;;;;;+CAG5C,aAAa,GAAG,CAAC,CAAC,QAAQ,sBACxB,6LAAC;4CAAoB,WAAU;sDAC7B,cAAA,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;;kFACC,6LAAC;wEAAM,SAAS,CAAC,UAAU,EAAE,OAAO,EAAE,EAAE;wEAAE,WAAU;kFAAiD;;;;;;kFAGrG,6LAAC;wEACC,IAAI,CAAC,UAAU,EAAE,OAAO,EAAE,EAAE;wEAC5B,MAAK;wEACL,OAAO,OAAO,KAAK;wEACnB,UAAU,CAAC;4EACT,MAAM,aAAa;mFAAI;6EAAa;4EACpC,UAAU,CAAC,MAAM,GAAG;gFAAE,GAAG,MAAM;gFAAE,OAAO,EAAE,MAAM,CAAC,KAAK;4EAAC;4EACvD,cAAc,gBAAgB;gFAAE,SAAS;4EAAW;wEACtD;wEACA,WAAU;wEACV,aAAY;;;;;;;;;;;;0EAIhB,6LAAC;;kFACC,6LAAC;wEAAM,SAAS,CAAC,UAAU,EAAE,OAAO,EAAE,EAAE;wEAAE,WAAU;kFAAiD;;;;;;kFAGrG,6LAAC;wEACC,IAAI,CAAC,UAAU,EAAE,OAAO,EAAE,EAAE;wEAC5B,MAAK;wEACL,OAAO,OAAO,KAAK,IAAI;wEACvB,UAAU,CAAC;4EACT,MAAM,aAAa;mFAAI;6EAAa;4EACpC,UAAU,CAAC,MAAM,GAAG;gFAAE,GAAG,MAAM;gFAAE,OAAO,EAAE,MAAM,CAAC,KAAK;4EAAC;4EACvD,cAAc,gBAAgB;gFAAE,SAAS;4EAAW;wEACtD;wEACA,WAAU;wEACV,aAAY;;;;;;kFAEd,6LAAC;wEAAE,WAAU;;4EAA6B;0FAC/B,6LAAC;gFAAK,WAAU;0FAA6C;;;;;;4EAAsB;;;;;;;;;;;;;0EAIhG,6LAAC;;kFACC,6LAAC;wEAAM,WAAU;kFAAiD;;;;;;kFAGlE,6LAAC;wEAAI,WAAU;;0FACb,6LAAC;gFACC,SAAS;oFACP,MAAM,aAAa;2FAAI;qFAAa;oFACpC,UAAU,CAAC,MAAM,GAAG;wFAAE,GAAG,MAAM;wFAAE,OAAO;oFAAO;oFAC/C,cAAc,gBAAgB;wFAAE,SAAS;oFAAW;gFACtD;gFACA,WAAW,CAAC,wGAAwG,EAClH,CAAC,OAAO,KAAK,IAAI,MAAM,MAAM,SACzB,6CACA,gEACJ;gFACF,OAAM;;kGAEN,6LAAC,yOAAS;wFAAC,MAAM;;;;;;oFAAM;;;;;;;0FAGzB,6LAAC;gFACC,SAAS;oFACP,MAAM,aAAa;2FAAI;qFAAa;oFACpC,UAAU,CAAC,MAAM,GAAG;wFAAE,GAAG,MAAM;wFAAE,OAAO;oFAAS;oFACjD,cAAc,gBAAgB;wFAAE,SAAS;oFAAW;gFACtD;gFACA,WAAW,CAAC,wGAAwG,EAClH,OAAO,KAAK,KAAK,WACb,6CACA,gEACJ;gFACF,OAAM;;kGAEN,6LAAC,8OAAW;wFAAC,MAAM;;;;;;oFAAM;;;;;;;0FAG3B,6LAAC;gFACC,SAAS;oFACP,MAAM,aAAa;2FAAI;qFAAa;oFACpC,UAAU,CAAC,MAAM,GAAG;wFAAE,GAAG,MAAM;wFAAE,OAAO;oFAAQ;oFAChD,cAAc,gBAAgB;wFAAE,SAAS;oFAAW;gFACtD;gFACA,WAAW,CAAC,wGAAwG,EAClH,OAAO,KAAK,KAAK,UACb,6CACA,gEACJ;gFACF,OAAM;;kGAEN,6LAAC,yOAAU;wFAAC,MAAM;;;;;;oFAAM;;;;;;;;;;;;;;;;;;;0EAM9B,6LAAC;;kFACC,6LAAC;wEAAM,WAAU;kFAAiD;;;;;;kFAGlE,6LAAC;wEAAI,WAAU;;0FACb,6LAAC;gFACC,SAAS;oFACP,MAAM,aAAa;2FAAI;qFAAa;oFACpC,UAAU,CAAC,MAAM,GAAG;wFAClB,GAAG,MAAM;wFACT,YAAY,OAAO,UAAU,KAAK,SAAS,WAAW;oFACxD;oFACA,cAAc,gBAAgB;wFAAE,SAAS;oFAAW;gFACtD;gFACA,WAAW,CAAC,+GAA+G,EACzH,OAAO,UAAU,KAAK,SAClB,6CACA,gEACJ;gFACF,OAAM;;kGAEN,6LAAC,6MAAI;wFAAC,MAAM;;;;;;oFAAM;;;;;;;0FAGpB,6LAAC;gFACC,SAAS;oFACP,MAAM,aAAa;2FAAI;qFAAa;oFACpC,UAAU,CAAC,MAAM,GAAG;wFAClB,GAAG,MAAM;wFACT,WAAW,OAAO,SAAS,KAAK,WAAW,WAAW;oFACxD;oFACA,cAAc,gBAAgB;wFAAE,SAAS;oFAAW;gFACtD;gFACA,WAAW,CAAC,+GAA+G,EACzH,OAAO,SAAS,KAAK,WACjB,6CACA,gEACJ;gFACF,OAAM;;kGAEN,6LAAC,mNAAM;wFAAC,MAAM;;;;;;oFAAM;;;;;;;0FAGtB,6LAAC;gFACC,SAAS;oFACP,MAAM,aAAa;2FAAI;qFAAa;oFACpC,UAAU,CAAC,MAAM,GAAG;wFAClB,GAAG,MAAM;wFACT,gBAAgB,OAAO,cAAc,KAAK,cAAc,SAAS;oFACnE;oFACA,cAAc,gBAAgB;wFAAE,SAAS;oFAAW;gFACtD;gFACA,WAAW,CAAC,+GAA+G,EACzH,OAAO,cAAc,KAAK,cACtB,6CACA,gEACJ;gFACF,OAAM;;kGAEN,6LAAC,4NAAS;wFAAC,MAAM;;;;;;oFAAM;;;;;;;;;;;;;;;;;;;;;;;;;kEAO/B,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEACC,SAAS;oEACP,IAAI,UAAU,GAAG;oEACjB,MAAM,aAAa;2EAAI;qEAAa;oEACpC,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,UAAU,CAAC,MAAM,CAAC,GAAG;wEAAC,UAAU,CAAC,MAAM;wEAAE,UAAU,CAAC,QAAQ,EAAE;qEAAC;oEACvF,cAAc,gBAAgB;wEAAE,SAAS;oEAAW;gEACtD;gEACA,UAAU,UAAU;gEACpB,WAAU;gEACV,OAAM;0EAEN,cAAA,6LAAC,gOAAS;oEAAC,MAAM;;;;;;;;;;;0EAEnB,6LAAC;gEACC,SAAS;oEACP,IAAI,UAAU,aAAa,MAAM,GAAG,GAAG;oEACvC,MAAM,aAAa;2EAAI;qEAAa;oEACpC,CAAC,UAAU,CAAC,MAAM,EAAE,UAAU,CAAC,QAAQ,EAAE,CAAC,GAAG;wEAAC,UAAU,CAAC,QAAQ,EAAE;wEAAE,UAAU,CAAC,MAAM;qEAAC;oEACvF,cAAc,gBAAgB;wEAAE,SAAS;oEAAW;gEACtD;gEACA,UAAU,UAAU,aAAa,MAAM,GAAG;gEAC1C,WAAU;gEACV,OAAM;0EAEN,cAAA,6LAAC,sOAAW;oEAAC,MAAM;;;;;;;;;;;0EAErB,6LAAC;gEACC,SAAS;oEACP,MAAM,aAAa,aAAa,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;oEACvD,cAAc,gBAAgB;wEAAE,SAAS;oEAAW;gEACtD;gEACA,UAAU,aAAa,MAAM,IAAI;gEACjC,WAAU;gEACV,OAAM;0EAEN,cAAA,6LAAC,uNAAM;oEAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;2CAxMZ,OAAO,EAAE;;;;;;;;;;;;;;;0CAmN3B,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,SAAS;4CACT,MAAM,aAA4B;mDAC7B;gDACH;oDACE,IAAI,IAAA,4KAAM;oDACV,OAAO,CAAC,QAAQ,EAAE,aAAa,MAAM,GAAG,GAAG;oDAC3C,OAAO;oDACP,OAAO;oDACP,YAAY;oDACZ,WAAW;oDACX,gBAAgB;gDAClB;6CACD;4CACD,cAAc,gBAAgB;gDAAE,SAAS;4CAAW;wCACpD;wCACA,WAAU;;0DAEV,6LAAC,6MAAI;gDAAC,MAAM;;;;;;4CAAM;;;;;;;kDAIpB,6LAAC;wCACC,SAAS;4CACP,mBAAmB;4CACnB,kBAAkB;wCACpB;wCACA,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;YAOX,CAAC;;;;;;;AAGP;IA9sCwB;;QAgEN,4KAAU;QAsBiC,8KAAY;;;MAtFjD"}}]
}